{"ast":null,"code":"var _jsxFileName = \"D:\\\\fashion-shirt-shop\\\\DATN\\\\src\\\\main\\\\resources\\\\templates\\\\fashionshop-ui\\\\src\\\\layouts\\\\GiamGia\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\nimport React, { useState } from \"react\";\nimport Filter from \"./Filter\";\nimport TableList from \"./TableList\";\nimport useGetDotGiamGia from \"./hooks/useGetDotGiamGia\";\nimport { useNavigate } from \"react-router-dom\";\nimport useNotify from \"./hooks/useNotify\";\nimport ConfirmDialog from \"./ConfirmDialog\";\nimport instanceAPIMain from \"../../configapi\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const updateDotGiamGia = (id, payload) => instanceAPIMain.put(`/dotGiamGia/${id}`, payload);\nexport const deleteDotGiamGia = id => instanceAPIMain.delete(`/dotGiamGia/${id}`);\nconst DisCountEvent = () => {\n  _s();\n  const {\n    data,\n    total,\n    loading,\n    filter,\n    pagination,\n    setFilter,\n    setPagination,\n    refresh\n  } = useGetDotGiamGia({\n    page: 0,\n    size: 5\n  });\n  const navigate = useNavigate();\n  // Bỏ useNotify, dùng toast thay thế hoàn toàn\n  // const { notify, Notification } = useNotify();\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [deleteId, setDeleteId] = useState(null);\n  const [loadingDel, setLoadingDel] = useState(false);\n  const handleEdit = row => {\n    navigate(`/discount-event/add?id=${row.id}`);\n  };\n  const handleView = row => {\n    navigate(`/discount-event/view?id=${row.id}`);\n  };\n  const handleDelete = id => {\n    setDeleteId(id);\n    setShowDeleteDialog(true);\n  };\n  const handleConfirmDelete = async () => {\n    try {\n      setLoadingDel(true);\n      await deleteDotGiamGia(deleteId);\n      toast.success(\"Xóa thành công\");\n      refresh();\n    } catch (e) {\n      toast.error(\"Xóa thất bại\");\n    } finally {\n      setLoadingDel(false);\n      setShowDeleteDialog(false);\n      setDeleteId(null);\n    }\n  };\n  const handleStatusChange = async (row, value) => {\n    try {\n      await updateDotGiamGia(row.id, {\n        ...row,\n        trangThai: value\n      });\n      toast.success(\"Cập nhật thành công\");\n      refresh();\n    } catch (e) {\n      toast.error(\"Cập nhật thất bại\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    children: [/*#__PURE__*/_jsxDEV(DashboardNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 3000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      filter: filter,\n      setFilter: setFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TableList, {\n      data: data,\n      loading: loading,\n      pagination: pagination,\n      setPagination: setPagination,\n      onView: handleView,\n      onEdit: handleEdit,\n      onDelete: handleDelete,\n      onStatusChange: handleStatusChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      open: showDeleteDialog,\n      title: \"B\\u1EA1n ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a \\u0111\\u1EE3t gi\\u1EA3m gi\\xE1 n\\xE0y?\",\n      onClose: () => setShowDeleteDialog(false),\n      onConfirm: handleConfirmDelete,\n      loading: loadingDel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 7\n  }, this);\n};\n_s(DisCountEvent, \"8UJABgN4+EwscY1yKy1Dmls1C0g=\", false, function () {\n  return [useGetDotGiamGia, useNavigate];\n});\n_c = DisCountEvent;\nexport default DisCountEvent;\nvar _c;\n$RefreshReg$(_c, \"DisCountEvent\");","map":{"version":3,"names":["DashboardLayout","DashboardNavbar","React","useState","Filter","TableList","useGetDotGiamGia","useNavigate","useNotify","ConfirmDialog","instanceAPIMain","toast","ToastContainer","jsxDEV","_jsxDEV","updateDotGiamGia","id","payload","put","deleteDotGiamGia","delete","DisCountEvent","_s","data","total","loading","filter","pagination","setFilter","setPagination","refresh","page","size","navigate","showDeleteDialog","setShowDeleteDialog","deleteId","setDeleteId","loadingDel","setLoadingDel","handleEdit","row","handleView","handleDelete","handleConfirmDelete","success","e","error","handleStatusChange","value","trangThai","children","fileName","_jsxFileName","lineNumber","columnNumber","position","autoClose","onView","onEdit","onDelete","onStatusChange","open","title","onClose","onConfirm","_c","$RefreshReg$"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/GiamGia/index.jsx"],"sourcesContent":["import DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\r\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\r\nimport React, { useState } from \"react\";\r\nimport Filter from \"./Filter\";\r\nimport TableList from \"./TableList\";\r\nimport useGetDotGiamGia from \"./hooks/useGetDotGiamGia\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport useNotify from \"./hooks/useNotify\";\r\nimport ConfirmDialog from \"./ConfirmDialog\";\r\nimport instanceAPIMain from \"../../configapi\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport const updateDotGiamGia = (id, payload) =>\r\n    instanceAPIMain.put(`/dotGiamGia/${id}`, payload);\r\n\r\nexport const deleteDotGiamGia = (id) =>\r\n    instanceAPIMain.delete(`/dotGiamGia/${id}`);\r\n\r\nconst DisCountEvent = () => {\r\n  const {\r\n    data,\r\n    total,\r\n    loading,\r\n    filter,\r\n    pagination,\r\n    setFilter,\r\n    setPagination,\r\n    refresh,\r\n  } = useGetDotGiamGia({\r\n    page: 0,\r\n    size: 5,\r\n  });\r\n  const navigate = useNavigate();\r\n  // Bỏ useNotify, dùng toast thay thế hoàn toàn\r\n  // const { notify, Notification } = useNotify();\r\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  const [loadingDel, setLoadingDel] = useState(false);\r\n\r\n  const handleEdit = (row) => {\r\n    navigate(`/discount-event/add?id=${row.id}`);\r\n  };\r\n\r\n  const handleView = (row) => {\r\n    navigate(`/discount-event/view?id=${row.id}`);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    setDeleteId(id);\r\n    setShowDeleteDialog(true);\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    try {\r\n      setLoadingDel(true);\r\n      await deleteDotGiamGia(deleteId);\r\n      toast.success(\"Xóa thành công\");\r\n      refresh();\r\n    } catch (e) {\r\n      toast.error(\"Xóa thất bại\");\r\n    } finally {\r\n      setLoadingDel(false);\r\n      setShowDeleteDialog(false);\r\n      setDeleteId(null);\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (row, value) => {\r\n    try {\r\n      await updateDotGiamGia(row.id, { ...row, trangThai: value });\r\n      toast.success(\"Cập nhật thành công\");\r\n      refresh();\r\n    } catch (e) {\r\n      toast.error(\"Cập nhật thất bại\");\r\n    }\r\n  };\r\n\r\n  return (\r\n      <DashboardLayout>\r\n        <DashboardNavbar />\r\n        <ToastContainer position=\"top-right\" autoClose={3000} />\r\n        <Filter filter={filter} setFilter={setFilter} />\r\n        <TableList\r\n            data={data}\r\n            loading={loading}\r\n            pagination={pagination}\r\n            setPagination={setPagination}\r\n            onView={handleView}\r\n            onEdit={handleEdit}\r\n            onDelete={handleDelete}\r\n            onStatusChange={handleStatusChange}\r\n        />\r\n        <ConfirmDialog\r\n            open={showDeleteDialog}\r\n            title=\"Bạn chắc chắn muốn xóa đợt giảm giá này?\"\r\n            onClose={() => setShowDeleteDialog(false)}\r\n            onConfirm={handleConfirmDelete}\r\n            loading={loadingDel}\r\n        />\r\n      </DashboardLayout>\r\n  );\r\n};\r\n\r\nexport default DisCountEvent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}