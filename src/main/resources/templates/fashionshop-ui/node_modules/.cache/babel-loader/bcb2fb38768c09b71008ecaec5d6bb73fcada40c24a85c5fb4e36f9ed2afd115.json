{"ast":null,"code":"var _jsxFileName = \"D:\\\\fashion-shirt-shop\\\\DATN\\\\src\\\\main\\\\resources\\\\templates\\\\fashionshop-ui\\\\src\\\\layouts\\\\admin\\\\BanHangTaiQuay\\\\component\\\\ProductSelectionModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react'; // Thêm useMemo\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, Box, Typography, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Slider, MenuItem, Select, FormControl, InputLabel, IconButton, CircularProgress } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport SearchIcon from '@mui/icons-material/Search';\nimport ConfirmationModal from './ConfirmationModal';\n\n// Import SoftUI components\nimport SoftBox from \"../../../../components/SoftBox\";\nimport SoftTypography from \"../../../../components/SoftTypography\";\n\n// URL API của bạn\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:8080/chiTietSanPham/allctspgiamgia\";\nconst BASE_IMAGE_URL = \"http://localhost:8080/\";\n\n// Hàm format tiền tệ\nconst formatCurrency = amount => {\n  if (typeof amount !== 'number' || isNaN(amount)) {\n    return 'N/A';\n  }\n  return new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND'\n  }).format(amount);\n};\nfunction ProductSelectionModal({\n  open,\n  onClose,\n  onSelectProduct\n}) {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [confirmationModalOpen, setConfirmationModalOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [priceRange, setPriceRange] = useState([0, 10000000]);\n  const [minMaxActualPrice, setMinMaxActualPrice] = useState([0, 10000000]);\n  const [selectedCategory, setSelectedCategory] = useState('Tất cả');\n  const [selectedMaterial, setSelectedMaterial] = useState('Tất cả');\n  const [selectedSize, setSelectedSize] = useState('Tất cả');\n  const [selectedCollar, setSelectedCollar] = useState('Tất cả');\n  const [selectedSleeve, setSelectedSleeve] = useState('Tất cả');\n  const [selectedBrand, setSelectedBrand] = useState('Tất cả');\n  const [selectedColor, setSelectedColor] = useState('Tất cả');\n\n  // Hàm để fetch dữ liệu sản phẩm từ API\n  const fetchProducts = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(API_URL);\n      const fetchedProducts = response.data.map(p => ({\n        ...p,\n        uniqueId: `${p.maSanPham || ''}-${p.kichThuoc || ''}-${p.mauSac || ''}-${p.id || Math.random()}`\n      }));\n      console.log(\"LOG 2 (ProductSelectionModal): Dữ liệu sản phẩm đã được tải:\", fetchedProducts);\n      setProducts(fetchedProducts);\n      if (fetchedProducts.length > 0) {\n        const allPrices = fetchedProducts.map(p => p.gia).filter(price => typeof price === 'number' && !isNaN(price));\n        if (allPrices.length > 0) {\n          const minP = Math.min(...allPrices);\n          const maxP = Math.max(...allPrices);\n          setMinMaxActualPrice([minP, maxP]);\n          setPriceRange([minP, maxP]);\n        }\n      }\n    } catch (err) {\n      console.error(\"Lỗi khi tải sản phẩm:\", err);\n      setError(\"Không thể tải sản phẩm. Vui lòng thử lại sau.\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  // useEffect để tải dữ liệu khi modal mở\n  useEffect(() => {\n    if (open) {\n      fetchProducts();\n    }\n  }, [open, fetchProducts]);\n\n  // TỐI ƯU HÓA 2: Dùng useMemo để chỉ tính toán lại danh sách các bộ lọc khi `products` thay đổi.\n  const getUniqueValues = useCallback(key => {\n    const values = products.map(p => p[key]);\n    return ['Tất cả', ...new Set(values.filter(v => v !== null && v !== undefined && v !== ''))];\n  }, [products]);\n  const categories = useMemo(() => getUniqueValues('danhMuc'), [getUniqueValues]);\n  const materials = useMemo(() => getUniqueValues('chatLieu'), [getUniqueValues]);\n  const sizes = useMemo(() => getUniqueValues('kichThuoc').sort((a, b) => {\n    var _order$a, _order$b;\n    if (a === 'Tất cả') return -1;\n    if (b === 'Tất cả') return 1;\n    const order = {\n      'XS': 0,\n      'S': 1,\n      'M': 2,\n      'L': 3,\n      'XL': 4,\n      'XXL': 5,\n      'XXXL': 6\n    };\n    return ((_order$a = order[a]) !== null && _order$a !== void 0 ? _order$a : 99) - ((_order$b = order[b]) !== null && _order$b !== void 0 ? _order$b : 99);\n  }), [getUniqueValues]);\n  const collars = useMemo(() => getUniqueValues('coAo'), [getUniqueValues]);\n  const sleeves = useMemo(() => getUniqueValues('tayAo'), [getUniqueValues]);\n  const brands = useMemo(() => getUniqueValues('thuongHieu'), [getUniqueValues]);\n  const colors = useMemo(() => getUniqueValues('mauSac'), [getUniqueValues]);\n\n  // TỐI ƯU HÓA 3: Dùng useMemo để ghi nhớ kết quả lọc. Hàm filter chỉ chạy lại khi\n  // danh sách sản phẩm gốc hoặc một trong các bộ lọc thay đổi.\n  const filteredProducts = useMemo(() => {\n    return products.filter(product => {\n      const lowercasedSearchTerm = searchTerm.toLowerCase();\n      const matchesSearch = product.tenSanPham && product.tenSanPham.toLowerCase().includes(lowercasedSearchTerm) || product.maSanPham && product.maSanPham.toLowerCase().includes(lowercasedSearchTerm);\n      const matchesPrice = product.gia >= priceRange[0] && product.gia <= priceRange[1];\n      const matchesCategory = selectedCategory === 'Tất cả' || product.danhMuc === selectedCategory;\n      const matchesMaterial = selectedMaterial === 'Tất cả' || product.chatLieu === selectedMaterial;\n      const matchesSize = selectedSize === 'Tất cả' || product.kichThuoc === selectedSize;\n      const matchesCollar = selectedCollar === 'Tất cả' || product.coAo === selectedCollar;\n      const matchesSleeve = selectedSleeve === 'Tất cả' || product.tayAo === selectedSleeve;\n      const matchesBrand = selectedBrand === 'Tất cả' || product.thuongHieu === selectedBrand;\n      const matchesColor = selectedColor === 'Tất cả' || product.mauSac === selectedColor;\n      return matchesSearch && matchesPrice && matchesCategory && matchesMaterial && matchesSize && matchesCollar && matchesSleeve && matchesBrand && matchesColor;\n    });\n  }, [products, searchTerm, priceRange, selectedCategory, selectedMaterial, selectedSize, selectedCollar, selectedSleeve, selectedBrand, selectedColor]);\n  const handlePriceChange = (event, newValue) => {\n    setPriceRange(newValue);\n  };\n  const handleCloseAndReset = () => {\n    setSearchTerm('');\n    setPriceRange(minMaxActualPrice);\n    setSelectedCategory('Tất cả');\n    setSelectedMaterial('Tất cả');\n    setSelectedSize('Tất cả');\n    setSelectedCollar('Tất cả');\n    setSelectedSleeve('Tất cả');\n    setSelectedBrand('Tất cả');\n    setSelectedColor('Tất cả');\n    setProducts([]);\n    onClose();\n  };\n  const handleOpenConfirmation = product => {\n    setSelectedProduct(product);\n    setQuantity(1);\n    setConfirmationModalOpen(true);\n  };\n  const handleConfirmSelection = () => {\n    if (selectedProduct) {\n      onSelectProduct({\n        ...selectedProduct,\n        quantity\n      });\n    }\n    setConfirmationModalOpen(false);\n    handleCloseAndReset();\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleCloseAndReset,\n    fullWidth: true,\n    maxWidth: false // Tắt giới hạn chiều rộng mặc định\n    ,\n    sx: {\n      '& .MuiDialog-paper': {\n        height: '80vh',\n        width: '90vw',\n        maxWidth: 'none'\n      }\n    }\n\n    // Đặt chiều rộng tùy chỉnh\n    ,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n          variant: \"h5\",\n          fontWeight: \"medium\",\n          color: \"info\",\n          children: \"T\\xECm ki\\u1EBFm s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleCloseAndReset,\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      dividers: true,\n      children: [/*#__PURE__*/_jsxDEV(SoftBox, {\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'flex-start',\n            mb: 2,\n            flexWrap: 'wrap',\n            gap: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: {\n                xs: '100%',\n                md: 450\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"T\\xECm ki\\u1EBFm s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              placeholder: \"Nh\\u1EADp t\\xEAn ho\\u1EB7c m\\xE3 s\\u1EA3n ph\\u1EA9m \",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: {\n                xs: '100%',\n                md: 300\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"L\\u1ECDc theo gi\\xE1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              gutterBottom: true,\n              sx: {\n                textAlign: 'center',\n                mt: 1\n              },\n              children: [formatCurrency(priceRange[0]), \" - \", formatCurrency(priceRange[1])]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Slider, {\n              value: priceRange,\n              onChange: handlePriceChange,\n              min: minMaxActualPrice[0],\n              max: minMaxActualPrice[1],\n              valueLabelDisplay: \"off\",\n              disableSwap: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 2,\n            mb: 2\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"Danh m\\u1EE5c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedCategory,\n              onChange: e => setSelectedCategory(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: categories.map(cat => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: cat,\n                children: cat\n              }, cat, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"Th\\u01B0\\u01A1ng hi\\u1EC7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedBrand,\n              onChange: e => setSelectedBrand(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: brands.map(brand => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: brand,\n                children: brand\n              }, brand, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 31\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"M\\xE0u s\\u1EAFc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedColor,\n              onChange: e => setSelectedColor(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: colors.map(color => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: color,\n                children: color\n              }, color, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 31\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"Ch\\u1EA5t li\\u1EC7u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedMaterial,\n              onChange: e => setSelectedMaterial(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: materials.map(mat => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: mat,\n                children: mat\n              }, mat, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 32\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"K\\xEDch th\\u01B0\\u1EDBc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedSize,\n              onChange: e => setSelectedSize(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: sizes.map(size => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: size,\n                children: size\n              }, size, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"C\\u1ED5 \\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedCollar,\n              onChange: e => setSelectedCollar(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: collars.map(collar => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: collar,\n                children: collar\n              }, collar, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n              variant: \"button\",\n              fontWeight: \"bold\",\n              sx: {\n                mb: 0.5,\n                display: 'block'\n              },\n              children: \"Tay \\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedSleeve,\n              onChange: e => setSelectedSleeve(e.target.value),\n              sx: {\n                minWidth: 160,\n                height: 40\n              },\n              children: sleeves.map(sleeve => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: sleeve,\n                children: sleeve\n              }, sleeve, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 33\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(SoftBox, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"200px\",\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n          color: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(SoftTypography, {\n          variant: \"body2\",\n          ml: 2,\n          children: \"\\u0110ang t\\u1EA3i s\\u1EA3n ph\\u1EA9m...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 21\n      }, this) : error ? /*#__PURE__*/_jsxDEV(SoftBox, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"200px\",\n        children: /*#__PURE__*/_jsxDEV(SoftTypography, {\n          variant: \"body2\",\n          color: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        sx: {\n          maxHeight: 500,\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          stickyHeader: true,\n          \"aria-label\": \"sticky product table\",\n          sx: {\n            tableLayout: 'fixed',\n            minWidth: 1500\n          },\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"\\u1EA2nh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 150,\n                  fontWeight: 'bold'\n                },\n                children: \"T\\xEAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  minWidth: 100,\n                  fontWeight: 'bold'\n                },\n                children: \"M\\xE3 SP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"Danh m\\u1EE5c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"Th\\u01B0\\u01A1ng hi\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"M\\xE0u s\\u1EAFc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"Ch\\u1EA5t li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"K\\xEDch th\\u01B0\\u1EDBc\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"C\\u1ED5 \\xE1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"Tay \\xE1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"Gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"S\\xF4\\u0301 l\\u01B0\\u01A1\\u0323ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  minWidth: 120,\n                  fontWeight: 'bold'\n                },\n                children: \"Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: filteredProducts.length > 0 ? filteredProducts.map(product => /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 80,\n                  p: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    position: 'relative',\n                    width: 50,\n                    height: 50\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Box, {\n                    component: \"img\",\n                    alt: product.tenSanPham,\n                    src: product.duongDanAnh ? `${BASE_IMAGE_URL}${product.duongDanAnh}` : \"https://dummyimage.com/50x50/cccccc/000000&text=N/A\",\n                    sx: {\n                      width: '100%',\n                      height: '100%',\n                      objectFit: 'cover',\n                      borderRadius: '4px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 49\n                  }, this), product.phanTramGiam > 0 && /*#__PURE__*/_jsxDEV(SoftTypography, {\n                    variant: \"caption\",\n                    color: \"white\",\n                    fontWeight: \"bold\",\n                    sx: {\n                      position: 'absolute',\n                      top: 0,\n                      left: 0,\n                      backgroundColor: 'success.main',\n                      // Màu xanh lá cây từ theme\n                      padding: '2px 5px',\n                      borderRadius: '4px',\n                      fontSize: '0.7rem',\n                      lineHeight: 1.2\n                    },\n                    children: [product.phanTramGiam, \"% OFF\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 51\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 47\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  width: 150\n                },\n                children: product.tenSanPham || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  width: 120\n                },\n                children: product.maSanPham || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  width: 120\n                },\n                children: product.danhMuc || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  width: 120\n                },\n                children: product.thuongHieu || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  width: 100\n                },\n                children: product.mauSac || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"left\",\n                sx: {\n                  width: 100\n                },\n                children: product.chatLieu || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 80\n                },\n                children: product.kichThuoc || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 80\n                },\n                children: product.coAo || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 80\n                },\n                children: product.tayAo || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                sx: {\n                  width: 120\n                },\n                children: product.phanTramGiam > 0 && product.giaTienSauKhiGiam < product.gia ? /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(SoftTypography, {\n                    component: \"span\" // Dùng span để không xuống dòng\n                    ,\n                    variant: \"body2\",\n                    color: \"text\",\n                    sx: {\n                      textDecoration: 'line-through',\n                      fontSize: '0.85rem'\n                    },\n                    children: formatCurrency(product.gia)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 444,\n                    columnNumber: 55\n                  }, this), /*#__PURE__*/_jsxDEV(SoftTypography, {\n                    variant: \"body2\",\n                    color: \"error\",\n                    fontWeight: \"bold\",\n                    sx: {\n                      display: 'block'\n                    } // Hiển thị trên một dòng mới\n                    ,\n                    children: formatCurrency(product.giaTienSauKhiGiam)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 55\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 53\n                }, this) :\n                /*#__PURE__*/\n                // Nếu không giảm giá, chỉ hiển thị giá gốc\n                _jsxDEV(SoftTypography, {\n                  variant: \"body2\",\n                  fontWeight: \"bold\",\n                  children: formatCurrency(product.gia)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 80\n                },\n                children: product.soLuongTonKho || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  width: 100\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"info\",\n                  onClick: () => handleOpenConfirmation(product),\n                  sx: {\n                    minWidth: 60,\n                    p: 0\n                  } // Đảm bảo nút không bị quá to\n                  ,\n                  children: \"CH\\u1ECCN\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 45\n              }, this)]\n            }, product.idChiTietSanPham, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 41\n            }, this)) : /*#__PURE__*/_jsxDEV(TableRow, {\n              children: /*#__PURE__*/_jsxDEV(TableCell, {\n                colSpan: 13,\n                align: \"center\",\n                children: /*#__PURE__*/_jsxDEV(SoftTypography, {\n                  variant: \"body2\",\n                  color: \"text\",\n                  children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m n\\xE0o ph\\xF9 h\\u1EE3p.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleCloseAndReset,\n        color: \"secondary\",\n        children: \"\\u0110\\xF3ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      open: confirmationModalOpen,\n      onClose: () => setConfirmationModalOpen(false),\n      onConfirm: handleConfirmSelection,\n      product: selectedProduct,\n      quantity: quantity,\n      setQuantity: setQuantity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 11\n  }, this);\n}\n\n// THÊM TOÀN BỘ KHỐI NÀY VÀO CUỐI FILE\n_s(ProductSelectionModal, \"V8QGs0WHS5wIJ3d2TgWBZzF24io=\");\n_c = ProductSelectionModal;\nProductSelectionModal.propTypes = {\n  // 'open' phải là một giá trị boolean (true/false) và là bắt buộc.\n  open: PropTypes.bool.isRequired,\n  // 'onClose' phải là một hàm và là bắt buộc.\n  onClose: PropTypes.func.isRequired,\n  // 'onSelectProduct' phải là một hàm và là bắt buộc.\n  onSelectProduct: PropTypes.func.isRequired\n};\nexport default ProductSelectionModal;\nvar _c;\n$RefreshReg$(_c, \"ProductSelectionModal\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","PropTypes","Dialog","DialogTitle","DialogContent","DialogActions","Button","TextField","Box","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Slider","MenuItem","Select","FormControl","InputLabel","IconButton","CircularProgress","CloseIcon","SearchIcon","ConfirmationModal","SoftBox","SoftTypography","jsxDEV","_jsxDEV","API_URL","BASE_IMAGE_URL","formatCurrency","amount","isNaN","Intl","NumberFormat","style","currency","format","ProductSelectionModal","open","onClose","onSelectProduct","_s","products","setProducts","loading","setLoading","error","setError","confirmationModalOpen","setConfirmationModalOpen","selectedProduct","setSelectedProduct","quantity","setQuantity","searchTerm","setSearchTerm","priceRange","setPriceRange","minMaxActualPrice","setMinMaxActualPrice","selectedCategory","setSelectedCategory","selectedMaterial","setSelectedMaterial","selectedSize","setSelectedSize","selectedCollar","setSelectedCollar","selectedSleeve","setSelectedSleeve","selectedBrand","setSelectedBrand","selectedColor","setSelectedColor","fetchProducts","response","get","fetchedProducts","data","map","p","uniqueId","maSanPham","kichThuoc","mauSac","id","Math","random","console","log","length","allPrices","gia","filter","price","minP","min","maxP","max","err","getUniqueValues","key","values","Set","v","undefined","categories","materials","sizes","sort","a","b","_order$a","_order$b","order","collars","sleeves","brands","colors","filteredProducts","product","lowercasedSearchTerm","toLowerCase","matchesSearch","tenSanPham","includes","matchesPrice","matchesCategory","danhMuc","matchesMaterial","chatLieu","matchesSize","matchesCollar","coAo","matchesSleeve","tayAo","matchesBrand","thuongHieu","matchesColor","handlePriceChange","event","newValue","handleCloseAndReset","handleOpenConfirmation","handleConfirmSelection","fullWidth","maxWidth","sx","height","width","children","display","justifyContent","alignItems","variant","fontWeight","color","fileName","_jsxFileName","lineNumber","columnNumber","onClick","dividers","mb","flexWrap","gap","xs","md","placeholder","value","onChange","e","target","gutterBottom","textAlign","mt","valueLabelDisplay","disableSwap","minWidth","cat","brand","mat","size","collar","sleeve","ml","component","maxHeight","overflowX","stickyHeader","tableLayout","align","hover","position","alt","src","duongDanAnh","objectFit","borderRadius","phanTramGiam","top","left","backgroundColor","padding","fontSize","lineHeight","giaTienSauKhiGiam","textDecoration","soLuongTonKho","idChiTietSanPham","colSpan","onConfirm","_c","propTypes","bool","isRequired","func","$RefreshReg$"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/admin/BanHangTaiQuay/component/ProductSelectionModal.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react'; // Thêm useMemo\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  TextField,\n  Box,\n  Typography,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Slider,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  IconButton,\n  CircularProgress,\n} from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport SearchIcon from '@mui/icons-material/Search';\nimport ConfirmationModal from './ConfirmationModal';\n\n// Import SoftUI components\nimport SoftBox from \"../../../../components/SoftBox\";\nimport SoftTypography from \"../../../../components/SoftTypography\";\n\n// URL API của bạn\nconst API_URL = \"http://localhost:8080/chiTietSanPham/allctspgiamgia\";\nconst BASE_IMAGE_URL = \"http://localhost:8080/\";\n\n// Hàm format tiền tệ\nconst formatCurrency = (amount) => {\n  if (typeof amount !== 'number' || isNaN(amount)) {\n    return 'N/A';\n  }\n  return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(amount);\n};\n\nfunction ProductSelectionModal({ open, onClose, onSelectProduct }) {\nconst [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [confirmationModalOpen, setConfirmationModalOpen] = useState(false);\n    const [selectedProduct, setSelectedProduct] = useState(null); \n    const [quantity, setQuantity] = useState(1);\n    const [searchTerm, setSearchTerm] = useState('');\n    const [priceRange, setPriceRange] = useState([0, 10000000]);\n    const [minMaxActualPrice, setMinMaxActualPrice] = useState([0, 10000000]);\n    const [selectedCategory, setSelectedCategory] = useState('Tất cả');\n    const [selectedMaterial, setSelectedMaterial] = useState('Tất cả');\n    const [selectedSize, setSelectedSize] = useState('Tất cả');\n    const [selectedCollar, setSelectedCollar] = useState('Tất cả');\n    const [selectedSleeve, setSelectedSleeve] = useState('Tất cả');\n    const [selectedBrand, setSelectedBrand] = useState('Tất cả');\n    const [selectedColor, setSelectedColor] = useState('Tất cả');\n\n  // Hàm để fetch dữ liệu sản phẩm từ API\n  const fetchProducts = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(API_URL);\n      const fetchedProducts = response.data.map(p => ({\n        ...p,\n        uniqueId: `${p.maSanPham || ''}-${p.kichThuoc || ''}-${p.mauSac || ''}-${p.id || Math.random()}`\n      }));\n      console.log(\"LOG 2 (ProductSelectionModal): Dữ liệu sản phẩm đã được tải:\", fetchedProducts);\n      setProducts(fetchedProducts);\n      if (fetchedProducts.length > 0) {\n        const allPrices = fetchedProducts.map(p => p.gia).filter(price => typeof price === 'number' && !isNaN(price));\n        if (allPrices.length > 0) {\n          const minP = Math.min(...allPrices);\n          const maxP = Math.max(...allPrices);\n          setMinMaxActualPrice([minP, maxP]);\n          setPriceRange([minP, maxP]);\n        }\n      }\n    } catch (err) {\n      console.error(\"Lỗi khi tải sản phẩm:\", err);\n      setError(\"Không thể tải sản phẩm. Vui lòng thử lại sau.\");\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  // useEffect để tải dữ liệu khi modal mở\n  useEffect(() => {\n    if (open) {\n      fetchProducts();\n    }\n  }, [open, fetchProducts]);\n\n  // TỐI ƯU HÓA 2: Dùng useMemo để chỉ tính toán lại danh sách các bộ lọc khi `products` thay đổi.\n  const getUniqueValues = useCallback((key) => {\n    const values = products.map(p => p[key]);\n    return ['Tất cả', ...new Set(values.filter(v => v !== null && v !== undefined && v !== ''))];\n  }, [products]);\n\n  const categories = useMemo(() => getUniqueValues('danhMuc'), [getUniqueValues]);\n  const materials = useMemo(() => getUniqueValues('chatLieu'), [getUniqueValues]);\n  const sizes = useMemo(() => getUniqueValues('kichThuoc').sort((a,b) => {\n    if (a === 'Tất cả') return -1;\n    if (b === 'Tất cả') return 1;\n    const order = { 'XS': 0, 'S': 1, 'M': 2, 'L': 3, 'XL': 4, 'XXL': 5, 'XXXL': 6 };\n    return (order[a] ?? 99) - (order[b] ?? 99);\n  }), [getUniqueValues]);\n  const collars = useMemo(() => getUniqueValues('coAo'), [getUniqueValues]);\n  const sleeves = useMemo(() => getUniqueValues('tayAo'), [getUniqueValues]);\n  const brands = useMemo(() => getUniqueValues('thuongHieu'), [getUniqueValues]);\n  const colors = useMemo(() => getUniqueValues('mauSac'), [getUniqueValues]);\n\n  // TỐI ƯU HÓA 3: Dùng useMemo để ghi nhớ kết quả lọc. Hàm filter chỉ chạy lại khi\n  // danh sách sản phẩm gốc hoặc một trong các bộ lọc thay đổi.\n  const filteredProducts = useMemo(() => {\n    return products.filter(product => {\n        const lowercasedSearchTerm = searchTerm.toLowerCase();\n        const matchesSearch =\n          (product.tenSanPham && product.tenSanPham.toLowerCase().includes(lowercasedSearchTerm)) ||\n          (product.maSanPham && product.maSanPham.toLowerCase().includes(lowercasedSearchTerm));\n\n        const matchesPrice = product.gia >= priceRange[0] && product.gia <= priceRange[1];\n\n        const matchesCategory = selectedCategory === 'Tất cả' || product.danhMuc === selectedCategory;\n        const matchesMaterial = selectedMaterial === 'Tất cả' || product.chatLieu === selectedMaterial;\n        const matchesSize = selectedSize === 'Tất cả' || product.kichThuoc === selectedSize;\n        const matchesCollar = selectedCollar === 'Tất cả' || product.coAo === selectedCollar;\n        const matchesSleeve = selectedSleeve === 'Tất cả' || product.tayAo === selectedSleeve;\n        const matchesBrand = selectedBrand === 'Tất cả' || product.thuongHieu === selectedBrand;\n        const matchesColor = selectedColor === 'Tất cả' || product.mauSac === selectedColor;\n\n        return (\n          matchesSearch &&\n          matchesPrice &&\n          matchesCategory &&\n          matchesMaterial &&\n          matchesSize &&\n          matchesCollar &&\n          matchesSleeve &&\n          matchesBrand &&\n          matchesColor\n        );\n      });\n  }, [products, searchTerm, priceRange, selectedCategory, selectedMaterial, selectedSize, selectedCollar, selectedSleeve, selectedBrand, selectedColor]);\n\n  const handlePriceChange = (event, newValue) => {\n    setPriceRange(newValue);\n  };\n\n  const handleCloseAndReset = () => {\n    setSearchTerm('');\n    setPriceRange(minMaxActualPrice);\n    setSelectedCategory('Tất cả');\n    setSelectedMaterial('Tất cả');\n    setSelectedSize('Tất cả');\n    setSelectedCollar('Tất cả');\n    setSelectedSleeve('Tất cả');\n    setSelectedBrand('Tất cả');\n    setSelectedColor('Tất cả');\n    setProducts([]);\n    onClose();\n  };\n    const handleOpenConfirmation = (product) => {\n        setSelectedProduct(product);\n        setQuantity(1);\n        setConfirmationModalOpen(true);\n    };\n\n    const handleConfirmSelection = () => {\n        if (selectedProduct) {\n            onSelectProduct({ ...selectedProduct, quantity });\n        }\n        setConfirmationModalOpen(false);\n        handleCloseAndReset();\n    };\n    return (\n          <Dialog \n      open={open} \n      onClose={handleCloseAndReset} \n     \n       fullWidth={true}\n   maxWidth={false} // Tắt giới hạn chiều rộng mặc định\n      sx={{ '& .MuiDialog-paper': {  height: '80vh',width: '90vw', maxWidth: 'none' } }}\n  \n      // Đặt chiều rộng tùy chỉnh\n    >\n            <DialogTitle>\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <SoftTypography variant=\"h5\" fontWeight=\"medium\" color=\"info\">\n                        Tìm kiếm sản phẩm\n                    </SoftTypography>\n                    <IconButton onClick={handleCloseAndReset}>\n                        <CloseIcon />\n                    </IconButton>\n                </Box>\n            </DialogTitle>\n            <DialogContent dividers>\n                {/* Phần bộ lọc */}\n                <SoftBox mb={2}>\n                  {/* Box lớn chứa cả hàng bộ lọc trên cùng */}\n{/* Box lớn chứa cả hàng bộ lọc trên cùng */}\n<Box sx={{ display: 'flex', alignItems: 'flex-start', mb: 2, flexWrap: 'wrap', gap: 3 }}>\n\n    {/* --- KHỐI TÌM KIẾM (BÊN TRÁI) --- */}\n    {/* THAY ĐỔI Ở ĐÂY: Đặt chiều rộng cụ thể, ví dụ 450px */}\n    <Box sx={{ width: { xs: '100%', md: 450 } }}>\n        {/* 1. Tiêu đề in đậm */}\n        <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n            Tìm kiếm sản phẩm\n        </SoftTypography>\n\n        {/* 2. Ô nhập liệu */}\n        <TextField\n            placeholder=\"Nhập tên hoặc mã sản phẩm \"\n            variant=\"outlined\"\n            fullWidth \n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n           \n        />\n    </Box>\n\n    {/* --- KHỐI LỌC GIÁ (BÊN PHẢI) --- */}\n    {/* Khối này giữ nguyên */}\n    <Box sx={{ width: { xs: '100%', md: 300 } }}>\n        {/* 1. Tiêu đề in đậm cho bộ lọc giá */}\n        <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n            Lọc theo giá\n        </SoftTypography>\n\n        {/* 2. Hiển thị khoảng giá đã chọn */}\n        <Typography variant=\"body2\" gutterBottom sx={{ textAlign: 'center', mt: 1 }}>\n            {formatCurrency(priceRange[0])} - {formatCurrency(priceRange[1])}\n        </Typography>\n\n        {/* 3. Thanh trượt giá */}\n        <Slider\n            value={priceRange}\n            onChange={handlePriceChange}\n            min={minMaxActualPrice[0]}\n            max={minMaxActualPrice[1]}\n            valueLabelDisplay=\"off\"\n            disableSwap\n        />\n    </Box>\n\n</Box>\n\n<Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 2, mb: 2 }}> {/* Tăng gap lên một chút */}\n  \n  {/* Bộ lọc Danh mục */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Danh mục\n    </SoftTypography>\n    <Select\n      value={selectedCategory}\n      onChange={(e) => setSelectedCategory(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {categories.map((cat) => (<MenuItem key={cat} value={cat}>{cat}</MenuItem>))}\n    </Select>\n  </Box>\n\n  {/* Bộ lọc Thương hiệu */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Thương hiệu\n    </SoftTypography>\n    <Select\n      value={selectedBrand}\n      onChange={(e) => setSelectedBrand(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {brands.map((brand) => (<MenuItem key={brand} value={brand}>{brand}</MenuItem>))}\n    </Select>\n  </Box>\n\n  {/* Bộ lọc Màu sắc */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Màu sắc\n    </SoftTypography>\n    <Select\n      value={selectedColor}\n      onChange={(e) => setSelectedColor(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {colors.map((color) => (<MenuItem key={color} value={color}>{color}</MenuItem>))}\n    </Select>\n  </Box>\n\n  {/* Bộ lọc Chất liệu */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Chất liệu\n    </SoftTypography>\n    <Select\n      value={selectedMaterial}\n      onChange={(e) => setSelectedMaterial(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {materials.map((mat) => (<MenuItem key={mat} value={mat}>{mat}</MenuItem>))}\n    </Select>\n  </Box>\n\n  {/* Bộ lọc Kích thước */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Kích thước\n    </SoftTypography>\n    <Select\n      value={selectedSize}\n      onChange={(e) => setSelectedSize(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {sizes.map((size) => (<MenuItem key={size} value={size}>{size}</MenuItem>))}\n    </Select>\n  </Box>\n\n  {/* Bộ lọc Cổ áo */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Cổ áo\n    </SoftTypography>\n    <Select\n      value={selectedCollar}\n      onChange={(e) => setSelectedCollar(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {collars.map((collar) => (<MenuItem key={collar} value={collar}>{collar}</MenuItem>))}\n    </Select>\n  </Box>\n\n  {/* Bộ lọc Tay áo */}\n  <Box>\n    <SoftTypography variant=\"button\" fontWeight=\"bold\" sx={{ mb: 0.5, display: 'block' }}>\n      Tay áo\n    </SoftTypography>\n    <Select\n      value={selectedSleeve}\n      onChange={(e) => setSelectedSleeve(e.target.value)}\n      sx={{ minWidth: 160, height: 40 }}\n    >\n      {sleeves.map((sleeve) => (<MenuItem key={sleeve} value={sleeve}>{sleeve}</MenuItem>))}\n    </Select>\n  </Box>\n\n</Box>\n                </SoftBox>\n\n                {/* Bảng hiển thị sản phẩm */}\n                {loading ? (\n                    <SoftBox display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"200px\">\n                        <CircularProgress color=\"info\" />\n                        <SoftTypography variant=\"body2\" ml={2}>Đang tải sản phẩm...</SoftTypography>\n                    </SoftBox>\n                ) : error ? (\n                    <SoftBox display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"200px\">\n                        <SoftTypography variant=\"body2\" color=\"error\">{error}</SoftTypography>\n                    </SoftBox>\n                ) : (\n                    <TableContainer component={Paper} sx={{ maxHeight: 500, overflowX: 'auto' }}>\n                        <Table stickyHeader aria-label=\"sticky product table\" sx={{ tableLayout: 'fixed', minWidth: 1500 }}>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell align=\"center\" sx={{ width: 120, fontWeight: 'bold' }}>Ảnh</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 150, fontWeight: 'bold' }}>Tên</TableCell>\n                                    <TableCell align=\"left\" sx={{ minWidth: 100, fontWeight: 'bold' }}>Mã SP</TableCell>\n                                    <TableCell align=\"left\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Danh mục</TableCell>\n                                    <TableCell align=\"left\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Thương hiệu</TableCell>\n                                    <TableCell align=\"left\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Màu sắc</TableCell>\n                                    <TableCell align=\"left\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Chất liệu</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Kích thước</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Cổ áo</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Tay áo</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Giá</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Số lượng</TableCell>\n                                    <TableCell align=\"center\" sx={{ minWidth: 120, fontWeight: 'bold' }}>Thao tác</TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {filteredProducts.length > 0 ? (\n                                    filteredProducts.map((product) => (\n                                        <TableRow key={product.idChiTietSanPham} hover>\n                                            <TableCell align=\"center\" sx={{ width: 80, p: 1 }}>\n                                              {/* Box container để định vị nhãn giảm giá */}\n                                              <Box sx={{ position: 'relative', width: 50, height: 50 }}>\n                                                {/* Ảnh sản phẩm */}\n                                                <Box\n                                                  component=\"img\"\n                                                  alt={product.tenSanPham}\n                                                  src={product.duongDanAnh ? `${BASE_IMAGE_URL}${product.duongDanAnh}` : \"https://dummyimage.com/50x50/cccccc/000000&text=N/A\"}\n                                                  sx={{\n                                                    width: '100%',\n                                                    height: '100%',\n                                                    objectFit: 'cover',\n                                                    borderRadius: '4px'\n                                                  }}\n                                                />\n                                                {/* Nhãn giảm giá (chỉ hiển thị khi phanTramGiam > 0) */}\n                                                {product.phanTramGiam > 0 && (\n                                                  <SoftTypography\n                                                    variant=\"caption\"\n                                                    color=\"white\"\n                                                    fontWeight=\"bold\"\n                                                    sx={{\n                                                      position: 'absolute',\n                                                      top: 0,\n                                                      left: 0,\n                                                      backgroundColor: 'success.main', // Màu xanh lá cây từ theme\n                                                      padding: '2px 5px',\n                                                      borderRadius: '4px',\n                                                      fontSize: '0.7rem',\n                                                      lineHeight: 1.2\n                                                    }}\n                                                  >\n                                                    {product.phanTramGiam}% OFF\n                                                  </SoftTypography>\n                                                )}\n                                              </Box>\n                                            </TableCell>\n                                            <TableCell align=\"left\" sx={{ width: 150 }}>{product.tenSanPham || 'N/A'}</TableCell>\n                                            <TableCell align=\"left\" sx={{ width: 120 }}>{product.maSanPham || 'N/A'}</TableCell>\n                                            <TableCell align=\"left\" sx={{ width: 120 }}>{product.danhMuc || 'N/A'}</TableCell>\n                                            <TableCell align=\"left\" sx={{ width: 120 }}>{product.thuongHieu || 'N/A'}</TableCell>\n                                            <TableCell align=\"left\" sx={{ width: 100 }}>{product.mauSac || 'N/A'}</TableCell>\n                                            <TableCell align=\"left\" sx={{ width: 100 }}>{product.chatLieu || 'N/A'}</TableCell>\n                                            <TableCell align=\"center\" sx={{ width: 80 }}>{product.kichThuoc || 'N/A'}</TableCell>\n                                            <TableCell align=\"center\" sx={{ width: 80 }}>{product.coAo || 'N/A'}</TableCell>\n                                            <TableCell align=\"center\" sx={{ width: 80 }}>{product.tayAo || 'N/A'}</TableCell>\n                                            <TableCell align=\"right\" sx={{ width: 120 }}>\n                                                  {/* Kiểm tra nếu có giảm giá */}\n                                                  {(product.phanTramGiam > 0 && product.giaTienSauKhiGiam < product.gia) ? (\n                                                    <Box>\n                                                      {/* Giá gốc bị gạch ngang */}\n                                                      <SoftTypography\n                                                        component=\"span\" // Dùng span để không xuống dòng\n                                                        variant=\"body2\"\n                                                        color=\"text\"\n                                                        sx={{ textDecoration: 'line-through', fontSize: '0.85rem' }}\n                                                      >\n                                                        {formatCurrency(product.gia)}\n                                                      </SoftTypography>\n                                                      {/* Giá sau khi giảm */}\n                                                      <SoftTypography\n                                                        variant=\"body2\"\n                                                        color=\"error\"\n                                                        fontWeight=\"bold\"\n                                                        sx={{ display: 'block' }} // Hiển thị trên một dòng mới\n                                                      >\n                                                        {formatCurrency(product.giaTienSauKhiGiam)}\n                                                      </SoftTypography>\n                                                    </Box>\n                                                  ) : (\n                                                    // Nếu không giảm giá, chỉ hiển thị giá gốc\n                                                    <SoftTypography variant=\"body2\" fontWeight=\"bold\">\n                                                      {formatCurrency(product.gia)}\n                                                    </SoftTypography>\n                                                  )}\n                                            </TableCell>\n                                            <TableCell align=\"center\" sx={{ width: 80 }}>{product.soLuongTonKho || 'N/A'}</TableCell>\n                                            <TableCell align=\"center\" sx={{ width: 100 }}>\n                                                <Button\n                                                    variant=\"contained\"\n                                                    color=\"info\"\n                                                    onClick={() => handleOpenConfirmation(product)}\n                                                    sx={{ minWidth: 60, p: 0 }} // Đảm bảo nút không bị quá to\n                                                >\n                                                    CHỌN\n                                                </Button>\n                                            </TableCell>\n                                        </TableRow>\n                                    ))\n                                ) : (\n                                    <TableRow>\n                                        <TableCell colSpan={13} align=\"center\">\n                                            <SoftTypography variant=\"body2\" color=\"text\">\n                                                Không tìm thấy sản phẩm nào phù hợp.\n                                            </SoftTypography>\n                                        </TableCell>\n                                    </TableRow>\n                                )}\n                            </TableBody>\n                        </Table>\n                    </TableContainer>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleCloseAndReset} color=\"secondary\">\n                    Đóng\n                </Button>\n            </DialogActions>\n            <ConfirmationModal\n                open={confirmationModalOpen}\n                onClose={() => setConfirmationModalOpen(false)}\n                onConfirm={handleConfirmSelection}\n                product={selectedProduct}\n                quantity={quantity}\n                setQuantity={setQuantity}\n            />\n        </Dialog>\n        \n        \n    );\n}\n\n// THÊM TOÀN BỘ KHỐI NÀY VÀO CUỐI FILE\nProductSelectionModal.propTypes = {\n  // 'open' phải là một giá trị boolean (true/false) và là bắt buộc.\n  open: PropTypes.bool.isRequired,\n\n  // 'onClose' phải là một hàm và là bắt buộc.\n  onClose: PropTypes.func.isRequired,\n\n  // 'onSelectProduct' phải là một hàm và là bắt buộc.\n  onSelectProduct: PropTypes.func.isRequired\n};\nexport default ProductSelectionModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}