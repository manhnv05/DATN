{"ast":null,"code":"var _jsxFileName = \"D:\\\\fashion-shirt-shop\\\\DATN\\\\src\\\\main\\\\resources\\\\templates\\\\fashionshop-ui\\\\src\\\\layouts\\\\HoaDon\\\\OrderDetail\\\\OrderHistory.jsx\",\n  _s = $RefreshSig$();\n// src/components/OrderDetail/OrderHistory/OrderHistory.jsx\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from \"prop-types\";\n// === IMPORT TỪ MUI ===\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\n\n// === IMPORT ẢNH (giữ nguyên) ===\nimport tao_hoa_don_img from '../../../assets/images/tao_hoa_don.png';\nimport cho_xac_nhan from '../../../assets/images/cho_xac_nhan.png';\nimport cho_giao_hang from '../../../assets/images/cho_giao_hang.png';\nimport dang_giao_hang from '../../../assets/images/dang_giao_hang.png';\nimport hoan_thanh from '../../../assets/images/hoan_thanh.png';\nimport Huy from '../../../assets/images/Huy.png';\nimport da_xac_nhan from '../../../assets/images/DaXacNhan.png';\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderHistory = ({\n  orderId\n}) => {\n  _s();\n  // === STATE MANAGEMENT VÀ HELPERS (GIỮ NGUYÊN HOÀN TOÀN) ===\n  const [historyData, setHistoryData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const formatDateTime = useCallback(isoString => {\n    if (!isoString) return 'Chưa cập nhật';\n    const date = new Date(isoString);\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    const day = date.getDate();\n    const month = date.getMonth() + 1;\n    const year = date.getFullYear();\n    const ampm = hours >= 12 ? 'CH' : 'SA';\n    const formattedHours = hours % 12 === 0 ? 12 : hours % 12;\n    const pad = num => num.toString().padStart(2, '0');\n    return `${pad(formattedHours)}:${pad(minutes)}:${pad(seconds)} ${ampm} ${pad(day)}/${pad(month)}/${year}`;\n  }, []);\n  const mapStatusToDisplay = useCallback((apiStatus, apiDate) => {\n    let displayStatus = '';\n    let className = '';\n    const trimmedStatus = apiStatus ? apiStatus.trim() : '';\n    switch (trimmedStatus) {\n      // Sử dụng biến đã được trim\n      case 'Tạo đơn hàng':\n        displayStatus = 'Tạo đơn hàng';\n        className = 'TAO_DON_HANG';\n        break;\n      case 'Chờ xác nhận':\n        displayStatus = 'Chờ xác nhận';\n        className = 'CHO_XAC_NHAN';\n        break;\n      case 'Đã xác nhận':\n        displayStatus = 'Đã xác nhận'; // Gán giá trị không có khoảng trắng\n        className = 'DA_XAC_NHAN'; // Gán đúng className\n        break;\n      case 'Chờ giao hàng':\n        displayStatus = 'Chờ giao hàng';\n        className = 'CHO_GIAO_HANG';\n        break;\n      case 'Đang vận chuyển':\n        displayStatus = 'Đang vận chuyển';\n        className = 'DANG_VAN_CHUYEN';\n        break;\n      case 'Hoàn thành':\n        displayStatus = 'Hoàn thành';\n        className = 'HOAN_THANH';\n        break;\n      case 'Hủy':\n        displayStatus = 'Hủy';\n        className = 'HUY';\n        break;\n      default:\n        displayStatus = apiStatus;\n        className = 'DA_XAC_NHAN';\n    }\n    return {\n      status: displayStatus,\n      date: apiDate,\n      formattedDate: formatDateTime(apiDate),\n      className: className\n    };\n  }, [formatDateTime]);\n  const getIconComponent = useCallback(className => {\n    const imgStyle = {\n      width: '100%',\n      height: '100%',\n      objectFit: 'contain'\n    };\n    switch (className) {\n      case 'TAO_DON_HANG':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: tao_hoa_don_img,\n          alt: \"T\\u1EA1o \\u0111\\u01A1n\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 35\n        }, this);\n      case 'DA_XAC_NHAN':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: da_xac_nhan,\n          alt: \"\\u0110a\\u0303 xa\\u0301c nh\\xE2\\u0323n\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 35\n        }, this);\n      case 'CHO_XAC_NHAN':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cho_xac_nhan,\n          alt: \"Ch\\u1EDD x\\xE1c nh\\u1EADn\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 35\n        }, this);\n      case 'CHO_GIAO_HANG':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cho_giao_hang,\n          alt: \"Ch\\u1EDD giao h\\xE0ng\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 36\n        }, this);\n      case 'DANG_VAN_CHUYEN':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: dang_giao_hang,\n          alt: \"\\u0110ang giao\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 38\n        }, this);\n      case 'HOAN_THANH':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: hoan_thanh,\n          alt: \"Ho\\xE0n th\\xE0nh\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 33\n        }, this);\n      case 'HUY':\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Huy,\n          alt: \"Ho\\xE0n th\\xE0nh\",\n          style: imgStyle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 26\n        }, this);\n      default:\n        return null;\n    }\n  }, []);\n  const fetchOrderHistory = useCallback(async () => {\n    if (!orderId) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`http://localhost:8080/api/hoa-don/lich-su/${orderId}`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      console.log(\"Dữ liệu lịch sử từ API:\", data);\n      const transformedData = [...data].sort((a, b) => new Date(a.thoiGian) - new Date(b.thoiGian)).map(item => mapStatusToDisplay(item.trangThaiHoaDon, item.thoiGian));\n      console.log(\"Dữ liệu đã biến đổi để render:\", transformedData);\n      setHistoryData(transformedData);\n    } catch (err) {\n      setError(err);\n    } finally {\n      setLoading(false);\n    }\n  }, [orderId, mapStatusToDisplay]);\n  useEffect(() => {\n    fetchOrderHistory();\n  }, [fetchOrderHistory]);\n\n  // === LOGIC TÍNH TOÁN ĐƯỜNG KẺ (GIỮ NGUYÊN HOÀN TOÀN) ===\n  const totalItems = historyData.length;\n  let actualLastActiveIndex = -1;\n  for (let i = historyData.length - 1; i >= 0; i--) {\n    if (historyData[i].date) {\n      // Chỉ cần check có date là active\n      actualLastActiveIndex = i;\n      break;\n    }\n  }\n  let activeLineLeft = 0;\n  let activeLineWidth = 0;\n  if (totalItems > 1) {\n    const itemWidthPercentage = 100 / (totalItems - 1);\n    activeLineLeft = 0;\n    if (actualLastActiveIndex > 0) {\n      activeLineWidth = actualLastActiveIndex / (totalItems - 1) * 100;\n    }\n  }\n\n  // === RENDER LOADING / ERROR / EMPTY STATE (Dùng MUI) ===\n  if (loading) return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'center',\n      p: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 85\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(Alert, {\n    severity: \"error\",\n    sx: {\n      m: 2\n    },\n    children: [\"L\\u1ED7i: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 21\n  }, this);\n  if (historyData.length === 0) return /*#__PURE__*/_jsxDEV(Typography, {\n    sx: {\n      textAlign: 'center',\n      p: 3\n    },\n    children: \"Ch\\u01B0a c\\xF3 l\\u1ECBch s\\u1EED tr\\u1EA1ng th\\xE1i.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 40\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'center',\n      // Căn giữa toàn bộ container\n      alignItems: 'center',\n      // Căn chỉnh các item theo chiều dọc\n      width: '100%',\n      // Đảm bảo container chiếm hết chiều rộng\n      p: 2,\n      // Padding cho container tổng\n      position: 'relative'\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        // Thay đổi ở đây: dùng 'space-around' hoặc 'gap'\n        alignItems: 'center',\n        // Đảm bảo các item con được căn giữa theo chiều dọc\n        width: '100%',\n        // Đảm bảo chiếm toàn bộ chiều rộng\n        position: 'relative',\n        padding: '0 20px',\n        // Thêm padding ngang để đường kẻ không chạm mép\n        zIndex: 3 // Đảm bảo các item nằm trên đường kẻ\n      },\n      children: [totalItems > 1 && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'absolute',\n          top: '47px',\n          // Vị trí của đường kẻ theo chiều dọc (căn giữa icon)\n          left: '20px',\n          // Bắt đầu sau padding\n          right: '20px',\n          // Kết thúc trước padding\n          height: '4px',\n          backgroundColor: '#6ea8fe',\n          // Màu từ theme MUI\n          zIndex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }, this), historyData.map((item, index) => {\n        const isActive = index <= actualLastActiveIndex;\n        return /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            textAlign: 'center',\n            zIndex: 2 // Đảm bảo mỗi item riêng lẻ nằm trên đường kẻ\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              borderRadius: '50%',\n              border: `3px solid ${isActive ? '#6ea8fe' : '#E0E0E0'}`,\n              // Thay đổi màu viền dựa trên trạng thái active\n              padding: '5px',\n              display: 'flex',\n              width: 90,\n              height: 90,\n              alignItems: 'center',\n              justifyContent: 'center',\n              transition: 'border-color 0.5s ease-in-out',\n              backgroundColor: '#F0F8FF',\n              zIndex: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 60,\n                height: 60,\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: getIconComponent(item.className)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                fontWeight: 'bold'\n              },\n              children: item.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              children: item.formattedDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 7\n  }, this);\n};\n_s(OrderHistory, \"5IStMvkwxdMGGF0fxax2+yo6XWI=\");\n_c = OrderHistory;\nOrderHistory.propTypes = {\n  orderId: PropTypes.string.isRequired // Giả sử orderId là một chuỗi và là bắt buộc\n};\nexport default OrderHistory;\nvar _c;\n$RefreshReg$(_c, \"OrderHistory\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","PropTypes","Box","Typography","CircularProgress","Alert","tao_hoa_don_img","cho_xac_nhan","cho_giao_hang","dang_giao_hang","hoan_thanh","Huy","da_xac_nhan","toast","jsxDEV","_jsxDEV","OrderHistory","orderId","_s","historyData","setHistoryData","loading","setLoading","error","setError","formatDateTime","isoString","date","Date","hours","getHours","minutes","getMinutes","seconds","getSeconds","day","getDate","month","getMonth","year","getFullYear","ampm","formattedHours","pad","num","toString","padStart","mapStatusToDisplay","apiStatus","apiDate","displayStatus","className","trimmedStatus","trim","status","formattedDate","getIconComponent","imgStyle","width","height","objectFit","src","alt","style","fileName","_jsxFileName","lineNumber","columnNumber","fetchOrderHistory","response","fetch","ok","Error","data","json","console","log","transformedData","sort","a","b","thoiGian","map","item","trangThaiHoaDon","err","totalItems","length","actualLastActiveIndex","i","activeLineLeft","activeLineWidth","itemWidthPercentage","sx","display","justifyContent","p","children","severity","m","message","textAlign","alignItems","position","padding","zIndex","top","left","right","backgroundColor","index","isActive","flexDirection","borderRadius","border","transition","mt","variant","fontWeight","color","_c","propTypes","string","isRequired","$RefreshReg$"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/HoaDon/OrderDetail/OrderHistory.jsx"],"sourcesContent":["// src/components/OrderDetail/OrderHistory/OrderHistory.jsx\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from \"prop-types\";\n// === IMPORT TỪ MUI ===\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\n\n// === IMPORT ẢNH (giữ nguyên) ===\nimport tao_hoa_don_img from '../../../assets/images/tao_hoa_don.png';\nimport cho_xac_nhan from '../../../assets/images/cho_xac_nhan.png';\nimport cho_giao_hang from '../../../assets/images/cho_giao_hang.png';\nimport dang_giao_hang from '../../../assets/images/dang_giao_hang.png';\nimport hoan_thanh from '../../../assets/images/hoan_thanh.png';\nimport Huy from '../../../assets/images/Huy.png';\nimport da_xac_nhan from '../../../assets/images/DaXacNhan.png';\nimport { toast} from \"react-toastify\";\n\n\nconst OrderHistory = ({ orderId }) => {\n  // === STATE MANAGEMENT VÀ HELPERS (GIỮ NGUYÊN HOÀN TOÀN) ===\n  const [historyData, setHistoryData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const formatDateTime = useCallback((isoString) => {\n    if (!isoString) return 'Chưa cập nhật';\n    const date = new Date(isoString);\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    const day = date.getDate();\n    const month = date.getMonth() + 1;\n    const year = date.getFullYear();\n    const ampm = hours >= 12 ? 'CH' : 'SA';\n    const formattedHours = hours % 12 === 0 ? 12 : hours % 12;\n    const pad = (num) => num.toString().padStart(2, '0');\n    return `${pad(formattedHours)}:${pad(minutes)}:${pad(seconds)} ${ampm} ${pad(day)}/${pad(month)}/${year}`;\n  }, []);\n\n  const mapStatusToDisplay = useCallback((apiStatus, apiDate) => {\n    let displayStatus = '';\n    let className = '';\n     const trimmedStatus = apiStatus ? apiStatus.trim() : '';\n    switch (trimmedStatus) { // Sử dụng biến đã được trim\n      case 'Tạo đơn hàng': displayStatus = 'Tạo đơn hàng'; className = 'TAO_DON_HANG'; break;\n      case 'Chờ xác nhận': displayStatus = 'Chờ xác nhận'; className = 'CHO_XAC_NHAN'; break;\n    case 'Đã xác nhận':\n        displayStatus = 'Đã xác nhận'; // Gán giá trị không có khoảng trắng\n        className = 'DA_XAC_NHAN';      // Gán đúng className\n        break;\n      case 'Chờ giao hàng': displayStatus = 'Chờ giao hàng'; className = 'CHO_GIAO_HANG'; break;\n      case 'Đang vận chuyển': displayStatus = 'Đang vận chuyển'; className = 'DANG_VAN_CHUYEN'; break;\n      case 'Hoàn thành': displayStatus = 'Hoàn thành'; className = 'HOAN_THANH'; break;\n      case 'Hủy': displayStatus = 'Hủy'; className = 'HUY'; break;\n      default: displayStatus = apiStatus; className = 'DA_XAC_NHAN';\n    }\n    return { status: displayStatus, date: apiDate, formattedDate: formatDateTime(apiDate), className: className };\n  }, [formatDateTime]);\n\n  const getIconComponent = useCallback((className) => {\n    const imgStyle = { width: '100%', height: '100%', objectFit: 'contain' };\n    switch (className) {\n      case 'TAO_DON_HANG': return <img src={tao_hoa_don_img} alt=\"Tạo đơn\" style={imgStyle} />;\n       case 'DA_XAC_NHAN': return <img src={da_xac_nhan} alt=\"Đã xác nhận\" style={imgStyle} />;\n      case 'CHO_XAC_NHAN': return <img src={cho_xac_nhan} alt=\"Chờ xác nhận\" style={imgStyle} />;\n      case 'CHO_GIAO_HANG': return <img src={cho_giao_hang} alt=\"Chờ giao hàng\" style={imgStyle} />;\n      case 'DANG_VAN_CHUYEN': return <img src={dang_giao_hang} alt=\"Đang giao\" style={imgStyle} />;\n      case 'HOAN_THANH': return <img src={hoan_thanh} alt=\"Hoàn thành\" style={imgStyle} />;\n      case 'HUY': return <img src={Huy} alt=\"Hoàn thành\" style={imgStyle} />;\n      default: return null;\n    }\n  }, []);\n\n  const fetchOrderHistory = useCallback(async () => {\n    if (!orderId) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`http://localhost:8080/api/hoa-don/lich-su/${orderId}`);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      console.log(\"Dữ liệu lịch sử từ API:\", data);\n      const transformedData = [...data]\n          .sort((a, b) => new Date(a.thoiGian) - new Date(b.thoiGian))\n          .map(item => mapStatusToDisplay(item.trangThaiHoaDon, item.thoiGian));\n           console.log(\"Dữ liệu đã biến đổi để render:\", transformedData);\n      setHistoryData(transformedData);\n    } catch (err) {\n      setError(err);\n    } finally {\n      setLoading(false);\n    }\n  }, [orderId, mapStatusToDisplay]);\n\n  useEffect(() => {\n    fetchOrderHistory();\n  }, [fetchOrderHistory]);\n\n  // === LOGIC TÍNH TOÁN ĐƯỜNG KẺ (GIỮ NGUYÊN HOÀN TOÀN) ===\n  const totalItems = historyData.length;\n  let actualLastActiveIndex = -1;\n  for (let i = historyData.length - 1; i >= 0; i--) {\n    if (historyData[i].date) { // Chỉ cần check có date là active\n      actualLastActiveIndex = i;\n      break;\n    }\n  }\n\n  let activeLineLeft = 0;\n  let activeLineWidth = 0;\n\n  if (totalItems > 1) {\n    const itemWidthPercentage = 100 / (totalItems -1);\n    activeLineLeft = 0;\n    if (actualLastActiveIndex > 0) {\n      activeLineWidth = (actualLastActiveIndex / (totalItems - 1)) * 100;\n    }\n  }\n\n  // === RENDER LOADING / ERROR / EMPTY STATE (Dùng MUI) ===\n  if (loading) return <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}><CircularProgress /></Box>;\n  if (error) return <Alert severity=\"error\" sx={{ m: 2 }}>Lỗi: {error.message}</Alert>;\n  if (historyData.length === 0) return <Typography sx={{ textAlign: 'center', p: 3 }}>Chưa có lịch sử trạng thái.</Typography>;\n\n\n\n  return (\n      <Box\n          sx={{\n            display: 'flex',\n            justifyContent: 'center', // Căn giữa toàn bộ container\n            alignItems: 'center', // Căn chỉnh các item theo chiều dọc\n            width: '100%', // Đảm bảo container chiếm hết chiều rộng\n            p: 2, // Padding cho container tổng\n            position: 'relative',\n          }}\n      >\n        {/* Container chứa các item và đường kẻ */}\n        <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-around', // Thay đổi ở đây: dùng 'space-around' hoặc 'gap'\n              alignItems: 'center', // Đảm bảo các item con được căn giữa theo chiều dọc\n              width: '100%', // Đảm bảo chiếm toàn bộ chiều rộng\n              position: 'relative',\n              padding: '0 20px', // Thêm padding ngang để đường kẻ không chạm mép\n              zIndex: 3, // Đảm bảo các item nằm trên đường kẻ\n            }}\n        >\n          {/* Đường kẻ nền màu xám */}\n          {totalItems > 1 && (\n              <Box\n                  sx={{\n                    position: 'absolute',\n                    top: '47px', // Vị trí của đường kẻ theo chiều dọc (căn giữa icon)\n                    left: '20px', // Bắt đầu sau padding\n                    right: '20px', // Kết thúc trước padding\n                    height: '4px',\n                    backgroundColor: '#6ea8fe', // Màu từ theme MUI\n                    zIndex: 1,\n                  }}\n              />\n          )}\n          {historyData.map((item, index) => {\n            const isActive = index <= actualLastActiveIndex;\n            return (\n                <Box\n                    key={index}\n                    sx={{\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      textAlign: 'center',\n                      zIndex: 2, // Đảm bảo mỗi item riêng lẻ nằm trên đường kẻ\n                    }}\n                >\n                  {/* NEW Outer Box for Border */}\n                  <Box\n                      sx={{\n                        borderRadius: '50%',\n                        border: `3px solid ${isActive ? '#6ea8fe' : '#E0E0E0'}`, // Thay đổi màu viền dựa trên trạng thái active\n                        padding: '5px',\n                        display: 'flex',\n                        width: 90,\n                        height: 90,\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        transition: 'border-color 0.5s ease-in-out',\n                        backgroundColor: '#F0F8FF',\n                        zIndex: 3,\n                      }}\n                  >\n                    {/* Original Icon Wrapper - now inside the new Outer Box */}\n                    <Box\n                        sx={{\n                          width: 60,\n                          height: 60,\n                          borderRadius: '50%',\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                        }}\n                    >\n                      {getIconComponent(item.className)}\n                    </Box>\n                  </Box>\n                  {/* Content */}\n                  <Box sx={{ mt: 1 }}>\n                    <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                      {item.status}\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      {item.formattedDate}\n                    </Typography>\n                  </Box>\n                </Box>\n            );\n          })}\n        </Box>\n      </Box>\n  );\n};\n\nOrderHistory.propTypes = {\n  orderId: PropTypes.string.isRequired, // Giả sử orderId là một chuỗi và là bắt buộc\n};\n\nexport default OrderHistory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}