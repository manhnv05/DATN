{"ast":null,"code":"import defaultDayjs from 'dayjs';\nimport customParseFormatPlugin from 'dayjs/plugin/customParseFormat';\nimport localizedFormatPlugin from 'dayjs/plugin/localizedFormat';\nimport isBetweenPlugin from 'dayjs/plugin/isBetween';\ndefaultDayjs.extend(customParseFormatPlugin);\ndefaultDayjs.extend(localizedFormatPlugin);\ndefaultDayjs.extend(isBetweenPlugin);\nconst withLocale = (dayjs, locale) => !locale ? dayjs : (...args) => dayjs(...args).locale(locale);\nconst defaultFormats = {\n  normalDateWithWeekday: \"ddd, MMM D\",\n  normalDate: \"D MMMM\",\n  shortDate: \"MMM D\",\n  monthAndDate: \"MMMM D\",\n  dayOfMonth: \"D\",\n  year: \"YYYY\",\n  month: \"MMMM\",\n  monthShort: \"MMM\",\n  monthAndYear: \"MMMM YYYY\",\n  weekday: \"dddd\",\n  weekdayShort: \"ddd\",\n  minutes: \"mm\",\n  hours12h: \"hh\",\n  hours24h: \"HH\",\n  seconds: \"ss\",\n  fullTime: \"LT\",\n  fullTime12h: \"hh:mm A\",\n  fullTime24h: \"HH:mm\",\n  fullDate: \"ll\",\n  fullDateWithWeekday: \"dddd, LL\",\n  fullDateTime: \"lll\",\n  fullDateTime12h: \"ll hh:mm A\",\n  fullDateTime24h: \"ll HH:mm\",\n  keyboardDate: \"L\",\n  keyboardDateTime: \"L LT\",\n  keyboardDateTime12h: \"L hh:mm A\",\n  keyboardDateTime24h: \"L HH:mm\"\n};\nclass DayjsUtils {\n  constructor({\n    locale,\n    formats,\n    instance\n  } = {}) {\n    this.lib = \"dayjs\";\n    this.is12HourCycleInCurrentLocale = () => {\n      var _a, _b, _c;\n      /* istanbul ignore next */\n      return /A|a/.test((_c = (_b = (_a = this.rawDayJsInstance.Ls[this.locale || \"en\"]) === null || _a === void 0 ? void 0 : _a.formats) === null || _b === void 0 ? void 0 : _b.LT) !== null && _c !== void 0 ? _c : \"\");\n    };\n    this.getCurrentLocaleCode = () => {\n      return this.locale || \"en\";\n    };\n    this.getFormatHelperText = format => {\n      var _a, _b;\n      // @see https://github.com/iamkun/dayjs/blob/dev/src/plugin/localizedFormat/index.js\n      var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?)|./g;\n      return (_b = (_a = format.match(localFormattingTokens)) === null || _a === void 0 ? void 0 : _a.map(token => {\n        var _a, _b;\n        var firstCharacter = token[0];\n        if (firstCharacter === \"L\") {\n          /* istanbul ignore next */\n          return (_b = (_a = this.rawDayJsInstance.Ls[this.locale || \"en\"]) === null || _a === void 0 ? void 0 : _a.formats[token]) !== null && _b !== void 0 ? _b : token;\n        }\n        return token;\n      }).join(\"\").replace(/a/gi, \"(a|p)m\").toLocaleLowerCase()) !== null && _b !== void 0 ? _b : format;\n    };\n    this.parseISO = isoString => {\n      return this.dayjs(isoString);\n    };\n    this.toISO = value => {\n      return value.toISOString();\n    };\n    this.parse = (value, format) => {\n      if (value === \"\") {\n        return null;\n      }\n      return this.dayjs(value, format, this.locale, true);\n    };\n    this.date = value => {\n      if (value === null) {\n        return null;\n      }\n      return this.dayjs(value);\n    };\n    this.toJsDate = value => {\n      return value.toDate();\n    };\n    this.isValid = value => {\n      return this.dayjs(value).isValid();\n    };\n    this.isNull = date => {\n      return date === null;\n    };\n    this.getDiff = (date, comparing, units) => {\n      if (typeof comparing === \"string\") {\n        comparing = this.dayjs(comparing);\n      }\n      if (!comparing.isValid()) {\n        return 0;\n      }\n      return date.diff(comparing, units);\n    };\n    this.isAfter = (date, value) => {\n      return date.isAfter(value);\n    };\n    this.isBefore = (date, value) => {\n      return date.isBefore(value);\n    };\n    this.isAfterDay = (date, value) => {\n      return date.isAfter(value, \"day\");\n    };\n    this.isBeforeDay = (date, value) => {\n      return date.isBefore(value, \"day\");\n    };\n    this.isAfterMonth = (date, value) => {\n      return date.isAfter(value, \"month\");\n    };\n    this.isBeforeMonth = (date, value) => {\n      return date.isBefore(value, \"month\");\n    };\n    this.isBeforeYear = (date, value) => {\n      return date.isBefore(value, \"year\");\n    };\n    this.isAfterYear = (date, value) => {\n      return date.isAfter(value, \"year\");\n    };\n    this.startOfDay = date => {\n      return date.startOf(\"day\");\n    };\n    this.endOfDay = date => {\n      return date.endOf(\"day\");\n    };\n    this.format = (date, formatKey) => {\n      return this.formatByString(date, this.formats[formatKey]);\n    };\n    this.formatByString = (date, formatString) => {\n      return this.dayjs(date).format(formatString);\n    };\n    this.formatNumber = numberToFormat => {\n      return numberToFormat;\n    };\n    this.getHours = date => {\n      return date.hour();\n    };\n    this.addSeconds = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"second\") : date.add(count, \"second\");\n    };\n    this.addMinutes = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"minute\") : date.add(count, \"minute\");\n    };\n    this.addHours = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"hour\") : date.add(count, \"hour\");\n    };\n    this.addDays = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"day\") : date.add(count, \"day\");\n    };\n    this.addWeeks = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"week\") : date.add(count, \"week\");\n    };\n    this.addMonths = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"month\") : date.add(count, \"month\");\n    };\n    this.addYears = (date, count) => {\n      return count < 0 ? date.subtract(Math.abs(count), \"year\") : date.add(count, \"year\");\n    };\n    this.setMonth = (date, count) => {\n      return date.set(\"month\", count);\n    };\n    this.setHours = (date, count) => {\n      return date.set(\"hour\", count);\n    };\n    this.getMinutes = date => {\n      return date.minute();\n    };\n    this.setMinutes = (date, count) => {\n      return date.set(\"minute\", count);\n    };\n    this.getSeconds = date => {\n      return date.second();\n    };\n    this.setSeconds = (date, count) => {\n      return date.set(\"second\", count);\n    };\n    this.getMonth = date => {\n      return date.month();\n    };\n    this.getDate = date => {\n      return date.date();\n    };\n    this.setDate = (date, count) => {\n      return date.set(\"date\", count);\n    };\n    this.getDaysInMonth = date => {\n      return date.daysInMonth();\n    };\n    this.isSameDay = (date, comparing) => {\n      return date.isSame(comparing, \"day\");\n    };\n    this.isSameMonth = (date, comparing) => {\n      return date.isSame(comparing, \"month\");\n    };\n    this.isSameYear = (date, comparing) => {\n      return date.isSame(comparing, \"year\");\n    };\n    this.isSameHour = (date, comparing) => {\n      return date.isSame(comparing, \"hour\");\n    };\n    this.getMeridiemText = ampm => {\n      return ampm === \"am\" ? \"AM\" : \"PM\";\n    };\n    this.startOfYear = date => {\n      return date.startOf(\"year\");\n    };\n    this.endOfYear = date => {\n      return date.endOf(\"year\");\n    };\n    this.startOfMonth = date => {\n      return date.startOf(\"month\");\n    };\n    this.endOfMonth = date => {\n      return date.endOf(\"month\");\n    };\n    this.startOfWeek = date => {\n      return date.startOf(\"week\");\n    };\n    this.endOfWeek = date => {\n      return date.endOf(\"week\");\n    };\n    this.getNextMonth = date => {\n      return date.add(1, \"month\");\n    };\n    this.getPreviousMonth = date => {\n      return date.subtract(1, \"month\");\n    };\n    this.getMonthArray = date => {\n      const firstMonth = date.startOf(\"year\");\n      const monthArray = [firstMonth];\n      while (monthArray.length < 12) {\n        const prevMonth = monthArray[monthArray.length - 1];\n        monthArray.push(this.getNextMonth(prevMonth));\n      }\n      return monthArray;\n    };\n    this.getYear = date => {\n      return date.year();\n    };\n    this.setYear = (date, year) => {\n      return date.set(\"year\", year);\n    };\n    this.mergeDateAndTime = (date, time) => {\n      return date.hour(time.hour()).minute(time.minute()).second(time.second());\n    };\n    this.getWeekdays = () => {\n      const start = this.dayjs().startOf(\"week\");\n      return [0, 1, 2, 3, 4, 5, 6].map(diff => this.formatByString(start.add(diff, \"day\"), \"dd\"));\n    };\n    this.isEqual = (value, comparing) => {\n      if (value === null && comparing === null) {\n        return true;\n      }\n      return this.dayjs(value).isSame(comparing);\n    };\n    this.getWeekArray = date => {\n      const start = this.dayjs(date).startOf(\"month\").startOf(\"week\");\n      const end = this.dayjs(date).endOf(\"month\").endOf(\"week\");\n      let count = 0;\n      let current = start;\n      const nestedWeeks = [];\n      while (current.isBefore(end)) {\n        const weekNumber = Math.floor(count / 7);\n        nestedWeeks[weekNumber] = nestedWeeks[weekNumber] || [];\n        nestedWeeks[weekNumber].push(current);\n        current = current.add(1, \"day\");\n        count += 1;\n      }\n      return nestedWeeks;\n    };\n    this.getYearRange = (start, end) => {\n      const startDate = this.dayjs(start).startOf(\"year\");\n      const endDate = this.dayjs(end).endOf(\"year\");\n      const years = [];\n      let current = startDate;\n      while (current.isBefore(endDate)) {\n        years.push(current);\n        current = current.add(1, \"year\");\n      }\n      return years;\n    };\n    this.isWithinRange = (date, [start, end]) => {\n      return date.isBetween(start, end, null, \"[]\");\n    };\n    this.rawDayJsInstance = instance || defaultDayjs;\n    this.dayjs = withLocale(this.rawDayJsInstance, locale);\n    this.locale = locale;\n    this.formats = Object.assign({}, defaultFormats, formats);\n  }\n}\nexport { DayjsUtils as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}