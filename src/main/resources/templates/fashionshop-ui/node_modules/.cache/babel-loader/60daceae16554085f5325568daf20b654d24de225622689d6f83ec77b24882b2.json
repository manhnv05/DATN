{"ast":null,"code":"import dayjs from 'dayjs';\nexport async function loadThongKe() {\n  try {\n    const response = await fetch(\"http://localhost:8080/thong_ke\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      let errorMsg = \"Failed to add voucher\";\n      try {\n        const err = await response.json();\n        if (err && err.message) errorMsg = err.message;\n      } catch {}\n      throw new Error(errorMsg);\n    }\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error(\"Error adding voucher:\", error);\n    return null;\n  }\n}\nexport async function fetchThongKeAlternative(page, size, search, startDate, endDate) {\n  try {\n    const searchObject = {};\n    if (search) {\n      // Nếu backend tìm theo OR thì nên chỉ truyền 1 trường, nếu AND thì truyền cả hai\n      searchObject.boLocNgayTuanThangNam = search.trim();\n    }\n    if (startDate && endDate) {\n      searchObject.tuNgay = dayjs(startDate).format('YYYY-MM-DDTHH:mm:ss');\n      searchObject.denNgay = dayjs(endDate).format('YYYY-MM-DDTHH:mm:ss');\n    }\n    // Bộ lọc trạng thái\n\n    const response = await fetch(`http://localhost:8080/thong_ke?page=${page}&size=${size}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(searchObject)\n    });\n    if (!response.ok) {\n      // Có thể lấy thêm response json để lấy thông điệp lỗi chi tiết\n      let errorMsg = 'Không thể lấy dữ liệu phiếu giảm giá';\n      try {\n        const err = await response.json();\n        if (err && err.message) errorMsg = err.message;\n      } catch {}\n      throw new Error(errorMsg);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Lỗi khi lấy dữ liệu phiếu giảm giá:\", error);\n    throw error;\n  }\n}\nexport async function loadBieuDo(check) {\n  try {\n    const response = await fetch(`http://localhost:8080/thong_ke/bieudo/${check}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!response.ok) {\n      let errorMsg = \"Failed to add voucher\";\n      try {\n        const err = await response.json();\n        if (err && err.message) errorMsg = err.message;\n      } catch {}\n      throw new Error(errorMsg);\n    }\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error(\"Error adding voucher:\", error);\n    return null;\n  }\n}","map":{"version":3,"names":["dayjs","loadThongKe","response","fetch","method","headers","ok","errorMsg","err","json","message","Error","result","error","console","fetchThongKeAlternative","page","size","search","startDate","endDate","searchObject","boLocNgayTuanThangNam","trim","tuNgay","format","denNgay","body","JSON","stringify","data","loadBieuDo","check"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/thongke/thongkeService.js"],"sourcesContent":["import dayjs from 'dayjs';\n\nexport async function loadThongKe() {\n    try {\n        const response = await fetch(\"http://localhost:8080/thong_ke\", {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            let errorMsg = \"Failed to add voucher\";\n            try {\n                const err = await response.json();\n                if (err && err.message) errorMsg = err.message;\n            } catch { }\n            throw new Error(errorMsg);\n        }\n        const result = await response.json();\n        return result;\n    } catch (error) {\n        console.error(\"Error adding voucher:\", error);\n        return null;\n    }\n}\nexport async function fetchThongKeAlternative(page, size, search, startDate, endDate) {\n    try {\n        const searchObject = {};\n        if (search) {\n            // Nếu backend tìm theo OR thì nên chỉ truyền 1 trường, nếu AND thì truyền cả hai\n            searchObject.boLocNgayTuanThangNam = search.trim();\n        }\n        if (startDate && endDate) {\n            searchObject.tuNgay = dayjs(startDate).format('YYYY-MM-DDTHH:mm:ss');\n            searchObject.denNgay = dayjs(endDate).format('YYYY-MM-DDTHH:mm:ss');\n        }\n        // Bộ lọc trạng thái\n       \n        const response = await fetch(`http://localhost:8080/thong_ke?page=${page}&size=${size}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(searchObject),\n        });\n\n        if (!response.ok) {\n            // Có thể lấy thêm response json để lấy thông điệp lỗi chi tiết\n            let errorMsg = 'Không thể lấy dữ liệu phiếu giảm giá';\n            try {\n                const err = await response.json();\n                if (err && err.message) errorMsg = err.message;\n            } catch { }\n            throw new Error(errorMsg);\n        }\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(\"Lỗi khi lấy dữ liệu phiếu giảm giá:\", error);\n        throw error;\n    }\n}\n\nexport async function loadBieuDo(check) {\n    try {\n        const response = await fetch(`http://localhost:8080/thong_ke/bieudo/${check}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        });\n\n        if (!response.ok) {\n            let errorMsg = \"Failed to add voucher\";\n            try {\n                const err = await response.json();\n                if (err && err.message) errorMsg = err.message;\n            } catch { }\n            throw new Error(errorMsg);\n        }\n        const result = await response.json();\n        return result;\n    } catch (error) {\n        console.error(\"Error adding voucher:\", error);\n        return null;\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}