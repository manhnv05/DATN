{"ast":null,"code":"var _jsxFileName = \"D:\\\\fashion-shirt-shop\\\\DATN\\\\src\\\\main\\\\resources\\\\templates\\\\fashionshop-ui\\\\src\\\\layouts\\\\BanHangTaiQuay\\\\component\\\\CustomerTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"@mui/material/Card\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport Input from \"@mui/material/Input\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport SoftBox from \"components/SoftBox\";\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\nimport Footer from \"examples/Footer\";\nimport Icon from \"@mui/material/Icon\";\nimport Table from \"examples/Tables/Table\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaPlus, FaEye, FaTrash } from \"react-icons/fa\"; // FaTrash and FaEye are still here for other actions, even if not used by default in isSelectionMode\nimport axios from \"axios\";\nimport TextField from \"@mui/material/TextField\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Notifications from \"layouts/Notifications\";\nimport dayjs from \"dayjs\";\nimport SoftButton from \"components/SoftButton\";\nimport PropTypes from \"prop-types\";\n\n// Import component AddCustomerDialog\nimport AddCustomerDialog from \"./AddCustomerDialog\"; // Đảm bảo đường dẫn này đúng\n\n// --- Các hàm tiện ích (giữ nguyên) ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst genderList = [\"Tất cả\", \"Nam\", \"Nữ\", \"Khác\"];\nconst statusList = [\"Tất cả\", \"Online\", \"Offline\"];\nconst viewOptions = [5, 10, 20];\nfunction getGenderText(gender) {\n  if (gender === \"Nam\" || gender === 1) return \"Nam\";\n  if (gender === \"Nữ\" || gender === 0) return \"Nữ\";\n  return \"Khác\";\n}\nfunction getStatusText(status) {\n  if (status === 1 || status === \"Online\") return \"Online\";\n  return \"Offline\";\n}\nfunction getPaginationItems(current, total) {\n  if (total <= 5) return Array.from({\n    length: total\n  }, (_, i) => i);\n  if (current <= 2) return [0, 1, 2, \"...\", total - 1];\n  if (current >= total - 3) return [0, \"...\", total - 3, total - 2, total - 1];\n  return [0, \"...\", current - 1, current, current + 1, \"...\", total - 1];\n}\n\n// === BẮT ĐẦU COMPONENT ===\nfunction CustomerTable({\n  isSelectionMode = false,\n  onSelectCustomer = () => {}\n}) {\n  _s();\n  const [customersData, setCustomersData] = useState({\n    content: [],\n    totalPages: 0,\n    number: 0,\n    first: true,\n    last: true\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [search, setSearch] = useState(\"\");\n  const [genderFilter, setGenderFilter] = useState(\"Tất cả\");\n  const [statusFilter, setStatusFilter] = useState(\"Tất cả\");\n  const [viewCount, setViewCount] = useState(5);\n  const [page, setPage] = useState(0);\n\n  // States cho các dialog sửa/xóa (giữ nguyên nếu bạn đang dùng)\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [editingCustomer, setEditingCustomer] = useState(null);\n  const [editForm, setEditForm] = useState({});\n  const [editSaving, setEditSaving] = useState(false);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [deletingCustomer, setDeletingCustomer] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  // Notification state\n  const [notification, setNotification] = useState({\n    open: false,\n    message: \"\",\n    severity: \"info\"\n  });\n  const navigate = useNavigate();\n\n  // State to control the AddCustomerDialog\n  const [addCustomerDialogOpen, setAddCustomerDialogOpen] = useState(false);\n\n  // Function to open the Add Customer Dialog\n  const handleOpenAddCustomerDialog = () => {\n    console.log(\"Button clicked! Opening AddCustomerDialog.\");\n    setAddCustomerDialogOpen(true);\n  };\n\n  // Function to close the Add Customer Dialog\n  const handleCloseAddCustomerDialog = () => {\n    setAddCustomerDialogOpen(false);\n  };\n\n  // Callback function to refresh customer list after a new customer is added\n  const handleCustomerAdded = () => {\n    handleCloseAddCustomerDialog(); // Close the add customer dialog\n    fetchCustomers(); // Re-fetch the customer data to show the newly added customer\n  };\n  async function fetchCustomers() {\n    setLoading(true);\n    setError(null);\n    try {\n      const getGenderParam = () => {\n        if (genderFilter === \"Nam\") return 1;\n        if (genderFilter === \"Nữ\") return 0;\n        return undefined;\n      };\n      const params = {\n        page: page,\n        size: viewCount,\n        tenKhachHang: search || undefined,\n        gioiTinh: getGenderParam(),\n        trangThai: statusFilter !== \"Tất cả\" ? statusFilter === \"Online\" ? 1 : 0 : undefined\n      };\n      const response = await axios.get(\"http://localhost:8080/khachHang\", {\n        params\n      });\n      setCustomersData({\n        ...response.data,\n        content: response.data.content || []\n      });\n    } catch (error) {\n      setError(\"Không thể tải dữ liệu.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    fetchCustomers();\n  }, [search, genderFilter, statusFilter, viewCount, page]);\n\n  // --- Các hàm xử lý (giữ nguyên) ---\n  // ...\n\n  const columns = [{\n    name: \"stt\",\n    label: \"STT\",\n    align: \"center\"\n  }, {\n    name: \"tenKhachHang\",\n    label: \"Khách hàng\",\n    align: \"left\",\n    render: (value, row) => /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      gap: 1.5,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        src: row.anh,\n        alt: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this)\n  }, {\n    name: \"email\",\n    label: \"Email\",\n    align: \"left\"\n  }, {\n    name: \"ngaySinh\",\n    label: \"Ngày sinh\",\n    align: \"center\",\n    render: value => value ? dayjs(value).format(\"DD/MM/YYYY\") : \"\"\n  }, {\n    name: \"gioiTinh\",\n    label: \"Giới tính\",\n    align: \"center\",\n    render: value => getGenderText(value)\n  }, {\n    name: \"trangThai\",\n    label: \"Trạng thái\",\n    align: \"center\",\n    render: value => /*#__PURE__*/_jsxDEV(Typography, {\n      component: \"span\",\n      variant: \"caption\",\n      sx: {\n        background: getStatusText(value) === \"Online\" ? \"#e6f4ea\" : \"#f4f6fb\",\n        color: getStatusText(value) === \"Online\" ? \"#2e7d32\" : \"#5f6368\",\n        border: `1px solid ${getStatusText(value) === \"Online\" ? \"#2e7d32\" : \"#e0e0e0\"}`,\n        borderRadius: \"6px\",\n        fontWeight: 600,\n        padding: \"4px 8px\"\n      },\n      children: getStatusText(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this)\n  }, {\n    name: \"actions\",\n    label: \"Thao tác\",\n    align: \"center\",\n    render: (_, row) => {\n      // If in selection mode, only show the \"Chọn\" button\n      if (isSelectionMode) {\n        return /*#__PURE__*/_jsxDEV(SoftButton, {\n          variant: \"contained\",\n          color: \"info\",\n          size: \"small\",\n          onClick: () => onSelectCustomer(row),\n          children: \"Ch\\u1ECDn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this);\n      }\n      // Otherwise, show normal actions (detail, delete)\n      return /*#__PURE__*/_jsxDEV(SoftBox, {\n        display: \"flex\",\n        gap: 0.5,\n        justifyContent: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          title: \"Chi ti\\u1EBFt\",\n          onClick: () => navigate(`/KhachHang/ChiTiet/${row.id}`),\n          children: /*#__PURE__*/_jsxDEV(FaEye, {\n            color: \"#49a3f1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          title: \"X\\xF3a\",\n          onClick: () => {\n            /* handleDeleteOpen(row) */\n          },\n          children: /*#__PURE__*/_jsxDEV(FaTrash, {\n            color: \"#e74c3c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this);\n    }\n  }];\n  const rows = customersData.content.map((item, idx) => ({\n    stt: page * viewCount + idx + 1,\n    ...item\n  }));\n  const paginationItems = getPaginationItems(customersData.number, customersData.totalPages);\n\n  // --- Tách JSX thành các phần con để tái sử dụng ---\n  const renderFilters = /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      padding: {\n        xs: 2,\n        md: 3\n      },\n      marginBottom: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(SoftBox, {\n      display: \"flex\",\n      flexDirection: {\n        xs: \"column\",\n        md: \"row\"\n      },\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      gap: 2,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        fullWidth: true,\n        placeholder: \"T\\xECm ki\\u1EBFm kh\\xE1ch h\\xE0ng\",\n        value: search,\n        onChange: e => {\n          setSearch(e.target.value);\n          setPage(0);\n        },\n        startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"start\",\n          children: /*#__PURE__*/_jsxDEV(Icon, {\n            fontSize: \"small\",\n            children: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        size: \"small\",\n        startIcon: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 22\n        }, this),\n        sx: {\n          borderColor: \"#49a3f1\",\n          color: \"#49a3f1\"\n        },\n        onClick: handleOpenAddCustomerDialog,\n        children: \"Th\\xEAm kh\\xE1ch h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n  const renderTable = /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      padding: {\n        xs: 2,\n        md: 3\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(SoftBox, {\n      children: [error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        columns: columns,\n        rows: rows,\n        loading: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      marginTop: 2,\n      flexWrap: \"wrap\",\n      gap: 2,\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        sx: {\n          minWidth: 120\n        },\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          size: \"small\",\n          value: viewCount,\n          onChange: e => setViewCount(Number(e.target.value)),\n          children: viewOptions.map(n => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: n,\n            children: [\"Xem \", n]\n          }, n, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 1,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          disabled: customersData.first,\n          onClick: () => setPage(page - 1),\n          children: \"Tr\\u01B0\\u1EDBc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), paginationItems.map((item, idx) => item === \"...\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"...\"\n        }, `ellipsis-${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: customersData.number === item ? \"contained\" : \"text\",\n          color: \"info\",\n          size: \"small\",\n          onClick: () => setPage(item),\n          sx: {\n            minWidth: 36\n          },\n          children: item + 1\n        }, item, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          disabled: customersData.last,\n          onClick: () => setPage(page + 1),\n          children: \"Sau\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Notifications, {\n      open: notification.open,\n      onClose: () => setNotification({\n        ...notification,\n        open: false\n      }),\n      message: notification.message,\n      severity: notification.severity,\n      sx: {\n        zIndex: 9999\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n      py: 3,\n      children: [renderFilters, renderTable]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddCustomerDialog, {\n      open: addCustomerDialogOpen,\n      onClose: handleCloseAddCustomerDialog,\n      onCustomerAdded: handleCustomerAdded,\n      showNotification: setNotification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(CustomerTable, \"peJAFH5SvkXUSpjUm2oKibMh8iM=\", false, function () {\n  return [useNavigate];\n});\n_c = CustomerTable;\nCustomerTable.propTypes = {\n  isSelectionMode: PropTypes.bool,\n  onSelectCustomer: PropTypes.func\n};\nexport default CustomerTable;\nvar _c;\n$RefreshReg$(_c, \"CustomerTable\");","map":{"version":3,"names":["React","useState","useEffect","Card","IconButton","Button","InputAdornment","Input","Select","MenuItem","FormControl","SoftBox","DashboardLayout","DashboardNavbar","Footer","Icon","Table","useNavigate","FaPlus","FaEye","FaTrash","axios","TextField","CircularProgress","Box","Typography","Divider","DialogContentText","Avatar","Notifications","dayjs","SoftButton","PropTypes","AddCustomerDialog","jsxDEV","_jsxDEV","Fragment","_Fragment","genderList","statusList","viewOptions","getGenderText","gender","getStatusText","status","getPaginationItems","current","total","Array","from","length","_","i","CustomerTable","isSelectionMode","onSelectCustomer","_s","customersData","setCustomersData","content","totalPages","number","first","last","loading","setLoading","error","setError","search","setSearch","genderFilter","setGenderFilter","statusFilter","setStatusFilter","viewCount","setViewCount","page","setPage","editModalOpen","setEditModalOpen","editingCustomer","setEditingCustomer","editForm","setEditForm","editSaving","setEditSaving","deleteDialogOpen","setDeleteDialogOpen","deletingCustomer","setDeletingCustomer","deleteLoading","setDeleteLoading","notification","setNotification","open","message","severity","navigate","addCustomerDialogOpen","setAddCustomerDialogOpen","handleOpenAddCustomerDialog","console","log","handleCloseAddCustomerDialog","handleCustomerAdded","fetchCustomers","getGenderParam","undefined","params","size","tenKhachHang","gioiTinh","trangThai","response","get","data","columns","name","label","align","render","value","row","display","alignItems","gap","children","src","anh","alt","fileName","_jsxFileName","lineNumber","columnNumber","variant","format","component","sx","background","color","border","borderRadius","fontWeight","padding","onClick","justifyContent","title","id","rows","map","item","idx","stt","paginationItems","renderFilters","xs","md","marginBottom","flexDirection","fullWidth","placeholder","onChange","e","target","startAdornment","position","fontSize","startIcon","borderColor","renderTable","marginTop","flexWrap","minWidth","Number","n","disabled","onClose","zIndex","py","onCustomerAdded","showNotification","_c","propTypes","bool","func","$RefreshReg$"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/BanHangTaiQuay/component/CustomerTable.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Card from \"@mui/material/Card\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport Input from \"@mui/material/Input\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport SoftBox from \"components/SoftBox\";\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\nimport Footer from \"examples/Footer\";\nimport Icon from \"@mui/material/Icon\";\nimport Table from \"examples/Tables/Table\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaPlus, FaEye, FaTrash } from \"react-icons/fa\"; // FaTrash and FaEye are still here for other actions, even if not used by default in isSelectionMode\nimport axios from \"axios\";\nimport TextField from \"@mui/material/TextField\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Notifications from \"layouts/Notifications\";\nimport dayjs from \"dayjs\";\nimport SoftButton from \"components/SoftButton\";\nimport PropTypes from \"prop-types\";\n\n// Import component AddCustomerDialog\nimport AddCustomerDialog from \"./AddCustomerDialog\"; // Đảm bảo đường dẫn này đúng\n\n// --- Các hàm tiện ích (giữ nguyên) ---\nconst genderList = [\"Tất cả\", \"Nam\", \"Nữ\", \"Khác\"];\nconst statusList = [\"Tất cả\", \"Online\", \"Offline\"];\nconst viewOptions = [5, 10, 20];\n\nfunction getGenderText(gender) {\n  if (gender === \"Nam\" || gender === 1) return \"Nam\";\n  if (gender === \"Nữ\" || gender === 0) return \"Nữ\";\n  return \"Khác\";\n}\n\nfunction getStatusText(status) {\n  if (status === 1 || status === \"Online\") return \"Online\";\n  return \"Offline\";\n}\n\nfunction getPaginationItems(current, total) {\n  if (total <= 5) return Array.from({ length: total }, (_, i) => i);\n  if (current <= 2) return [0, 1, 2, \"...\", total - 1];\n  if (current >= total - 3) return [0, \"...\", total - 3, total - 2, total - 1];\n  return [0, \"...\", current - 1, current, current + 1, \"...\", total - 1];\n}\n\n// === BẮT ĐẦU COMPONENT ===\nfunction CustomerTable({ isSelectionMode = false, onSelectCustomer = () => {} }) {\n  const [customersData, setCustomersData] = useState({\n    content: [],\n    totalPages: 0,\n    number: 0,\n    first: true,\n    last: true,\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [search, setSearch] = useState(\"\");\n  const [genderFilter, setGenderFilter] = useState(\"Tất cả\");\n  const [statusFilter, setStatusFilter] = useState(\"Tất cả\");\n  const [viewCount, setViewCount] = useState(5);\n  const [page, setPage] = useState(0);\n\n  // States cho các dialog sửa/xóa (giữ nguyên nếu bạn đang dùng)\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [editingCustomer, setEditingCustomer] = useState(null);\n  const [editForm, setEditForm] = useState({});\n  const [editSaving, setEditSaving] = useState(false);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [deletingCustomer, setDeletingCustomer] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  // Notification state\n  const [notification, setNotification] = useState({ open: false, message: \"\", severity: \"info\" });\n  const navigate = useNavigate();\n\n  // State to control the AddCustomerDialog\n  const [addCustomerDialogOpen, setAddCustomerDialogOpen] = useState(false);\n\n  // Function to open the Add Customer Dialog\n  const handleOpenAddCustomerDialog = () => {\n    console.log(\"Button clicked! Opening AddCustomerDialog.\");\n    setAddCustomerDialogOpen(true);\n  };\n\n  // Function to close the Add Customer Dialog\n  const handleCloseAddCustomerDialog = () => {\n    setAddCustomerDialogOpen(false);\n  };\n\n  // Callback function to refresh customer list after a new customer is added\n  const handleCustomerAdded = () => {\n    handleCloseAddCustomerDialog(); // Close the add customer dialog\n    fetchCustomers(); // Re-fetch the customer data to show the newly added customer\n  };\n\n  async function fetchCustomers() {\n    setLoading(true);\n    setError(null);\n    try {\n      const getGenderParam = () => {\n        if (genderFilter === \"Nam\") return 1;\n        if (genderFilter === \"Nữ\") return 0;\n        return undefined;\n      };\n\n      const params = {\n        page: page,\n        size: viewCount,\n        tenKhachHang: search || undefined,\n        gioiTinh: getGenderParam(),\n        trangThai: statusFilter !== \"Tất cả\" ? (statusFilter === \"Online\" ? 1 : 0) : undefined,\n      };\n\n      const response = await axios.get(\"http://localhost:8080/khachHang\", { params });\n      setCustomersData({ ...response.data, content: response.data.content || [] });\n    } catch (error) {\n      setError(\"Không thể tải dữ liệu.\");\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    fetchCustomers();\n  }, [search, genderFilter, statusFilter, viewCount, page]);\n\n  // --- Các hàm xử lý (giữ nguyên) ---\n  // ...\n\n  const columns = [\n    { name: \"stt\", label: \"STT\", align: \"center\" },\n    {\n      name: \"tenKhachHang\",\n      label: \"Khách hàng\",\n      align: \"left\",\n      render: (value, row) => (\n        <Box display=\"flex\" alignItems=\"center\" gap={1.5}>\n          <Avatar src={row.anh} alt={value} />\n          <Typography variant=\"body2\">{value}</Typography>\n        </Box>\n      ),\n    },\n    { name: \"email\", label: \"Email\", align: \"left\" },\n    {\n      name: \"ngaySinh\",\n      label: \"Ngày sinh\",\n      align: \"center\",\n      render: (value) => (value ? dayjs(value).format(\"DD/MM/YYYY\") : \"\"),\n    },\n    {\n      name: \"gioiTinh\",\n      label: \"Giới tính\",\n      align: \"center\",\n      render: (value) => getGenderText(value),\n    },\n    {\n      name: \"trangThai\",\n      label: \"Trạng thái\",\n      align: \"center\",\n      render: (value) => (\n        <Typography\n          component=\"span\"\n          variant=\"caption\"\n          sx={{\n            background: getStatusText(value) === \"Online\" ? \"#e6f4ea\" : \"#f4f6fb\",\n            color: getStatusText(value) === \"Online\" ? \"#2e7d32\" : \"#5f6368\",\n            border: `1px solid ${getStatusText(value) === \"Online\" ? \"#2e7d32\" : \"#e0e0e0\"}`,\n            borderRadius: \"6px\",\n            fontWeight: 600,\n            padding: \"4px 8px\",\n          }}\n        >\n          {getStatusText(value)}\n        </Typography>\n      ),\n    },\n    {\n      name: \"actions\",\n      label: \"Thao tác\",\n      align: \"center\",\n      render: (_, row) => {\n        // If in selection mode, only show the \"Chọn\" button\n        if (isSelectionMode) {\n          return (\n            <SoftButton\n              variant=\"contained\"\n              color=\"info\"\n              size=\"small\"\n              onClick={() => onSelectCustomer(row)}\n            >\n              Chọn\n            </SoftButton>\n          );\n        }\n        // Otherwise, show normal actions (detail, delete)\n        return (\n          <SoftBox display=\"flex\" gap={0.5} justifyContent=\"center\">\n            <IconButton\n              size=\"small\"\n              title=\"Chi tiết\"\n              onClick={() => navigate(`/KhachHang/ChiTiet/${row.id}`)}\n            >\n              <FaEye color=\"#49a3f1\" />\n            </IconButton>\n            <IconButton\n              size=\"small\"\n              title=\"Xóa\"\n              onClick={() => {\n                /* handleDeleteOpen(row) */\n              }}\n            >\n              <FaTrash color=\"#e74c3c\" />\n            </IconButton>\n          </SoftBox>\n        );\n      },\n    },\n  ];\n\n  const rows = customersData.content.map((item, idx) => ({\n    stt: page * viewCount + idx + 1,\n    ...item,\n  }));\n\n  const paginationItems = getPaginationItems(customersData.number, customersData.totalPages);\n\n  // --- Tách JSX thành các phần con để tái sử dụng ---\n  const renderFilters = (\n    <Card sx={{ padding: { xs: 2, md: 3 }, marginBottom: 2 }}>\n      <SoftBox\n        display=\"flex\"\n        flexDirection={{ xs: \"column\", md: \"row\" }}\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        gap={2}\n      >\n        <Input\n          fullWidth\n          placeholder=\"Tìm kiếm khách hàng\"\n          value={search}\n          onChange={(e) => {\n            setSearch(e.target.value);\n            setPage(0);\n          }}\n          startAdornment={\n            <InputAdornment position=\"start\">\n              <Icon fontSize=\"small\">search</Icon>\n            </InputAdornment>\n          }\n        />\n       \n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          startIcon={<FaPlus />}\n          sx={{ borderColor: \"#49a3f1\", color: \"#49a3f1\" }}\n          onClick={handleOpenAddCustomerDialog}\n        >\n          Thêm khách hàng\n        </Button>\n      </SoftBox>\n    </Card>\n  );\n\n  const renderTable = (\n    <Card sx={{ padding: { xs: 2, md: 3 } }}>\n      <SoftBox>\n        {error && <Typography color=\"error\">{error}</Typography>}\n        <Table columns={columns} rows={rows} loading={loading} />\n      </SoftBox>\n      <SoftBox\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        marginTop={2}\n        flexWrap=\"wrap\"\n        gap={2}\n      >\n        <FormControl sx={{ minWidth: 120 }}>\n          <Select\n            size=\"small\"\n            value={viewCount}\n            onChange={(e) => setViewCount(Number(e.target.value))}\n          >\n            {viewOptions.map((n) => (\n              <MenuItem key={n} value={n}>\n                Xem {n}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        <SoftBox display=\"flex\" alignItems=\"center\" gap={1}>\n          <Button size=\"small\" disabled={customersData.first} onClick={() => setPage(page - 1)}>\n            Trước\n          </Button>\n          {paginationItems.map((item, idx) =>\n            item === \"...\" ? (\n              <span key={`ellipsis-${idx}`}>...</span>\n            ) : (\n              <Button\n                key={item}\n                variant={customersData.number === item ? \"contained\" : \"text\"}\n                color=\"info\"\n                size=\"small\"\n                onClick={() => setPage(item)}\n                sx={{ minWidth: 36 }}\n              >\n                {item + 1}\n              </Button>\n            )\n          )}\n          <Button size=\"small\" disabled={customersData.last} onClick={() => setPage(page + 1)}>\n            Sau\n          </Button>\n        </SoftBox>\n      </SoftBox>\n    </Card>\n  );\n\n  return (\n    <>\n      <Notifications\n        open={notification.open}\n        onClose={() => setNotification({ ...notification, open: false })}\n        message={notification.message}\n        severity={notification.severity}\n         sx={{ zIndex: 9999 }} \n      />\n      <SoftBox py={3}>\n        {renderFilters}\n        {renderTable}\n      </SoftBox>\n\n      {/* AddCustomerDialog luôn được render và sẵn sàng để mở */}\n      <AddCustomerDialog\n        open={addCustomerDialogOpen}\n        onClose={handleCloseAddCustomerDialog}\n        onCustomerAdded={handleCustomerAdded}\n        showNotification={setNotification}\n      />\n\n      {/* ... Các Dialog sửa/xóa của bạn nếu có ... */}\n\n      <Footer />\n    </>\n  );\n}\n\nCustomerTable.propTypes = {\n  isSelectionMode: PropTypes.bool,\n  onSelectCustomer: PropTypes.func,\n};\n\nexport default CustomerTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}