{"ast":null,"code":"var _jsxFileName = \"D:\\\\fashion-shirt-shop\\\\DATN\\\\src\\\\main\\\\resources\\\\templates\\\\fashionshop-ui\\\\src\\\\layouts\\\\SanPham\\\\sanphan.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"@mui/material/Card\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport Input from \"@mui/material/Input\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport SoftBox from \"components/SoftBox\";\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\nimport Footer from \"examples/Footer\";\nimport Icon from \"@mui/material/Icon\";\nimport Table from \"examples/Tables/Table\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaPlus, FaEye, FaEdit, FaTrash } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport TextField from \"@mui/material/TextField\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport MenuItemMui from \"@mui/material/MenuItem\";\nimport ReactSelect from \"react-select\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Divider from \"@mui/material/Divider\";\nimport DialogContentText from \"@mui/material/DialogContentText\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst selectMenuStyle = {\n  menu: base => ({\n    ...base,\n    borderRadius: 12,\n    zIndex: 25,\n    boxShadow: \"0 6px 24px 0 rgba(0,0,0,0.12)\",\n    fontSize: 16\n  }),\n  placeholder: base => ({\n    ...base,\n    color: \"#a8b8c3\"\n  }),\n  option: (base, state) => ({\n    ...base,\n    backgroundColor: state.isSelected ? \"#e3f2fd\" : state.isFocused ? \"#f0f7fa\" : \"#fff\",\n    color: \"#263238\",\n    fontWeight: state.isSelected ? 600 : 500,\n    cursor: \"pointer\",\n    fontSize: 16,\n    padding: \"11px 16px\"\n  })\n};\nfunction getOptionByValue(options, value) {\n  if (value === undefined || value === null || value === \"\") return null;\n  return options.find(function (option) {\n    return String(option.value) === String(value);\n  }) || null;\n}\nfunction formatPrice(value) {\n  if (value !== undefined && value !== null) {\n    return value.toLocaleString(\"vi-VN\") + \" ₫\";\n  }\n  return \"\";\n}\nfunction getTrangThaiText(status) {\n  if (status === 1 || status === \"Đang bán\" || status === \"Hiển thị\") {\n    return \"Đang bán\";\n  }\n  return \"Ngừng bán\";\n}\nconst statusList = [\"Tất cả\", \"Đang bán\", \"Ngừng bán\"];\nconst viewOptions = [5, 10, 20];\nfunction getPriceRangeText(min, max) {\n  if (min === undefined && max === undefined) return \"\";\n  if (min === max || max === undefined) return formatPrice(min);\n  return formatPrice(min) + \" - \" + formatPrice(max);\n}\nfunction getPaginationItems(current, total) {\n  if (total <= 4) return Array.from({\n    length: total\n  }, function (_, i) {\n    return i;\n  });\n  if (current <= 1) return [0, 1, \"...\", total - 2, total - 1];\n  if (current >= total - 2) return [0, 1, \"...\", total - 2, total - 1];\n  return [0, 1, \"...\", current, \"...\", total - 2, total - 1];\n}\nfunction validateEditForm(form) {\n  const errors = {};\n  if (!form.maSanPham || !form.maSanPham.trim()) {\n    errors.maSanPham = \"Vui lòng nhập mã sản phẩm\";\n  }\n  if (!form.tenSanPham || !form.tenSanPham.trim()) {\n    errors.tenSanPham = \"Vui lòng nhập tên sản phẩm\";\n  }\n  if (!form.idDanhMuc || !String(form.idDanhMuc).trim()) {\n    errors.idDanhMuc = \"Vui lòng chọn danh mục\";\n  }\n  return errors;\n}\nfunction ProductTable() {\n  _s();\n  const [productsData, setProductsData] = useState({\n    content: [],\n    totalPages: 0,\n    number: 0,\n    first: true,\n    last: true\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [search, setSearch] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"Tất cả\");\n  const [viewCount, setViewCount] = useState(5);\n  const [page, setPage] = useState(0);\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [editForm, setEditForm] = useState({\n    tenSanPham: \"\",\n    maSanPham: \"\",\n    xuatXu: \"\",\n    trangThai: 1,\n    idDanhMuc: \"\"\n  });\n  const [editFormErrors, setEditFormErrors] = useState({});\n  const [editSaving, setEditSaving] = useState(false);\n  const [xuatXuList, setXuatXuList] = useState([]);\n  const [danhMucList, setDanhMucList] = useState([]);\n  const [danhMucOptions, setDanhMucOptions] = useState([]);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [deletingProduct, setDeletingProduct] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const navigate = useNavigate();\n  useEffect(function () {\n    async function fetchCountries() {\n      try {\n        const response = await axios.get(\"http://localhost:8080/xuatXu/quocGia\");\n        setXuatXuList(response.data || []);\n      } catch (error) {\n        setXuatXuList([]);\n      }\n    }\n    fetchCountries();\n  }, []);\n  useEffect(function () {\n    async function fetchDanhMuc() {\n      try {\n        const response = await axios.get(\"http://localhost:8080/danhMuc/all\");\n        setDanhMucList(response.data || []);\n        setDanhMucOptions((response.data || []).map(function (danhMuc) {\n          return {\n            value: String(danhMuc.id),\n            label: danhMuc.tenDanhMuc\n          };\n        }));\n      } catch (error) {\n        setDanhMucList([]);\n        setDanhMucOptions([]);\n      }\n    }\n    fetchDanhMuc();\n  }, []);\n  async function fetchProducts() {\n    setLoading(true);\n    setError(null);\n    try {\n      let params = {\n        page: page,\n        size: viewCount,\n        tenSanPham: search\n      };\n      if (statusFilter !== \"Tất cả\") {\n        params.trangThai = statusFilter === \"Đang bán\" ? 1 : 0;\n      }\n      const response = await axios.get(\"http://localhost:8080/sanPham\", {\n        params: params\n      });\n      const productList = (response.data.content || []).filter(function (product) {\n        return product.trangThai === 0 || product.trangThai === 1;\n      });\n      const results = await Promise.all(productList.map(async function (product) {\n        try {\n          const detailResponse = await axios.get(\"http://localhost:8080/chiTietSanPham/by-san-pham/\" + product.id);\n          const detailList = detailResponse.data || [];\n          const totalQuantity = detailList.reduce(function (sum, detail) {\n            return sum + (detail.soLuong || 0);\n          }, 0);\n          let minPrice;\n          let maxPrice;\n          const prices = detailList.filter(function (detail) {\n            return detail.gia !== undefined && detail.gia !== null;\n          }).map(function (detail) {\n            return detail.gia;\n          });\n          if (prices.length > 0) {\n            minPrice = Math.min.apply(null, prices);\n            maxPrice = Math.max.apply(null, prices);\n          }\n          return {\n            id: product.id,\n            maSanPham: product.maSanPham,\n            tenSanPham: product.tenSanPham,\n            xuatXu: product.xuatXu,\n            trangThai: product.trangThai,\n            giaMin: minPrice,\n            giaMax: maxPrice,\n            quantity: totalQuantity,\n            idDanhMuc: product.danhMuc ? product.danhMuc.id : \"\"\n          };\n        } catch (error) {\n          return {\n            id: product.id,\n            maSanPham: product.maSanPham,\n            tenSanPham: product.tenSanPham,\n            xuatXu: product.xuatXu,\n            trangThai: product.trangThai,\n            giaMin: undefined,\n            giaMax: undefined,\n            quantity: 0,\n            idDanhMuc: product.danhMuc ? product.danhMuc.id : \"\"\n          };\n        }\n      }));\n      setProductsData({\n        ...response.data,\n        content: results\n      });\n    } catch (error) {\n      setError(\"Không thể tải dữ liệu. Vui lòng thử lại sau.\");\n      setProductsData({\n        content: [],\n        totalPages: 0,\n        number: 0,\n        first: true,\n        last: true\n      });\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(function () {\n    fetchProducts();\n  }, [search, statusFilter, viewCount, page]);\n  function handlePageChange(newPage) {\n    if (typeof newPage === \"number\" && newPage >= 0 && newPage < productsData.totalPages && newPage !== page) {\n      setPage(newPage);\n    }\n  }\n  function handleSearchChange(event) {\n    setSearch(event.target.value);\n    setPage(0);\n  }\n  function handleStatusFilterChange(event) {\n    setStatusFilter(event.target.value);\n    setPage(0);\n  }\n  function handleViewCountChange(event) {\n    setViewCount(Number(event.target.value));\n    setPage(0);\n  }\n  async function handleEditOpen(product) {\n    setEditingProduct(product);\n    setEditFormErrors({});\n    try {\n      const response = await axios.get(\"http://localhost:8080/sanPham/\" + product.id);\n      const detail = response.data;\n      setEditForm({\n        tenSanPham: detail.tenSanPham || \"\",\n        maSanPham: detail.maSanPham || \"\",\n        xuatXu: detail.xuatXu || \"\",\n        trangThai: detail.trangThai !== undefined ? detail.trangThai : 1,\n        idDanhMuc: detail.idDanhMuc ? String(detail.idDanhMuc) : detail.danhMuc && detail.danhMuc.id ? String(detail.danhMuc.id) : \"\"\n      });\n    } catch (error) {\n      setEditForm({\n        tenSanPham: product.tenSanPham || \"\",\n        maSanPham: product.maSanPham || \"\",\n        xuatXu: product.xuatXu || \"\",\n        trangThai: product.trangThai !== undefined ? product.trangThai : 1,\n        idDanhMuc: product.idDanhMuc ? String(product.idDanhMuc) : \"\"\n      });\n    }\n    setEditModalOpen(true);\n  }\n  function handleEditClose() {\n    setEditModalOpen(false);\n    setEditingProduct(null);\n    setEditForm({\n      tenSanPham: \"\",\n      maSanPham: \"\",\n      xuatXu: \"\",\n      trangThai: 1,\n      idDanhMuc: \"\"\n    });\n    setEditFormErrors({});\n  }\n  function handleEditChange(event) {\n    let value = event.target.value;\n    if (event.target.name === \"trangThai\") {\n      value = Number(value);\n    }\n    setEditForm({\n      ...editForm,\n      [event.target.name]: value\n    });\n  }\n  async function handleEditSave() {\n    if (!editingProduct) return;\n    setEditSaving(true);\n    const errors = validateEditForm(editForm);\n    setEditFormErrors(errors);\n    if (Object.keys(errors).length > 0) {\n      toast.error(Object.values(errors)[0]);\n      setEditSaving(false);\n      return;\n    }\n    try {\n      await axios.put(\"http://localhost:8080/sanPham/\" + editingProduct.id, {\n        tenSanPham: editForm.tenSanPham,\n        maSanPham: editForm.maSanPham,\n        xuatXu: editForm.xuatXu,\n        trangThai: editForm.trangThai,\n        idDanhMuc: editForm.idDanhMuc\n      });\n      handleEditClose();\n      toast.success(\"Cập nhật sản phẩm thành công!\");\n      fetchProducts();\n    } catch (error) {\n      toast.error(\"Sửa sản phẩm thất bại!\");\n    } finally {\n      setEditSaving(false);\n    }\n  }\n  function handleDeleteOpen(product) {\n    setDeletingProduct(product);\n    setDeleteDialogOpen(true);\n  }\n  function handleDeleteClose() {\n    setDeleteDialogOpen(false);\n    setDeletingProduct(null);\n  }\n  async function handleDeleteConfirm() {\n    if (!deletingProduct) return;\n    setDeleteLoading(true);\n    try {\n      await axios.delete(\"http://localhost:8080/sanPham/\" + deletingProduct.id);\n      handleDeleteClose();\n      toast.success(\"Xóa sản phẩm thành công!\");\n      fetchProducts();\n    } catch (error) {\n      toast.error(\"Xóa sản phẩm thất bại!\");\n    } finally {\n      setDeleteLoading(false);\n    }\n  }\n  const columns = [{\n    name: \"stt\",\n    label: \"STT\",\n    align: \"center\",\n    width: \"60px\"\n  }, {\n    name: \"maSanPham\",\n    label: \"Mã\",\n    align: \"left\",\n    width: \"110px\"\n  }, {\n    name: \"tenSanPham\",\n    label: \"Tên sản phẩm\",\n    align: \"left\",\n    width: \"180px\"\n  }, {\n    name: \"gia\",\n    label: \"Giá\",\n    align: \"center\",\n    width: \"180px\",\n    render: function (value, row) {\n      return getPriceRangeText(row.giaMin, row.giaMax);\n    }\n  }, {\n    name: \"quantity\",\n    label: \"Số lượng\",\n    align: \"center\",\n    width: \"100px\",\n    render: function (value) {\n      return value !== undefined && value !== null ? value : 0;\n    }\n  }, {\n    name: \"status\",\n    label: \"Trạng thái\",\n    align: \"center\",\n    width: \"120px\",\n    render: function (value) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          background: getTrangThaiText(value) === \"Đang bán\" ? \"#e6f4ea\" : \"#f4f6fb\",\n          color: getTrangThaiText(value) === \"Đang bán\" ? \"#219653\" : \"#bdbdbd\",\n          border: \"1px solid \" + (getTrangThaiText(value) === \"Đang bán\" ? \"#219653\" : \"#bdbdbd\"),\n          borderRadius: 6,\n          fontWeight: 500,\n          padding: \"2px 12px\",\n          fontSize: 13,\n          display: \"inline-block\"\n        },\n        children: getTrangThaiText(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    name: \"actions\",\n    label: \"Thao tác\",\n    align: \"center\",\n    width: \"110px\",\n    render: function (_, row) {\n      return /*#__PURE__*/_jsxDEV(SoftBox, {\n        display: \"flex\",\n        gap: 0.5,\n        justifyContent: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          sx: {\n            color: \"#4acbf2\"\n          },\n          title: \"Chi ti\\u1EBFt\",\n          onClick: function () {\n            navigate(\"/SanPham/ChiTietSanPham/\" + row.id);\n          },\n          children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          sx: {\n            color: \"#4acbf2\"\n          },\n          title: \"S\\u1EEDa\",\n          onClick: function () {\n            handleEditOpen(row);\n          },\n          children: /*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          sx: {\n            color: \"#e74c3c\"\n          },\n          title: \"X\\xF3a\",\n          onClick: function () {\n            handleDeleteOpen(row);\n          },\n          children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 21\n      }, this);\n    }\n  }];\n  const rows = productsData.content.map(function (item, idx) {\n    return {\n      stt: page * viewCount + idx + 1,\n      id: item.id,\n      maSanPham: item.maSanPham,\n      tenSanPham: item.tenSanPham,\n      xuatXu: item.xuatXu,\n      giaMin: item.giaMin,\n      giaMax: item.giaMax,\n      status: item.trangThai,\n      quantity: item.quantity,\n      idDanhMuc: item.idDanhMuc,\n      actions: \"\"\n    };\n  });\n  const paginationItems = getPaginationItems(productsData.number, productsData.totalPages);\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 2500,\n      hideProgressBar: false,\n      newestOnTop: false,\n      closeOnClick: true,\n      rtl: false,\n      pauseOnFocusLoss: true,\n      draggable: true,\n      pauseOnHover: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DashboardNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n      py: 3,\n      sx: {\n        background: \"#F4F6FB\",\n        minHeight: \"100vh\",\n        userSelect: \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          padding: {\n            xs: 2,\n            md: 3\n          },\n          marginBottom: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(SoftBox, {\n          display: \"flex\",\n          flexDirection: {\n            xs: \"column\",\n            md: \"row\"\n          },\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          gap: 2,\n          children: [/*#__PURE__*/_jsxDEV(SoftBox, {\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 2,\n            maxWidth: 600,\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              fullWidth: true,\n              placeholder: \"T\\xECm ki\\u1EBFm s\\u1EA3n ph\\u1EA9m\",\n              value: search,\n              onChange: handleSearchChange,\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(Icon, {\n                  fontSize: \"small\",\n                  sx: {\n                    color: \"#868686\"\n                  },\n                  children: \"search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 37\n              }, this),\n              sx: {\n                background: \"#f5f6fa\",\n                borderRadius: 2,\n                padding: 0.5,\n                color: \"#222\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              sx: {\n                minWidth: 140\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                value: statusFilter,\n                onChange: handleStatusFilterChange,\n                size: \"small\",\n                displayEmpty: true,\n                sx: {\n                  borderRadius: 2,\n                  background: \"#f5f6fa\",\n                  height: 40\n                },\n                inputProps: {\n                  \"aria-label\": \"Trạng thái\"\n                },\n                children: statusList.map(function (status) {\n                  return /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: status,\n                    children: status\n                  }, status, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 45\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 1,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"small\",\n              startIcon: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 44\n              }, this),\n              sx: {\n                borderRadius: 2,\n                textTransform: \"none\",\n                fontWeight: 400,\n                color: \"#49a3f1\",\n                borderColor: \"#49a3f1\",\n                boxShadow: \"none\",\n                \"&:hover\": {\n                  borderColor: \"#1769aa\",\n                  background: \"#f0f6fd\",\n                  color: \"#1769aa\"\n                }\n              },\n              onClick: function () {\n                navigate(\"/SanPham/ThemMoi\");\n              },\n              children: \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          padding: {\n            xs: 2,\n            md: 3\n          },\n          marginBottom: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(SoftBox, {\n          children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            rows: rows,\n            loading: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginTop: 2,\n          flexWrap: \"wrap\",\n          gap: 2,\n          children: [/*#__PURE__*/_jsxDEV(SoftBox, {\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              sx: {\n                minWidth: 120\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                value: viewCount,\n                onChange: handleViewCountChange,\n                size: \"small\",\n                children: viewOptions.map(function (number) {\n                  return /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: number,\n                    children: [\"Xem \", number]\n                  }, number, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 45\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 1,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"text\",\n              size: \"small\",\n              disabled: productsData.first,\n              onClick: function () {\n                handlePageChange(page - 1);\n              },\n              sx: {\n                color: productsData.first ? \"#bdbdbd\" : \"#49a3f1\"\n              },\n              children: \"Tr\\u01B0\\u1EDBc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 29\n            }, this), paginationItems.map(function (item, idx) {\n              if (item === \"...\") {\n                return /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"text\",\n                  size: \"small\",\n                  disabled: true,\n                  sx: {\n                    minWidth: 32,\n                    borderRadius: 2,\n                    color: \"#bdbdbd\",\n                    pointerEvents: \"none\",\n                    fontWeight: 700\n                  },\n                  children: \"...\"\n                }, \"ellipsis-\" + idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 607,\n                  columnNumber: 41\n                }, this);\n              }\n              return /*#__PURE__*/_jsxDEV(Button, {\n                variant: productsData.number === item ? \"contained\" : \"text\",\n                color: productsData.number === item ? \"info\" : \"inherit\",\n                size: \"small\",\n                onClick: function () {\n                  handlePageChange(item);\n                },\n                sx: {\n                  minWidth: 32,\n                  borderRadius: 2,\n                  color: productsData.number === item ? \"#fff\" : \"#495057\",\n                  background: productsData.number === item ? \"#49a3f1\" : \"transparent\"\n                },\n                children: item + 1\n              }, item, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 37\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"text\",\n              size: \"small\",\n              disabled: productsData.last,\n              onClick: function () {\n                handlePageChange(page + 1);\n              },\n              sx: {\n                color: productsData.last ? \"#bdbdbd\" : \"#49a3f1\"\n              },\n              children: \"Sau\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: editModalOpen,\n      onClose: handleEditClose,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          borderRadius: 4,\n          background: \"#fafdff\"\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          fontWeight: 800,\n          fontSize: 26,\n          paddingBottom: 1,\n          color: \"#1976d2\",\n          letterSpacing: 0.5\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"C\\u1EADp nh\\u1EADt s\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"close\",\n            onClick: handleEditClose,\n            sx: {\n              color: \"#eb5757\",\n              marginLeft: 1,\n              background: \"#f5f6fa\",\n              \"&:hover\": {\n                background: \"#ffeaea\"\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          marginBottom: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          background: \"#f7fbff\",\n          paddingBottom: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 2,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontWeight: 700,\n              marginBottom: 0.5,\n              color: \"#1769aa\",\n              children: [\"T\\xEAn s\\u1EA3n ph\\u1EA9m \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#e74c3c\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 678,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              value: editForm.tenSanPham,\n              name: \"tenSanPham\",\n              onChange: handleEditChange,\n              fullWidth: true,\n              size: \"small\",\n              placeholder: \"Nh\\u1EADp t\\xEAn s\\u1EA3n ph\\u1EA9m\",\n              sx: {\n                background: \"#fff\",\n                borderRadius: 2\n              },\n              error: !!editFormErrors.tenSanPham,\n              helperText: editFormErrors.tenSanPham\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontWeight: 700,\n              marginBottom: 0.5,\n              color: \"#1769aa\",\n              children: \"Xu\\u1EA5t x\\u1EE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              size: \"small\",\n              sx: {\n                background: \"#fff\",\n                borderRadius: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                name: \"xuatXu\",\n                value: editForm.xuatXu,\n                onChange: handleEditChange,\n                displayEmpty: true,\n                inputProps: {\n                  \"aria-label\": \"Xuất xứ\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(MenuItemMui, {\n                  value: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"em\", {\n                    children: \"Ch\\u1ECDn xu\\u1EA5t x\\u1EE9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 59\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 704,\n                  columnNumber: 37\n                }, this), xuatXuList.map(function (xuatXu) {\n                  return /*#__PURE__*/_jsxDEV(MenuItemMui, {\n                    value: xuatXu,\n                    children: xuatXu\n                  }, xuatXu, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 45\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontWeight: 700,\n              marginBottom: 0.5,\n              color: \"#1769aa\",\n              children: [\"Danh m\\u1EE5c \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#e74c3c\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ReactSelect, {\n              options: danhMucOptions,\n              value: getOptionByValue(danhMucOptions, editForm.idDanhMuc),\n              onChange: function (option) {\n                setEditForm({\n                  ...editForm,\n                  idDanhMuc: option ? option.value : \"\"\n                });\n              },\n              styles: {\n                ...selectMenuStyle,\n                control: (base, state) => ({\n                  ...base,\n                  borderColor: editFormErrors.idDanhMuc ? \"#e74c3c\" : base.borderColor,\n                  boxShadow: \"none\",\n                  \"&:hover\": {\n                    borderColor: \"#1769aa\"\n                  }\n                })\n              },\n              isClearable: true,\n              placeholder: \"Ch\\u1ECDn danh m\\u1EE5c\",\n              noOptionsMessage: function () {\n                return \"Không có dữ liệu\";\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 29\n            }, this), editFormErrors.idDanhMuc && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                color: \"#e74c3c\",\n                fontSize: 13,\n                mt: 0.5\n              },\n              children: editFormErrors.idDanhMuc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontWeight: 700,\n              marginBottom: 0.5,\n              color: \"#1769aa\",\n              children: \"Tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              size: \"small\",\n              sx: {\n                background: \"#fff\",\n                borderRadius: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                name: \"trangThai\",\n                value: editForm.trangThai,\n                onChange: handleEditChange,\n                children: [/*#__PURE__*/_jsxDEV(MenuItemMui, {\n                  value: 1,\n                  children: \"\\u0110ang b\\xE1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(MenuItemMui, {\n                  value: 0,\n                  children: \"Ng\\u1EEBng b\\xE1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 751,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          padding: 2,\n          background: \"#fafdff\",\n          borderBottomLeftRadius: 12,\n          borderBottomRightRadius: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEditClose,\n          disabled: editSaving,\n          color: \"inherit\",\n          variant: \"outlined\",\n          sx: {\n            borderRadius: 2,\n            fontWeight: 600\n          },\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEditSave,\n          disabled: editSaving,\n          variant: \"contained\",\n          color: \"info\",\n          sx: {\n            borderRadius: 2,\n            minWidth: 120,\n            fontWeight: 700,\n            fontSize: 17,\n            boxShadow: 3\n          },\n          startIcon: editSaving ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 18,\n            color: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 218\n          }, this) : null,\n          children: \"L\\u01B0u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: deleteDialogOpen,\n      onClose: handleDeleteClose,\n      maxWidth: \"xs\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        fontWeight: 800,\n        color: \"#e74c3c\",\n        sx: {\n          fontSize: 22\n        },\n        children: \"X\\xE1c nh\\u1EADn x\\xF3a s\\u1EA3n ph\\u1EA9m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 767,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a s\\u1EA3n ph\\u1EA9m \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deletingProduct && deletingProduct.tenSanPham\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 60\n          }, this), \" kh\\xF4ng? Thao t\\xE1c n\\xE0y kh\\xF4ng th\\u1EC3 ho\\xE0n t\\xE1c.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 770,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          padding: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteClose,\n          disabled: deleteLoading,\n          variant: \"outlined\",\n          color: \"inherit\",\n          sx: {\n            borderRadius: 2,\n            fontWeight: 600\n          },\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteConfirm,\n          disabled: deleteLoading,\n          variant: \"contained\",\n          color: \"error\",\n          sx: {\n            borderRadius: 2,\n            minWidth: 110,\n            fontWeight: 700\n          },\n          startIcon: deleteLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 18,\n            color: \"inherit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 202\n          }, this) : null,\n          children: \"X\\xF3a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 775,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 784,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 480,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductTable, \"lauUz5KYt0BFNIQuODEaCcj1prY=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductTable;\nexport default ProductTable;\nvar _c;\n$RefreshReg$(_c, \"ProductTable\");","map":{"version":3,"names":["React","useState","useEffect","Card","IconButton","Button","InputAdornment","Input","Select","MenuItem","FormControl","SoftBox","DashboardLayout","DashboardNavbar","Footer","Icon","Table","useNavigate","FaPlus","FaEye","FaEdit","FaTrash","axios","Dialog","DialogTitle","DialogContent","DialogActions","TextField","CircularProgress","MenuItemMui","ReactSelect","Box","Typography","CloseIcon","Divider","DialogContentText","toast","ToastContainer","jsxDEV","_jsxDEV","selectMenuStyle","menu","base","borderRadius","zIndex","boxShadow","fontSize","placeholder","color","option","state","backgroundColor","isSelected","isFocused","fontWeight","cursor","padding","getOptionByValue","options","value","undefined","find","String","formatPrice","toLocaleString","getTrangThaiText","status","statusList","viewOptions","getPriceRangeText","min","max","getPaginationItems","current","total","Array","from","length","_","i","validateEditForm","form","errors","maSanPham","trim","tenSanPham","idDanhMuc","ProductTable","_s","productsData","setProductsData","content","totalPages","number","first","last","loading","setLoading","error","setError","search","setSearch","statusFilter","setStatusFilter","viewCount","setViewCount","page","setPage","editModalOpen","setEditModalOpen","editingProduct","setEditingProduct","editForm","setEditForm","xuatXu","trangThai","editFormErrors","setEditFormErrors","editSaving","setEditSaving","xuatXuList","setXuatXuList","danhMucList","setDanhMucList","danhMucOptions","setDanhMucOptions","deleteDialogOpen","setDeleteDialogOpen","deletingProduct","setDeletingProduct","deleteLoading","setDeleteLoading","navigate","fetchCountries","response","get","data","fetchDanhMuc","map","danhMuc","id","label","tenDanhMuc","fetchProducts","params","size","productList","filter","product","results","Promise","all","detailResponse","detailList","totalQuantity","reduce","sum","detail","soLuong","minPrice","maxPrice","prices","gia","Math","apply","giaMin","giaMax","quantity","handlePageChange","newPage","handleSearchChange","event","target","handleStatusFilterChange","handleViewCountChange","Number","handleEditOpen","handleEditClose","handleEditChange","name","handleEditSave","Object","keys","values","put","success","handleDeleteOpen","handleDeleteClose","handleDeleteConfirm","delete","columns","align","width","render","row","style","background","border","display","children","fileName","_jsxFileName","lineNumber","columnNumber","gap","justifyContent","sx","title","onClick","rows","item","idx","stt","actions","paginationItems","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","py","minHeight","userSelect","xs","md","marginBottom","flexDirection","alignItems","flex","maxWidth","fullWidth","onChange","startAdornment","minWidth","displayEmpty","height","inputProps","variant","startIcon","textTransform","borderColor","className","marginTop","flexWrap","disabled","pointerEvents","open","onClose","PaperProps","paddingBottom","letterSpacing","marginLeft","helperText","styles","control","isClearable","noOptionsMessage","mt","borderBottomLeftRadius","borderBottomRightRadius","_c","$RefreshReg$"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/SanPham/sanphan.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Card from \"@mui/material/Card\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Button from \"@mui/material/Button\";\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\nimport Input from \"@mui/material/Input\";\r\nimport Select from \"@mui/material/Select\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport SoftBox from \"components/SoftBox\";\r\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\r\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\r\nimport Footer from \"examples/Footer\";\r\nimport Icon from \"@mui/material/Icon\";\r\nimport Table from \"examples/Tables/Table\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { FaPlus, FaEye, FaEdit, FaTrash } from \"react-icons/fa\";\r\nimport axios from \"axios\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport MenuItemMui from \"@mui/material/MenuItem\";\r\nimport ReactSelect from \"react-select\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst selectMenuStyle = {\r\n    menu: (base) => ({\r\n        ...base,\r\n        borderRadius: 12,\r\n        zIndex: 25,\r\n        boxShadow: \"0 6px 24px 0 rgba(0,0,0,0.12)\",\r\n        fontSize: 16,\r\n    }),\r\n    placeholder: (base) => ({\r\n        ...base,\r\n        color: \"#a8b8c3\",\r\n    }),\r\n    option: (base, state) => ({\r\n        ...base,\r\n        backgroundColor: state.isSelected\r\n            ? \"#e3f2fd\"\r\n            : state.isFocused\r\n                ? \"#f0f7fa\"\r\n                : \"#fff\",\r\n        color: \"#263238\",\r\n        fontWeight: state.isSelected ? 600 : 500,\r\n        cursor: \"pointer\",\r\n        fontSize: 16,\r\n        padding: \"11px 16px\",\r\n    }),\r\n};\r\n\r\nfunction getOptionByValue(options, value) {\r\n    if (value === undefined || value === null || value === \"\") return null;\r\n    return options.find(function (option) { return String(option.value) === String(value); }) || null;\r\n}\r\n\r\nfunction formatPrice(value) {\r\n    if (value !== undefined && value !== null) {\r\n        return value.toLocaleString(\"vi-VN\") + \" ₫\";\r\n    }\r\n    return \"\";\r\n}\r\n\r\nfunction getTrangThaiText(status) {\r\n    if (status === 1 || status === \"Đang bán\" || status === \"Hiển thị\") {\r\n        return \"Đang bán\";\r\n    }\r\n    return \"Ngừng bán\";\r\n}\r\n\r\nconst statusList = [\"Tất cả\", \"Đang bán\", \"Ngừng bán\"];\r\nconst viewOptions = [5, 10, 20];\r\n\r\nfunction getPriceRangeText(min, max) {\r\n    if (min === undefined && max === undefined) return \"\";\r\n    if (min === max || max === undefined) return formatPrice(min);\r\n    return formatPrice(min) + \" - \" + formatPrice(max);\r\n}\r\n\r\nfunction getPaginationItems(current, total) {\r\n    if (total <= 4) return Array.from({ length: total }, function (_, i) { return i; });\r\n    if (current <= 1) return [0, 1, \"...\", total - 2, total - 1];\r\n    if (current >= total - 2) return [0, 1, \"...\", total - 2, total - 1];\r\n    return [0, 1, \"...\", current, \"...\", total - 2, total - 1];\r\n}\r\n\r\nfunction validateEditForm(form) {\r\n    const errors = {};\r\n    if (!form.maSanPham || !form.maSanPham.trim()) {\r\n        errors.maSanPham = \"Vui lòng nhập mã sản phẩm\";\r\n    }\r\n    if (!form.tenSanPham || !form.tenSanPham.trim()) {\r\n        errors.tenSanPham = \"Vui lòng nhập tên sản phẩm\";\r\n    }\r\n    if (!form.idDanhMuc || !String(form.idDanhMuc).trim()) {\r\n        errors.idDanhMuc = \"Vui lòng chọn danh mục\";\r\n    }\r\n    return errors;\r\n}\r\n\r\nfunction ProductTable() {\r\n    const [productsData, setProductsData] = useState({\r\n        content: [],\r\n        totalPages: 0,\r\n        number: 0,\r\n        first: true,\r\n        last: true,\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [statusFilter, setStatusFilter] = useState(\"Tất cả\");\r\n    const [viewCount, setViewCount] = useState(5);\r\n    const [page, setPage] = useState(0);\r\n    const [editModalOpen, setEditModalOpen] = useState(false);\r\n    const [editingProduct, setEditingProduct] = useState(null);\r\n    const [editForm, setEditForm] = useState({\r\n        tenSanPham: \"\",\r\n        maSanPham: \"\",\r\n        xuatXu: \"\",\r\n        trangThai: 1,\r\n        idDanhMuc: \"\",\r\n    });\r\n    const [editFormErrors, setEditFormErrors] = useState({});\r\n    const [editSaving, setEditSaving] = useState(false);\r\n    const [xuatXuList, setXuatXuList] = useState([]);\r\n    const [danhMucList, setDanhMucList] = useState([]);\r\n    const [danhMucOptions, setDanhMucOptions] = useState([]);\r\n    const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n    const [deletingProduct, setDeletingProduct] = useState(null);\r\n    const [deleteLoading, setDeleteLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(function () {\r\n        async function fetchCountries() {\r\n            try {\r\n                const response = await axios.get(\"http://localhost:8080/xuatXu/quocGia\");\r\n                setXuatXuList(response.data || []);\r\n            } catch (error) {\r\n                setXuatXuList([]);\r\n            }\r\n        }\r\n        fetchCountries();\r\n    }, []);\r\n\r\n    useEffect(function () {\r\n        async function fetchDanhMuc() {\r\n            try {\r\n                const response = await axios.get(\"http://localhost:8080/danhMuc/all\");\r\n                setDanhMucList(response.data || []);\r\n                setDanhMucOptions(\r\n                    (response.data || []).map(function (danhMuc) {\r\n                        return {\r\n                            value: String(danhMuc.id),\r\n                            label: danhMuc.tenDanhMuc\r\n                        };\r\n                    })\r\n                );\r\n            } catch (error) {\r\n                setDanhMucList([]);\r\n                setDanhMucOptions([]);\r\n            }\r\n        }\r\n        fetchDanhMuc();\r\n    }, []);\r\n\r\n    async function fetchProducts() {\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            let params = {\r\n                page: page,\r\n                size: viewCount,\r\n                tenSanPham: search,\r\n            };\r\n            if (statusFilter !== \"Tất cả\") {\r\n                params.trangThai = statusFilter === \"Đang bán\" ? 1 : 0;\r\n            }\r\n            const response = await axios.get(\"http://localhost:8080/sanPham\", { params: params });\r\n            const productList = (response.data.content || []).filter(function (product) {\r\n                return product.trangThai === 0 || product.trangThai === 1;\r\n            });\r\n            const results = await Promise.all(\r\n                productList.map(async function (product) {\r\n                    try {\r\n                        const detailResponse = await axios.get(\"http://localhost:8080/chiTietSanPham/by-san-pham/\" + product.id);\r\n                        const detailList = detailResponse.data || [];\r\n                        const totalQuantity = detailList.reduce(function (sum, detail) { return sum + (detail.soLuong || 0); }, 0);\r\n                        let minPrice;\r\n                        let maxPrice;\r\n                        const prices = detailList\r\n                            .filter(function (detail) { return detail.gia !== undefined && detail.gia !== null; })\r\n                            .map(function (detail) { return detail.gia; });\r\n                        if (prices.length > 0) {\r\n                            minPrice = Math.min.apply(null, prices);\r\n                            maxPrice = Math.max.apply(null, prices);\r\n                        }\r\n                        return {\r\n                            id: product.id,\r\n                            maSanPham: product.maSanPham,\r\n                            tenSanPham: product.tenSanPham,\r\n                            xuatXu: product.xuatXu,\r\n                            trangThai: product.trangThai,\r\n                            giaMin: minPrice,\r\n                            giaMax: maxPrice,\r\n                            quantity: totalQuantity,\r\n                            idDanhMuc: product.danhMuc ? product.danhMuc.id : \"\",\r\n                        };\r\n                    } catch (error) {\r\n                        return {\r\n                            id: product.id,\r\n                            maSanPham: product.maSanPham,\r\n                            tenSanPham: product.tenSanPham,\r\n                            xuatXu: product.xuatXu,\r\n                            trangThai: product.trangThai,\r\n                            giaMin: undefined,\r\n                            giaMax: undefined,\r\n                            quantity: 0,\r\n                            idDanhMuc: product.danhMuc ? product.danhMuc.id : \"\",\r\n                        };\r\n                    }\r\n                })\r\n            );\r\n            setProductsData({\r\n                ...response.data,\r\n                content: results,\r\n            });\r\n        } catch (error) {\r\n            setError(\"Không thể tải dữ liệu. Vui lòng thử lại sau.\");\r\n            setProductsData({\r\n                content: [],\r\n                totalPages: 0,\r\n                number: 0,\r\n                first: true,\r\n                last: true,\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    useEffect(function () {\r\n        fetchProducts();\r\n    }, [search, statusFilter, viewCount, page]);\r\n\r\n    function handlePageChange(newPage) {\r\n        if (\r\n            typeof newPage === \"number\" &&\r\n            newPage >= 0 &&\r\n            newPage < productsData.totalPages &&\r\n            newPage !== page\r\n        ) {\r\n            setPage(newPage);\r\n        }\r\n    }\r\n\r\n    function handleSearchChange(event) {\r\n        setSearch(event.target.value);\r\n        setPage(0);\r\n    }\r\n\r\n    function handleStatusFilterChange(event) {\r\n        setStatusFilter(event.target.value);\r\n        setPage(0);\r\n    }\r\n\r\n    function handleViewCountChange(event) {\r\n        setViewCount(Number(event.target.value));\r\n        setPage(0);\r\n    }\r\n\r\n    async function handleEditOpen(product) {\r\n        setEditingProduct(product);\r\n        setEditFormErrors({});\r\n        try {\r\n            const response = await axios.get(\"http://localhost:8080/sanPham/\" + product.id);\r\n            const detail = response.data;\r\n            setEditForm({\r\n                tenSanPham: detail.tenSanPham || \"\",\r\n                maSanPham: detail.maSanPham || \"\",\r\n                xuatXu: detail.xuatXu || \"\",\r\n                trangThai: detail.trangThai !== undefined ? detail.trangThai : 1,\r\n                idDanhMuc: detail.idDanhMuc ? String(detail.idDanhMuc) : (detail.danhMuc && detail.danhMuc.id ? String(detail.danhMuc.id) : \"\"),\r\n            });\r\n        } catch (error) {\r\n            setEditForm({\r\n                tenSanPham: product.tenSanPham || \"\",\r\n                maSanPham: product.maSanPham || \"\",\r\n                xuatXu: product.xuatXu || \"\",\r\n                trangThai: product.trangThai !== undefined ? product.trangThai : 1,\r\n                idDanhMuc: product.idDanhMuc ? String(product.idDanhMuc) : \"\",\r\n            });\r\n        }\r\n        setEditModalOpen(true);\r\n    }\r\n\r\n    function handleEditClose() {\r\n        setEditModalOpen(false);\r\n        setEditingProduct(null);\r\n        setEditForm({\r\n            tenSanPham: \"\",\r\n            maSanPham: \"\",\r\n            xuatXu: \"\",\r\n            trangThai: 1,\r\n            idDanhMuc: \"\",\r\n        });\r\n        setEditFormErrors({});\r\n    }\r\n\r\n    function handleEditChange(event) {\r\n        let value = event.target.value;\r\n        if (event.target.name === \"trangThai\") {\r\n            value = Number(value);\r\n        }\r\n        setEditForm({ ...editForm, [event.target.name]: value });\r\n    }\r\n\r\n    async function handleEditSave() {\r\n        if (!editingProduct) return;\r\n        setEditSaving(true);\r\n        const errors = validateEditForm(editForm);\r\n        setEditFormErrors(errors);\r\n        if (Object.keys(errors).length > 0) {\r\n            toast.error(Object.values(errors)[0]);\r\n            setEditSaving(false);\r\n            return;\r\n        }\r\n        try {\r\n            await axios.put(\"http://localhost:8080/sanPham/\" + editingProduct.id, {\r\n                tenSanPham: editForm.tenSanPham,\r\n                maSanPham: editForm.maSanPham,\r\n                xuatXu: editForm.xuatXu,\r\n                trangThai: editForm.trangThai,\r\n                idDanhMuc: editForm.idDanhMuc,\r\n            });\r\n            handleEditClose();\r\n            toast.success(\"Cập nhật sản phẩm thành công!\");\r\n            fetchProducts();\r\n        } catch (error) {\r\n            toast.error(\"Sửa sản phẩm thất bại!\");\r\n        } finally {\r\n            setEditSaving(false);\r\n        }\r\n    }\r\n\r\n    function handleDeleteOpen(product) {\r\n        setDeletingProduct(product);\r\n        setDeleteDialogOpen(true);\r\n    }\r\n\r\n    function handleDeleteClose() {\r\n        setDeleteDialogOpen(false);\r\n        setDeletingProduct(null);\r\n    }\r\n\r\n    async function handleDeleteConfirm() {\r\n        if (!deletingProduct) return;\r\n        setDeleteLoading(true);\r\n        try {\r\n            await axios.delete(\"http://localhost:8080/sanPham/\" + deletingProduct.id);\r\n            handleDeleteClose();\r\n            toast.success(\"Xóa sản phẩm thành công!\");\r\n            fetchProducts();\r\n        } catch (error) {\r\n            toast.error(\"Xóa sản phẩm thất bại!\");\r\n        } finally {\r\n            setDeleteLoading(false);\r\n        }\r\n    }\r\n\r\n    const columns = [\r\n        { name: \"stt\", label: \"STT\", align: \"center\", width: \"60px\" },\r\n        { name: \"maSanPham\", label: \"Mã\", align: \"left\", width: \"110px\" },\r\n        { name: \"tenSanPham\", label: \"Tên sản phẩm\", align: \"left\", width: \"180px\" },\r\n        {\r\n            name: \"gia\",\r\n            label: \"Giá\",\r\n            align: \"center\",\r\n            width: \"180px\",\r\n            render: function (value, row) { return getPriceRangeText(row.giaMin, row.giaMax); },\r\n        },\r\n        {\r\n            name: \"quantity\",\r\n            label: \"Số lượng\",\r\n            align: \"center\",\r\n            width: \"100px\",\r\n            render: function (value) { return value !== undefined && value !== null ? value : 0; },\r\n        },\r\n        {\r\n            name: \"status\",\r\n            label: \"Trạng thái\",\r\n            align: \"center\",\r\n            width: \"120px\",\r\n            render: function (value) {\r\n                return (\r\n                    <span\r\n                        style={{\r\n                            background: getTrangThaiText(value) === \"Đang bán\" ? \"#e6f4ea\" : \"#f4f6fb\",\r\n                            color: getTrangThaiText(value) === \"Đang bán\" ? \"#219653\" : \"#bdbdbd\",\r\n                            border: \"1px solid \" + (getTrangThaiText(value) === \"Đang bán\" ? \"#219653\" : \"#bdbdbd\"),\r\n                            borderRadius: 6,\r\n                            fontWeight: 500,\r\n                            padding: \"2px 12px\",\r\n                            fontSize: 13,\r\n                            display: \"inline-block\",\r\n                        }}\r\n                    >\r\n                        {getTrangThaiText(value)}\r\n                    </span>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            name: \"actions\",\r\n            label: \"Thao tác\",\r\n            align: \"center\",\r\n            width: \"110px\",\r\n            render: function (_, row) {\r\n                return (\r\n                    <SoftBox display=\"flex\" gap={0.5} justifyContent=\"center\">\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            sx={{ color: \"#4acbf2\" }}\r\n                            title=\"Chi tiết\"\r\n                            onClick={function () { navigate(\"/SanPham/ChiTietSanPham/\" + row.id); }}\r\n                        >\r\n                            <FaEye />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            sx={{ color: \"#4acbf2\" }}\r\n                            title=\"Sửa\"\r\n                            onClick={function () { handleEditOpen(row); }}\r\n                        >\r\n                            <FaEdit />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            size=\"small\"\r\n                            sx={{ color: \"#e74c3c\" }}\r\n                            title=\"Xóa\"\r\n                            onClick={function () { handleDeleteOpen(row); }}\r\n                        >\r\n                            <FaTrash />\r\n                        </IconButton>\r\n                    </SoftBox>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n\r\n    const rows = productsData.content.map(function (item, idx) {\r\n        return {\r\n            stt: page * viewCount + idx + 1,\r\n            id: item.id,\r\n            maSanPham: item.maSanPham,\r\n            tenSanPham: item.tenSanPham,\r\n            xuatXu: item.xuatXu,\r\n            giaMin: item.giaMin,\r\n            giaMax: item.giaMax,\r\n            status: item.trangThai,\r\n            quantity: item.quantity,\r\n            idDanhMuc: item.idDanhMuc,\r\n            actions: \"\",\r\n        };\r\n    });\r\n\r\n    const paginationItems = getPaginationItems(productsData.number, productsData.totalPages);\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <ToastContainer\r\n                position=\"top-right\"\r\n                autoClose={2500}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <DashboardNavbar />\r\n            <SoftBox py={3} sx={{ background: \"#F4F6FB\", minHeight: \"100vh\", userSelect: \"none\" }}>\r\n                <Card sx={{ padding: { xs: 2, md: 3 }, marginBottom: 2 }}>\r\n                    <SoftBox\r\n                        display=\"flex\"\r\n                        flexDirection={{ xs: \"column\", md: \"row\" }}\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"space-between\"\r\n                        gap={2}\r\n                    >\r\n                        <SoftBox flex={1} display=\"flex\" alignItems=\"center\" gap={2} maxWidth={600}>\r\n                            <Input\r\n                                fullWidth\r\n                                placeholder=\"Tìm kiếm sản phẩm\"\r\n                                value={search}\r\n                                onChange={handleSearchChange}\r\n                                startAdornment={\r\n                                    <InputAdornment position=\"start\">\r\n                                        <Icon fontSize=\"small\" sx={{ color: \"#868686\" }}>\r\n                                            search\r\n                                        </Icon>\r\n                                    </InputAdornment>\r\n                                }\r\n                                sx={{ background: \"#f5f6fa\", borderRadius: 2, padding: 0.5, color: \"#222\" }}\r\n                            />\r\n                            <FormControl sx={{ minWidth: 140 }}>\r\n                                <Select\r\n                                    value={statusFilter}\r\n                                    onChange={handleStatusFilterChange}\r\n                                    size=\"small\"\r\n                                    displayEmpty\r\n                                    sx={{ borderRadius: 2, background: \"#f5f6fa\", height: 40 }}\r\n                                    inputProps={{ \"aria-label\": \"Trạng thái\" }}\r\n                                >\r\n                                    {statusList.map(function (status) {\r\n                                        return (\r\n                                            <MenuItem key={status} value={status}>\r\n                                                {status}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </SoftBox>\r\n                        <SoftBox display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <Button\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                startIcon={<FaPlus />}\r\n                                sx={{\r\n                                    borderRadius: 2,\r\n                                    textTransform: \"none\",\r\n                                    fontWeight: 400,\r\n                                    color: \"#49a3f1\",\r\n                                    borderColor: \"#49a3f1\",\r\n                                    boxShadow: \"none\",\r\n                                    \"&:hover\": {\r\n                                        borderColor: \"#1769aa\",\r\n                                        background: \"#f0f6fd\",\r\n                                        color: \"#1769aa\",\r\n                                    },\r\n                                }}\r\n                                onClick={function () { navigate(\"/SanPham/ThemMoi\"); }}\r\n                            >\r\n                                Thêm sản phẩm\r\n                            </Button>\r\n                        </SoftBox>\r\n                    </SoftBox>\r\n                </Card>\r\n                <Card sx={{ padding: { xs: 2, md: 3 }, marginBottom: 2 }}>\r\n                    <SoftBox>\r\n                        {error ? (\r\n                            <div className=\"alert alert-danger\">{error}</div>\r\n                        ) : (\r\n                            <Table columns={columns} rows={rows} loading={loading} />\r\n                        )}\r\n                    </SoftBox>\r\n                    <SoftBox\r\n                        display=\"flex\"\r\n                        justifyContent=\"space-between\"\r\n                        alignItems=\"center\"\r\n                        marginTop={2}\r\n                        flexWrap=\"wrap\"\r\n                        gap={2}\r\n                    >\r\n                        <SoftBox>\r\n                            <FormControl sx={{ minWidth: 120 }}>\r\n                                <Select\r\n                                    value={viewCount}\r\n                                    onChange={handleViewCountChange}\r\n                                    size=\"small\"\r\n                                >\r\n                                    {viewOptions.map(function (number) {\r\n                                        return (\r\n                                            <MenuItem key={number} value={number}>\r\n                                                Xem {number}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </SoftBox>\r\n                        <SoftBox display=\"flex\" alignItems=\"center\" gap={1}>\r\n                            <Button\r\n                                variant=\"text\"\r\n                                size=\"small\"\r\n                                disabled={productsData.first}\r\n                                onClick={function () { handlePageChange(page - 1); }}\r\n                                sx={{ color: productsData.first ? \"#bdbdbd\" : \"#49a3f1\" }}\r\n                            >\r\n                                Trước\r\n                            </Button>\r\n                            {paginationItems.map(function (item, idx) {\r\n                                if (item === \"...\") {\r\n                                    return (\r\n                                        <Button\r\n                                            key={\"ellipsis-\" + idx}\r\n                                            variant=\"text\"\r\n                                            size=\"small\"\r\n                                            disabled\r\n                                            sx={{\r\n                                                minWidth: 32,\r\n                                                borderRadius: 2,\r\n                                                color: \"#bdbdbd\",\r\n                                                pointerEvents: \"none\",\r\n                                                fontWeight: 700,\r\n                                            }}\r\n                                        >\r\n                                            ...\r\n                                        </Button>\r\n                                    );\r\n                                }\r\n                                return (\r\n                                    <Button\r\n                                        key={item}\r\n                                        variant={productsData.number === item ? \"contained\" : \"text\"}\r\n                                        color={productsData.number === item ? \"info\" : \"inherit\"}\r\n                                        size=\"small\"\r\n                                        onClick={function () { handlePageChange(item); }}\r\n                                        sx={{\r\n                                            minWidth: 32,\r\n                                            borderRadius: 2,\r\n                                            color: productsData.number === item ? \"#fff\" : \"#495057\",\r\n                                            background: productsData.number === item ? \"#49a3f1\" : \"transparent\",\r\n                                        }}\r\n                                    >\r\n                                        {item + 1}\r\n                                    </Button>\r\n                                );\r\n                            })}\r\n                            <Button\r\n                                variant=\"text\"\r\n                                size=\"small\"\r\n                                disabled={productsData.last}\r\n                                onClick={function () { handlePageChange(page + 1); }}\r\n                                sx={{ color: productsData.last ? \"#bdbdbd\" : \"#49a3f1\" }}\r\n                            >\r\n                                Sau\r\n                            </Button>\r\n                        </SoftBox>\r\n                    </SoftBox>\r\n                </Card>\r\n            </SoftBox>\r\n            <Dialog open={editModalOpen} onClose={handleEditClose} maxWidth=\"sm\" fullWidth PaperProps={{ sx: { borderRadius: 4, background: \"#fafdff\" } }}>\r\n                <DialogTitle sx={{ fontWeight: 800, fontSize: 26, paddingBottom: 1, color: \"#1976d2\", letterSpacing: 0.5 }}>\r\n                    <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\r\n                        <span>Cập nhật sản phẩm</span>\r\n                        <IconButton\r\n                            aria-label=\"close\"\r\n                            onClick={handleEditClose}\r\n                            sx={{\r\n                                color: \"#eb5757\",\r\n                                marginLeft: 1,\r\n                                background: \"#f5f6fa\",\r\n                                \"&:hover\": { background: \"#ffeaea\" }\r\n                            }}\r\n                        >\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                    </Box>\r\n                </DialogTitle>\r\n                <Divider sx={{ marginBottom: 1 }} />\r\n                <DialogContent sx={{ background: \"#f7fbff\", paddingBottom: 2 }}>\r\n                    <Box display=\"flex\" flexDirection=\"column\" gap={2}>\r\n                        <Box>\r\n                            <Typography fontWeight={700} marginBottom={0.5} color=\"#1769aa\">\r\n                                Tên sản phẩm <span style={{ color: \"#e74c3c\" }}>*</span>\r\n                            </Typography>\r\n                            <TextField\r\n                                value={editForm.tenSanPham}\r\n                                name=\"tenSanPham\"\r\n                                onChange={handleEditChange}\r\n                                fullWidth\r\n                                size=\"small\"\r\n                                placeholder=\"Nhập tên sản phẩm\"\r\n                                sx={{ background: \"#fff\", borderRadius: 2 }}\r\n                                error={!!editFormErrors.tenSanPham}\r\n                                helperText={editFormErrors.tenSanPham}\r\n                            />\r\n                        </Box>\r\n                        <Box>\r\n                            <Typography fontWeight={700} marginBottom={0.5} color=\"#1769aa\">\r\n                                Xuất xứ\r\n                            </Typography>\r\n                            <FormControl fullWidth size=\"small\" sx={{ background: \"#fff\", borderRadius: 2 }}>\r\n                                <Select\r\n                                    name=\"xuatXu\"\r\n                                    value={editForm.xuatXu}\r\n                                    onChange={handleEditChange}\r\n                                    displayEmpty\r\n                                    inputProps={{ \"aria-label\": \"Xuất xứ\" }}\r\n                                >\r\n                                    <MenuItemMui value=\"\"><em>Chọn xuất xứ</em></MenuItemMui>\r\n                                    {xuatXuList.map(function (xuatXu) {\r\n                                        return (\r\n                                            <MenuItemMui key={xuatXu} value={xuatXu}>{xuatXu}</MenuItemMui>\r\n                                        );\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Box>\r\n                        <Box>\r\n                            <Typography fontWeight={700} marginBottom={0.5} color=\"#1769aa\">\r\n                                Danh mục <span style={{ color: \"#e74c3c\" }}>*</span>\r\n                            </Typography>\r\n                            <ReactSelect\r\n                                options={danhMucOptions}\r\n                                value={getOptionByValue(danhMucOptions, editForm.idDanhMuc)}\r\n                                onChange={function (option) { setEditForm({ ...editForm, idDanhMuc: option ? option.value : \"\" }); }}\r\n                                styles={{\r\n                                    ...selectMenuStyle,\r\n                                    control: (base, state) => ({\r\n                                        ...base,\r\n                                        borderColor: editFormErrors.idDanhMuc ? \"#e74c3c\" : base.borderColor,\r\n                                        boxShadow: \"none\",\r\n                                        \"&:hover\": { borderColor: \"#1769aa\" }\r\n                                    }),\r\n                                }}\r\n                                isClearable\r\n                                placeholder=\"Chọn danh mục\"\r\n                                noOptionsMessage={function () { return \"Không có dữ liệu\"; }}\r\n                            />\r\n                            {editFormErrors.idDanhMuc && (\r\n                                <Box sx={{ color: \"#e74c3c\", fontSize: 13, mt: 0.5 }}>\r\n                                    {editFormErrors.idDanhMuc}\r\n                                </Box>\r\n                            )}\r\n                        </Box>\r\n                        <Box>\r\n                            <Typography fontWeight={700} marginBottom={0.5} color=\"#1769aa\">\r\n                                Trạng thái\r\n                            </Typography>\r\n                            <FormControl fullWidth size=\"small\" sx={{ background: \"#fff\", borderRadius: 2 }}>\r\n                                <Select\r\n                                    name=\"trangThai\"\r\n                                    value={editForm.trangThai}\r\n                                    onChange={handleEditChange}\r\n                                >\r\n                                    <MenuItemMui value={1}>Đang bán</MenuItemMui>\r\n                                    <MenuItemMui value={0}>Ngừng bán</MenuItemMui>\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Box>\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions sx={{ padding: 2, background: \"#fafdff\", borderBottomLeftRadius: 12, borderBottomRightRadius: 12 }}>\r\n                    <Button onClick={handleEditClose} disabled={editSaving} color=\"inherit\" variant=\"outlined\" sx={{ borderRadius: 2, fontWeight: 600 }}>\r\n                        Hủy\r\n                    </Button>\r\n                    <Button onClick={handleEditSave} disabled={editSaving} variant=\"contained\" color=\"info\" sx={{ borderRadius: 2, minWidth: 120, fontWeight: 700, fontSize: 17, boxShadow: 3 }} startIcon={editSaving ? <CircularProgress size={18} color=\"inherit\" /> : null}>\r\n                        Lưu\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Dialog open={deleteDialogOpen} onClose={handleDeleteClose} maxWidth=\"xs\" fullWidth>\r\n                <DialogTitle fontWeight={800} color=\"#e74c3c\" sx={{ fontSize: 22 }}>\r\n                    Xác nhận xóa sản phẩm\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Bạn có chắc chắn muốn xóa sản phẩm <strong>{deletingProduct && deletingProduct.tenSanPham}</strong> không? Thao tác này không thể hoàn tác.\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions sx={{ padding: 2 }}>\r\n                    <Button onClick={handleDeleteClose} disabled={deleteLoading} variant=\"outlined\" color=\"inherit\" sx={{ borderRadius: 2, fontWeight: 600 }}>\r\n                        Hủy\r\n                    </Button>\r\n                    <Button onClick={handleDeleteConfirm} disabled={deleteLoading} variant=\"contained\" color=\"error\" sx={{ borderRadius: 2, minWidth: 110, fontWeight: 700 }} startIcon={deleteLoading ? <CircularProgress size={18} color=\"inherit\" /> : null}>\r\n                        Xóa\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Footer />\r\n        </DashboardLayout>\r\n    );\r\n}\r\n\r\nexport default ProductTable;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,cAAc,MAAM,8BAA8B;AACzD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,OAAO,MAAM,oBAAoB;AACxC,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,eAAe,MAAM,kCAAkC;AAC9D,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,KAAK,MAAM,uBAAuB;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,OAAO,QAAQ,gBAAgB;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,aAAa,MAAM,6BAA6B;AACvD,OAAOC,aAAa,MAAM,6BAA6B;AACvD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,gBAAgB,MAAM,gCAAgC;AAC7D,OAAOC,WAAW,MAAM,wBAAwB;AAChD,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAOC,GAAG,MAAM,mBAAmB;AACnC,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,OAAO,MAAM,uBAAuB;AAC3C,OAAOC,iBAAiB,MAAM,iCAAiC;AAC/D,SAASC,KAAK,EAAEC,cAAc,QAAQ,gBAAgB;AACtD,OAAO,uCAAuC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,eAAe,GAAG;EACpBC,IAAI,EAAGC,IAAI,KAAM;IACb,GAAGA,IAAI;IACPC,YAAY,EAAE,EAAE;IAChBC,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE,+BAA+B;IAC1CC,QAAQ,EAAE;EACd,CAAC,CAAC;EACFC,WAAW,EAAGL,IAAI,KAAM;IACpB,GAAGA,IAAI;IACPM,KAAK,EAAE;EACX,CAAC,CAAC;EACFC,MAAM,EAAEA,CAACP,IAAI,EAAEQ,KAAK,MAAM;IACtB,GAAGR,IAAI;IACPS,eAAe,EAAED,KAAK,CAACE,UAAU,GAC3B,SAAS,GACTF,KAAK,CAACG,SAAS,GACX,SAAS,GACT,MAAM;IAChBL,KAAK,EAAE,SAAS;IAChBM,UAAU,EAAEJ,KAAK,CAACE,UAAU,GAAG,GAAG,GAAG,GAAG;IACxCG,MAAM,EAAE,SAAS;IACjBT,QAAQ,EAAE,EAAE;IACZU,OAAO,EAAE;EACb,CAAC;AACL,CAAC;AAED,SAASC,gBAAgBA,CAACC,OAAO,EAAEC,KAAK,EAAE;EACtC,IAAIA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,EAAE,EAAE,OAAO,IAAI;EACtE,OAAOD,OAAO,CAACG,IAAI,CAAC,UAAUZ,MAAM,EAAE;IAAE,OAAOa,MAAM,CAACb,MAAM,CAACU,KAAK,CAAC,KAAKG,MAAM,CAACH,KAAK,CAAC;EAAE,CAAC,CAAC,IAAI,IAAI;AACrG;AAEA,SAASI,WAAWA,CAACJ,KAAK,EAAE;EACxB,IAAIA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,EAAE;IACvC,OAAOA,KAAK,CAACK,cAAc,CAAC,OAAO,CAAC,GAAG,IAAI;EAC/C;EACA,OAAO,EAAE;AACb;AAEA,SAASC,gBAAgBA,CAACC,MAAM,EAAE;EAC9B,IAAIA,MAAM,KAAK,CAAC,IAAIA,MAAM,KAAK,UAAU,IAAIA,MAAM,KAAK,UAAU,EAAE;IAChE,OAAO,UAAU;EACrB;EACA,OAAO,WAAW;AACtB;AAEA,MAAMC,UAAU,GAAG,CAAC,QAAQ,EAAE,UAAU,EAAE,WAAW,CAAC;AACtD,MAAMC,WAAW,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC;AAE/B,SAASC,iBAAiBA,CAACC,GAAG,EAAEC,GAAG,EAAE;EACjC,IAAID,GAAG,KAAKV,SAAS,IAAIW,GAAG,KAAKX,SAAS,EAAE,OAAO,EAAE;EACrD,IAAIU,GAAG,KAAKC,GAAG,IAAIA,GAAG,KAAKX,SAAS,EAAE,OAAOG,WAAW,CAACO,GAAG,CAAC;EAC7D,OAAOP,WAAW,CAACO,GAAG,CAAC,GAAG,KAAK,GAAGP,WAAW,CAACQ,GAAG,CAAC;AACtD;AAEA,SAASC,kBAAkBA,CAACC,OAAO,EAAEC,KAAK,EAAE;EACxC,IAAIA,KAAK,IAAI,CAAC,EAAE,OAAOC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEH;EAAM,CAAC,EAAE,UAAUI,CAAC,EAAEC,CAAC,EAAE;IAAE,OAAOA,CAAC;EAAE,CAAC,CAAC;EACnF,IAAIN,OAAO,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,CAAC,CAAC;EAC5D,IAAID,OAAO,IAAIC,KAAK,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAEA,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,CAAC,CAAC;EACpE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAED,OAAO,EAAE,KAAK,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG,CAAC,CAAC;AAC9D;AAEA,SAASM,gBAAgBA,CAACC,IAAI,EAAE;EAC5B,MAAMC,MAAM,GAAG,CAAC,CAAC;EACjB,IAAI,CAACD,IAAI,CAACE,SAAS,IAAI,CAACF,IAAI,CAACE,SAAS,CAACC,IAAI,CAAC,CAAC,EAAE;IAC3CF,MAAM,CAACC,SAAS,GAAG,2BAA2B;EAClD;EACA,IAAI,CAACF,IAAI,CAACI,UAAU,IAAI,CAACJ,IAAI,CAACI,UAAU,CAACD,IAAI,CAAC,CAAC,EAAE;IAC7CF,MAAM,CAACG,UAAU,GAAG,4BAA4B;EACpD;EACA,IAAI,CAACJ,IAAI,CAACK,SAAS,IAAI,CAACxB,MAAM,CAACmB,IAAI,CAACK,SAAS,CAAC,CAACF,IAAI,CAAC,CAAC,EAAE;IACnDF,MAAM,CAACI,SAAS,GAAG,wBAAwB;EAC/C;EACA,OAAOJ,MAAM;AACjB;AAEA,SAASK,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGzF,QAAQ,CAAC;IAC7C0F,OAAO,EAAE,EAAE;IACXC,UAAU,EAAE,CAAC;IACbC,MAAM,EAAE,CAAC;IACTC,KAAK,EAAE,IAAI;IACXC,IAAI,EAAE;EACV,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhG,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACiG,KAAK,EAAEC,QAAQ,CAAC,GAAGlG,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACmG,MAAM,EAAEC,SAAS,CAAC,GAAGpG,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACqG,YAAY,EAAEC,eAAe,CAAC,GAAGtG,QAAQ,CAAC,QAAQ,CAAC;EAC1D,MAAM,CAACuG,SAAS,EAAEC,YAAY,CAAC,GAAGxG,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACyG,IAAI,EAAEC,OAAO,CAAC,GAAG1G,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAAC2G,aAAa,EAAEC,gBAAgB,CAAC,GAAG5G,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAAC6G,cAAc,EAAEC,iBAAiB,CAAC,GAAG9G,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAAC+G,QAAQ,EAAEC,WAAW,CAAC,GAAGhH,QAAQ,CAAC;IACrCoF,UAAU,EAAE,EAAE;IACdF,SAAS,EAAE,EAAE;IACb+B,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE,CAAC;IACZ7B,SAAS,EAAE;EACf,CAAC,CAAC;EACF,MAAM,CAAC8B,cAAc,EAAEC,iBAAiB,CAAC,GAAGpH,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxD,MAAM,CAACqH,UAAU,EAAEC,aAAa,CAAC,GAAGtH,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACuH,UAAU,EAAEC,aAAa,CAAC,GAAGxH,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyH,WAAW,EAAEC,cAAc,CAAC,GAAG1H,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC2H,cAAc,EAAEC,iBAAiB,CAAC,GAAG5H,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC6H,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG9H,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAAC+H,eAAe,EAAEC,kBAAkB,CAAC,GAAGhI,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACiI,aAAa,EAAEC,gBAAgB,CAAC,GAAGlI,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAMmI,QAAQ,GAAGnH,WAAW,CAAC,CAAC;EAE9Bf,SAAS,CAAC,YAAY;IAClB,eAAemI,cAAcA,CAAA,EAAG;MAC5B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMhH,KAAK,CAACiH,GAAG,CAAC,sCAAsC,CAAC;QACxEd,aAAa,CAACa,QAAQ,CAACE,IAAI,IAAI,EAAE,CAAC;MACtC,CAAC,CAAC,OAAOtC,KAAK,EAAE;QACZuB,aAAa,CAAC,EAAE,CAAC;MACrB;IACJ;IACAY,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAENnI,SAAS,CAAC,YAAY;IAClB,eAAeuI,YAAYA,CAAA,EAAG;MAC1B,IAAI;QACA,MAAMH,QAAQ,GAAG,MAAMhH,KAAK,CAACiH,GAAG,CAAC,mCAAmC,CAAC;QACrEZ,cAAc,CAACW,QAAQ,CAACE,IAAI,IAAI,EAAE,CAAC;QACnCX,iBAAiB,CACb,CAACS,QAAQ,CAACE,IAAI,IAAI,EAAE,EAAEE,GAAG,CAAC,UAAUC,OAAO,EAAE;UACzC,OAAO;YACHhF,KAAK,EAAEG,MAAM,CAAC6E,OAAO,CAACC,EAAE,CAAC;YACzBC,KAAK,EAAEF,OAAO,CAACG;UACnB,CAAC;QACL,CAAC,CACL,CAAC;MACL,CAAC,CAAC,OAAO5C,KAAK,EAAE;QACZyB,cAAc,CAAC,EAAE,CAAC;QAClBE,iBAAiB,CAAC,EAAE,CAAC;MACzB;IACJ;IACAY,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeM,aAAaA,CAAA,EAAG;IAC3B9C,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACA,IAAI6C,MAAM,GAAG;QACTtC,IAAI,EAAEA,IAAI;QACVuC,IAAI,EAAEzC,SAAS;QACfnB,UAAU,EAAEe;MAChB,CAAC;MACD,IAAIE,YAAY,KAAK,QAAQ,EAAE;QAC3B0C,MAAM,CAAC7B,SAAS,GAAGb,YAAY,KAAK,UAAU,GAAG,CAAC,GAAG,CAAC;MAC1D;MACA,MAAMgC,QAAQ,GAAG,MAAMhH,KAAK,CAACiH,GAAG,CAAC,+BAA+B,EAAE;QAAES,MAAM,EAAEA;MAAO,CAAC,CAAC;MACrF,MAAME,WAAW,GAAG,CAACZ,QAAQ,CAACE,IAAI,CAAC7C,OAAO,IAAI,EAAE,EAAEwD,MAAM,CAAC,UAAUC,OAAO,EAAE;QACxE,OAAOA,OAAO,CAACjC,SAAS,KAAK,CAAC,IAAIiC,OAAO,CAACjC,SAAS,KAAK,CAAC;MAC7D,CAAC,CAAC;MACF,MAAMkC,OAAO,GAAG,MAAMC,OAAO,CAACC,GAAG,CAC7BL,WAAW,CAACR,GAAG,CAAC,gBAAgBU,OAAO,EAAE;QACrC,IAAI;UACA,MAAMI,cAAc,GAAG,MAAMlI,KAAK,CAACiH,GAAG,CAAC,mDAAmD,GAAGa,OAAO,CAACR,EAAE,CAAC;UACxG,MAAMa,UAAU,GAAGD,cAAc,CAAChB,IAAI,IAAI,EAAE;UAC5C,MAAMkB,aAAa,GAAGD,UAAU,CAACE,MAAM,CAAC,UAAUC,GAAG,EAAEC,MAAM,EAAE;YAAE,OAAOD,GAAG,IAAIC,MAAM,CAACC,OAAO,IAAI,CAAC,CAAC;UAAE,CAAC,EAAE,CAAC,CAAC;UAC1G,IAAIC,QAAQ;UACZ,IAAIC,QAAQ;UACZ,MAAMC,MAAM,GAAGR,UAAU,CACpBN,MAAM,CAAC,UAAUU,MAAM,EAAE;YAAE,OAAOA,MAAM,CAACK,GAAG,KAAKtG,SAAS,IAAIiG,MAAM,CAACK,GAAG,KAAK,IAAI;UAAE,CAAC,CAAC,CACrFxB,GAAG,CAAC,UAAUmB,MAAM,EAAE;YAAE,OAAOA,MAAM,CAACK,GAAG;UAAE,CAAC,CAAC;UAClD,IAAID,MAAM,CAACpF,MAAM,GAAG,CAAC,EAAE;YACnBkF,QAAQ,GAAGI,IAAI,CAAC7F,GAAG,CAAC8F,KAAK,CAAC,IAAI,EAAEH,MAAM,CAAC;YACvCD,QAAQ,GAAGG,IAAI,CAAC5F,GAAG,CAAC6F,KAAK,CAAC,IAAI,EAAEH,MAAM,CAAC;UAC3C;UACA,OAAO;YACHrB,EAAE,EAAEQ,OAAO,CAACR,EAAE;YACdzD,SAAS,EAAEiE,OAAO,CAACjE,SAAS;YAC5BE,UAAU,EAAE+D,OAAO,CAAC/D,UAAU;YAC9B6B,MAAM,EAAEkC,OAAO,CAAClC,MAAM;YACtBC,SAAS,EAAEiC,OAAO,CAACjC,SAAS;YAC5BkD,MAAM,EAAEN,QAAQ;YAChBO,MAAM,EAAEN,QAAQ;YAChBO,QAAQ,EAAEb,aAAa;YACvBpE,SAAS,EAAE8D,OAAO,CAACT,OAAO,GAAGS,OAAO,CAACT,OAAO,CAACC,EAAE,GAAG;UACtD,CAAC;QACL,CAAC,CAAC,OAAO1C,KAAK,EAAE;UACZ,OAAO;YACH0C,EAAE,EAAEQ,OAAO,CAACR,EAAE;YACdzD,SAAS,EAAEiE,OAAO,CAACjE,SAAS;YAC5BE,UAAU,EAAE+D,OAAO,CAAC/D,UAAU;YAC9B6B,MAAM,EAAEkC,OAAO,CAAClC,MAAM;YACtBC,SAAS,EAAEiC,OAAO,CAACjC,SAAS;YAC5BkD,MAAM,EAAEzG,SAAS;YACjB0G,MAAM,EAAE1G,SAAS;YACjB2G,QAAQ,EAAE,CAAC;YACXjF,SAAS,EAAE8D,OAAO,CAACT,OAAO,GAAGS,OAAO,CAACT,OAAO,CAACC,EAAE,GAAG;UACtD,CAAC;QACL;MACJ,CAAC,CACL,CAAC;MACDlD,eAAe,CAAC;QACZ,GAAG4C,QAAQ,CAACE,IAAI;QAChB7C,OAAO,EAAE0D;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOnD,KAAK,EAAE;MACZC,QAAQ,CAAC,8CAA8C,CAAC;MACxDT,eAAe,CAAC;QACZC,OAAO,EAAE,EAAE;QACXC,UAAU,EAAE,CAAC;QACbC,MAAM,EAAE,CAAC;QACTC,KAAK,EAAE,IAAI;QACXC,IAAI,EAAE;MACV,CAAC,CAAC;IACN,CAAC,SAAS;MACNE,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ;EAEA/F,SAAS,CAAC,YAAY;IAClB6I,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,CAAC3C,MAAM,EAAEE,YAAY,EAAEE,SAAS,EAAEE,IAAI,CAAC,CAAC;EAE3C,SAAS8D,gBAAgBA,CAACC,OAAO,EAAE;IAC/B,IACI,OAAOA,OAAO,KAAK,QAAQ,IAC3BA,OAAO,IAAI,CAAC,IACZA,OAAO,GAAGhF,YAAY,CAACG,UAAU,IACjC6E,OAAO,KAAK/D,IAAI,EAClB;MACEC,OAAO,CAAC8D,OAAO,CAAC;IACpB;EACJ;EAEA,SAASC,kBAAkBA,CAACC,KAAK,EAAE;IAC/BtE,SAAS,CAACsE,KAAK,CAACC,MAAM,CAACjH,KAAK,CAAC;IAC7BgD,OAAO,CAAC,CAAC,CAAC;EACd;EAEA,SAASkE,wBAAwBA,CAACF,KAAK,EAAE;IACrCpE,eAAe,CAACoE,KAAK,CAACC,MAAM,CAACjH,KAAK,CAAC;IACnCgD,OAAO,CAAC,CAAC,CAAC;EACd;EAEA,SAASmE,qBAAqBA,CAACH,KAAK,EAAE;IAClClE,YAAY,CAACsE,MAAM,CAACJ,KAAK,CAACC,MAAM,CAACjH,KAAK,CAAC,CAAC;IACxCgD,OAAO,CAAC,CAAC,CAAC;EACd;EAEA,eAAeqE,cAAcA,CAAC5B,OAAO,EAAE;IACnCrC,iBAAiB,CAACqC,OAAO,CAAC;IAC1B/B,iBAAiB,CAAC,CAAC,CAAC,CAAC;IACrB,IAAI;MACA,MAAMiB,QAAQ,GAAG,MAAMhH,KAAK,CAACiH,GAAG,CAAC,gCAAgC,GAAGa,OAAO,CAACR,EAAE,CAAC;MAC/E,MAAMiB,MAAM,GAAGvB,QAAQ,CAACE,IAAI;MAC5BvB,WAAW,CAAC;QACR5B,UAAU,EAAEwE,MAAM,CAACxE,UAAU,IAAI,EAAE;QACnCF,SAAS,EAAE0E,MAAM,CAAC1E,SAAS,IAAI,EAAE;QACjC+B,MAAM,EAAE2C,MAAM,CAAC3C,MAAM,IAAI,EAAE;QAC3BC,SAAS,EAAE0C,MAAM,CAAC1C,SAAS,KAAKvD,SAAS,GAAGiG,MAAM,CAAC1C,SAAS,GAAG,CAAC;QAChE7B,SAAS,EAAEuE,MAAM,CAACvE,SAAS,GAAGxB,MAAM,CAAC+F,MAAM,CAACvE,SAAS,CAAC,GAAIuE,MAAM,CAAClB,OAAO,IAAIkB,MAAM,CAAClB,OAAO,CAACC,EAAE,GAAG9E,MAAM,CAAC+F,MAAM,CAAClB,OAAO,CAACC,EAAE,CAAC,GAAG;MAChI,CAAC,CAAC;IACN,CAAC,CAAC,OAAO1C,KAAK,EAAE;MACZe,WAAW,CAAC;QACR5B,UAAU,EAAE+D,OAAO,CAAC/D,UAAU,IAAI,EAAE;QACpCF,SAAS,EAAEiE,OAAO,CAACjE,SAAS,IAAI,EAAE;QAClC+B,MAAM,EAAEkC,OAAO,CAAClC,MAAM,IAAI,EAAE;QAC5BC,SAAS,EAAEiC,OAAO,CAACjC,SAAS,KAAKvD,SAAS,GAAGwF,OAAO,CAACjC,SAAS,GAAG,CAAC;QAClE7B,SAAS,EAAE8D,OAAO,CAAC9D,SAAS,GAAGxB,MAAM,CAACsF,OAAO,CAAC9D,SAAS,CAAC,GAAG;MAC/D,CAAC,CAAC;IACN;IACAuB,gBAAgB,CAAC,IAAI,CAAC;EAC1B;EAEA,SAASoE,eAAeA,CAAA,EAAG;IACvBpE,gBAAgB,CAAC,KAAK,CAAC;IACvBE,iBAAiB,CAAC,IAAI,CAAC;IACvBE,WAAW,CAAC;MACR5B,UAAU,EAAE,EAAE;MACdF,SAAS,EAAE,EAAE;MACb+B,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,CAAC;MACZ7B,SAAS,EAAE;IACf,CAAC,CAAC;IACF+B,iBAAiB,CAAC,CAAC,CAAC,CAAC;EACzB;EAEA,SAAS6D,gBAAgBA,CAACP,KAAK,EAAE;IAC7B,IAAIhH,KAAK,GAAGgH,KAAK,CAACC,MAAM,CAACjH,KAAK;IAC9B,IAAIgH,KAAK,CAACC,MAAM,CAACO,IAAI,KAAK,WAAW,EAAE;MACnCxH,KAAK,GAAGoH,MAAM,CAACpH,KAAK,CAAC;IACzB;IACAsD,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAAC2D,KAAK,CAACC,MAAM,CAACO,IAAI,GAAGxH;IAAM,CAAC,CAAC;EAC5D;EAEA,eAAeyH,cAAcA,CAAA,EAAG;IAC5B,IAAI,CAACtE,cAAc,EAAE;IACrBS,aAAa,CAAC,IAAI,CAAC;IACnB,MAAMrC,MAAM,GAAGF,gBAAgB,CAACgC,QAAQ,CAAC;IACzCK,iBAAiB,CAACnC,MAAM,CAAC;IACzB,IAAImG,MAAM,CAACC,IAAI,CAACpG,MAAM,CAAC,CAACL,MAAM,GAAG,CAAC,EAAE;MAChCzC,KAAK,CAAC8D,KAAK,CAACmF,MAAM,CAACE,MAAM,CAACrG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;MACrCqC,aAAa,CAAC,KAAK,CAAC;MACpB;IACJ;IACA,IAAI;MACA,MAAMjG,KAAK,CAACkK,GAAG,CAAC,gCAAgC,GAAG1E,cAAc,CAAC8B,EAAE,EAAE;QAClEvD,UAAU,EAAE2B,QAAQ,CAAC3B,UAAU;QAC/BF,SAAS,EAAE6B,QAAQ,CAAC7B,SAAS;QAC7B+B,MAAM,EAAEF,QAAQ,CAACE,MAAM;QACvBC,SAAS,EAAEH,QAAQ,CAACG,SAAS;QAC7B7B,SAAS,EAAE0B,QAAQ,CAAC1B;MACxB,CAAC,CAAC;MACF2F,eAAe,CAAC,CAAC;MACjB7I,KAAK,CAACqJ,OAAO,CAAC,+BAA+B,CAAC;MAC9C1C,aAAa,CAAC,CAAC;IACnB,CAAC,CAAC,OAAO7C,KAAK,EAAE;MACZ9D,KAAK,CAAC8D,KAAK,CAAC,wBAAwB,CAAC;IACzC,CAAC,SAAS;MACNqB,aAAa,CAAC,KAAK,CAAC;IACxB;EACJ;EAEA,SAASmE,gBAAgBA,CAACtC,OAAO,EAAE;IAC/BnB,kBAAkB,CAACmB,OAAO,CAAC;IAC3BrB,mBAAmB,CAAC,IAAI,CAAC;EAC7B;EAEA,SAAS4D,iBAAiBA,CAAA,EAAG;IACzB5D,mBAAmB,CAAC,KAAK,CAAC;IAC1BE,kBAAkB,CAAC,IAAI,CAAC;EAC5B;EAEA,eAAe2D,mBAAmBA,CAAA,EAAG;IACjC,IAAI,CAAC5D,eAAe,EAAE;IACtBG,gBAAgB,CAAC,IAAI,CAAC;IACtB,IAAI;MACA,MAAM7G,KAAK,CAACuK,MAAM,CAAC,gCAAgC,GAAG7D,eAAe,CAACY,EAAE,CAAC;MACzE+C,iBAAiB,CAAC,CAAC;MACnBvJ,KAAK,CAACqJ,OAAO,CAAC,0BAA0B,CAAC;MACzC1C,aAAa,CAAC,CAAC;IACnB,CAAC,CAAC,OAAO7C,KAAK,EAAE;MACZ9D,KAAK,CAAC8D,KAAK,CAAC,wBAAwB,CAAC;IACzC,CAAC,SAAS;MACNiC,gBAAgB,CAAC,KAAK,CAAC;IAC3B;EACJ;EAEA,MAAM2D,OAAO,GAAG,CACZ;IAAEX,IAAI,EAAE,KAAK;IAAEtC,KAAK,EAAE,KAAK;IAAEkD,KAAK,EAAE,QAAQ;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC7D;IAAEb,IAAI,EAAE,WAAW;IAAEtC,KAAK,EAAE,IAAI;IAAEkD,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAQ,CAAC,EACjE;IAAEb,IAAI,EAAE,YAAY;IAAEtC,KAAK,EAAE,cAAc;IAAEkD,KAAK,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAC5E;IACIb,IAAI,EAAE,KAAK;IACXtC,KAAK,EAAE,KAAK;IACZkD,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,OAAO;IACdC,MAAM,EAAE,SAAAA,CAAUtI,KAAK,EAAEuI,GAAG,EAAE;MAAE,OAAO7H,iBAAiB,CAAC6H,GAAG,CAAC7B,MAAM,EAAE6B,GAAG,CAAC5B,MAAM,CAAC;IAAE;EACtF,CAAC,EACD;IACIa,IAAI,EAAE,UAAU;IAChBtC,KAAK,EAAE,UAAU;IACjBkD,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,OAAO;IACdC,MAAM,EAAE,SAAAA,CAAUtI,KAAK,EAAE;MAAE,OAAOA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,GAAGA,KAAK,GAAG,CAAC;IAAE;EACzF,CAAC,EACD;IACIwH,IAAI,EAAE,QAAQ;IACdtC,KAAK,EAAE,YAAY;IACnBkD,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,OAAO;IACdC,MAAM,EAAE,SAAAA,CAAUtI,KAAK,EAAE;MACrB,oBACIpB,OAAA;QACI4J,KAAK,EAAE;UACHC,UAAU,EAAEnI,gBAAgB,CAACN,KAAK,CAAC,KAAK,UAAU,GAAG,SAAS,GAAG,SAAS;UAC1EX,KAAK,EAAEiB,gBAAgB,CAACN,KAAK,CAAC,KAAK,UAAU,GAAG,SAAS,GAAG,SAAS;UACrE0I,MAAM,EAAE,YAAY,IAAIpI,gBAAgB,CAACN,KAAK,CAAC,KAAK,UAAU,GAAG,SAAS,GAAG,SAAS,CAAC;UACvFhB,YAAY,EAAE,CAAC;UACfW,UAAU,EAAE,GAAG;UACfE,OAAO,EAAE,UAAU;UACnBV,QAAQ,EAAE,EAAE;UACZwJ,OAAO,EAAE;QACb,CAAE;QAAAC,QAAA,EAEDtI,gBAAgB,CAACN,KAAK;MAAC;QAAA6I,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC;IAEf;EACJ,CAAC,EACD;IACIxB,IAAI,EAAE,SAAS;IACftC,KAAK,EAAE,UAAU;IACjBkD,KAAK,EAAE,QAAQ;IACfC,KAAK,EAAE,OAAO;IACdC,MAAM,EAAE,SAAAA,CAAUnH,CAAC,EAAEoH,GAAG,EAAE;MACtB,oBACI3J,OAAA,CAAC5B,OAAO;QAAC2L,OAAO,EAAC,MAAM;QAACM,GAAG,EAAE,GAAI;QAACC,cAAc,EAAC,QAAQ;QAAAN,QAAA,gBACrDhK,OAAA,CAACnC,UAAU;UACP6I,IAAI,EAAC,OAAO;UACZ6D,EAAE,EAAE;YAAE9J,KAAK,EAAE;UAAU,CAAE;UACzB+J,KAAK,EAAC,eAAU;UAChBC,OAAO,EAAE,SAAAA,CAAA,EAAY;YAAE5E,QAAQ,CAAC,0BAA0B,GAAG8D,GAAG,CAACtD,EAAE,CAAC;UAAE,CAAE;UAAA2D,QAAA,eAExEhK,OAAA,CAACpB,KAAK;YAAAqL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACbpK,OAAA,CAACnC,UAAU;UACP6I,IAAI,EAAC,OAAO;UACZ6D,EAAE,EAAE;YAAE9J,KAAK,EAAE;UAAU,CAAE;UACzB+J,KAAK,EAAC,UAAK;UACXC,OAAO,EAAE,SAAAA,CAAA,EAAY;YAAEhC,cAAc,CAACkB,GAAG,CAAC;UAAE,CAAE;UAAAK,QAAA,eAE9ChK,OAAA,CAACnB,MAAM;YAAAoL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACbpK,OAAA,CAACnC,UAAU;UACP6I,IAAI,EAAC,OAAO;UACZ6D,EAAE,EAAE;YAAE9J,KAAK,EAAE;UAAU,CAAE;UACzB+J,KAAK,EAAC,QAAK;UACXC,OAAO,EAAE,SAAAA,CAAA,EAAY;YAAEtB,gBAAgB,CAACQ,GAAG,CAAC;UAAE,CAAE;UAAAK,QAAA,eAEhDhK,OAAA,CAAClB,OAAO;YAAAmL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAElB;EACJ,CAAC,CACJ;EAED,MAAMM,IAAI,GAAGxH,YAAY,CAACE,OAAO,CAAC+C,GAAG,CAAC,UAAUwE,IAAI,EAAEC,GAAG,EAAE;IACvD,OAAO;MACHC,GAAG,EAAE1G,IAAI,GAAGF,SAAS,GAAG2G,GAAG,GAAG,CAAC;MAC/BvE,EAAE,EAAEsE,IAAI,CAACtE,EAAE;MACXzD,SAAS,EAAE+H,IAAI,CAAC/H,SAAS;MACzBE,UAAU,EAAE6H,IAAI,CAAC7H,UAAU;MAC3B6B,MAAM,EAAEgG,IAAI,CAAChG,MAAM;MACnBmD,MAAM,EAAE6C,IAAI,CAAC7C,MAAM;MACnBC,MAAM,EAAE4C,IAAI,CAAC5C,MAAM;MACnBpG,MAAM,EAAEgJ,IAAI,CAAC/F,SAAS;MACtBoD,QAAQ,EAAE2C,IAAI,CAAC3C,QAAQ;MACvBjF,SAAS,EAAE4H,IAAI,CAAC5H,SAAS;MACzB+H,OAAO,EAAE;IACb,CAAC;EACL,CAAC,CAAC;EAEF,MAAMC,eAAe,GAAG9I,kBAAkB,CAACiB,YAAY,CAACI,MAAM,EAAEJ,YAAY,CAACG,UAAU,CAAC;EAExF,oBACIrD,OAAA,CAAC3B,eAAe;IAAA2L,QAAA,gBACZhK,OAAA,CAACF,cAAc;MACXkL,QAAQ,EAAC,WAAW;MACpBC,SAAS,EAAE,IAAK;MAChBC,eAAe,EAAE,KAAM;MACvBC,WAAW,EAAE,KAAM;MACnBC,YAAY;MACZC,GAAG,EAAE,KAAM;MACXC,gBAAgB;MAChBC,SAAS;MACTC,YAAY;IAAA;MAAAvB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,eACFpK,OAAA,CAAC1B,eAAe;MAAA2L,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnBpK,OAAA,CAAC5B,OAAO;MAACqN,EAAE,EAAE,CAAE;MAAClB,EAAE,EAAE;QAAEV,UAAU,EAAE,SAAS;QAAE6B,SAAS,EAAE,OAAO;QAAEC,UAAU,EAAE;MAAO,CAAE;MAAA3B,QAAA,gBAClFhK,OAAA,CAACpC,IAAI;QAAC2M,EAAE,EAAE;UAAEtJ,OAAO,EAAE;YAAE2K,EAAE,EAAE,CAAC;YAAEC,EAAE,EAAE;UAAE,CAAC;UAAEC,YAAY,EAAE;QAAE,CAAE;QAAA9B,QAAA,eACrDhK,OAAA,CAAC5B,OAAO;UACJ2L,OAAO,EAAC,MAAM;UACdgC,aAAa,EAAE;YAAEH,EAAE,EAAE,QAAQ;YAAEC,EAAE,EAAE;UAAM,CAAE;UAC3CG,UAAU,EAAC,QAAQ;UACnB1B,cAAc,EAAC,eAAe;UAC9BD,GAAG,EAAE,CAAE;UAAAL,QAAA,gBAEPhK,OAAA,CAAC5B,OAAO;YAAC6N,IAAI,EAAE,CAAE;YAAClC,OAAO,EAAC,MAAM;YAACiC,UAAU,EAAC,QAAQ;YAAC3B,GAAG,EAAE,CAAE;YAAC6B,QAAQ,EAAE,GAAI;YAAAlC,QAAA,gBACvEhK,OAAA,CAAChC,KAAK;cACFmO,SAAS;cACT3L,WAAW,EAAC,qCAAmB;cAC/BY,KAAK,EAAEyC,MAAO;cACduI,QAAQ,EAAEjE,kBAAmB;cAC7BkE,cAAc,eACVrM,OAAA,CAACjC,cAAc;gBAACiN,QAAQ,EAAC,OAAO;gBAAAhB,QAAA,eAC5BhK,OAAA,CAACxB,IAAI;kBAAC+B,QAAQ,EAAC,OAAO;kBAACgK,EAAE,EAAE;oBAAE9J,KAAK,EAAE;kBAAU,CAAE;kBAAAuJ,QAAA,EAAC;gBAEjD;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACK,CACnB;cACDG,EAAE,EAAE;gBAAEV,UAAU,EAAE,SAAS;gBAAEzJ,YAAY,EAAE,CAAC;gBAAEa,OAAO,EAAE,GAAG;gBAAER,KAAK,EAAE;cAAO;YAAE;cAAAwJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/E,CAAC,eACFpK,OAAA,CAAC7B,WAAW;cAACoM,EAAE,EAAE;gBAAE+B,QAAQ,EAAE;cAAI,CAAE;cAAAtC,QAAA,eAC/BhK,OAAA,CAAC/B,MAAM;gBACHmD,KAAK,EAAE2C,YAAa;gBACpBqI,QAAQ,EAAE9D,wBAAyB;gBACnC5B,IAAI,EAAC,OAAO;gBACZ6F,YAAY;gBACZhC,EAAE,EAAE;kBAAEnK,YAAY,EAAE,CAAC;kBAAEyJ,UAAU,EAAE,SAAS;kBAAE2C,MAAM,EAAE;gBAAG,CAAE;gBAC3DC,UAAU,EAAE;kBAAE,YAAY,EAAE;gBAAa,CAAE;gBAAAzC,QAAA,EAE1CpI,UAAU,CAACuE,GAAG,CAAC,UAAUxE,MAAM,EAAE;kBAC9B,oBACI3B,OAAA,CAAC9B,QAAQ;oBAAckD,KAAK,EAAEO,MAAO;oBAAAqI,QAAA,EAChCrI;kBAAM,GADIA,MAAM;oBAAAsI,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEX,CAAC;gBAEnB,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACVpK,OAAA,CAAC5B,OAAO;YAAC2L,OAAO,EAAC,MAAM;YAACiC,UAAU,EAAC,QAAQ;YAAC3B,GAAG,EAAE,CAAE;YAAAL,QAAA,eAC/ChK,OAAA,CAAClC,MAAM;cACH4O,OAAO,EAAC,UAAU;cAClBhG,IAAI,EAAC,OAAO;cACZiG,SAAS,eAAE3M,OAAA,CAACrB,MAAM;gBAAAsL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAE;cACtBG,EAAE,EAAE;gBACAnK,YAAY,EAAE,CAAC;gBACfwM,aAAa,EAAE,MAAM;gBACrB7L,UAAU,EAAE,GAAG;gBACfN,KAAK,EAAE,SAAS;gBAChBoM,WAAW,EAAE,SAAS;gBACtBvM,SAAS,EAAE,MAAM;gBACjB,SAAS,EAAE;kBACPuM,WAAW,EAAE,SAAS;kBACtBhD,UAAU,EAAE,SAAS;kBACrBpJ,KAAK,EAAE;gBACX;cACJ,CAAE;cACFgK,OAAO,EAAE,SAAAA,CAAA,EAAY;gBAAE5E,QAAQ,CAAC,kBAAkB,CAAC;cAAE,CAAE;cAAAmE,QAAA,EAC1D;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eACPpK,OAAA,CAACpC,IAAI;QAAC2M,EAAE,EAAE;UAAEtJ,OAAO,EAAE;YAAE2K,EAAE,EAAE,CAAC;YAAEC,EAAE,EAAE;UAAE,CAAC;UAAEC,YAAY,EAAE;QAAE,CAAE;QAAA9B,QAAA,gBACrDhK,OAAA,CAAC5B,OAAO;UAAA4L,QAAA,EACHrG,KAAK,gBACF3D,OAAA;YAAK8M,SAAS,EAAC,oBAAoB;YAAA9C,QAAA,EAAErG;UAAK;YAAAsG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,gBAEjDpK,OAAA,CAACvB,KAAK;YAAC8K,OAAO,EAAEA,OAAQ;YAACmB,IAAI,EAAEA,IAAK;YAACjH,OAAO,EAAEA;UAAQ;YAAAwG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAC3D;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eACVpK,OAAA,CAAC5B,OAAO;UACJ2L,OAAO,EAAC,MAAM;UACdO,cAAc,EAAC,eAAe;UAC9B0B,UAAU,EAAC,QAAQ;UACnBe,SAAS,EAAE,CAAE;UACbC,QAAQ,EAAC,MAAM;UACf3C,GAAG,EAAE,CAAE;UAAAL,QAAA,gBAEPhK,OAAA,CAAC5B,OAAO;YAAA4L,QAAA,eACJhK,OAAA,CAAC7B,WAAW;cAACoM,EAAE,EAAE;gBAAE+B,QAAQ,EAAE;cAAI,CAAE;cAAAtC,QAAA,eAC/BhK,OAAA,CAAC/B,MAAM;gBACHmD,KAAK,EAAE6C,SAAU;gBACjBmI,QAAQ,EAAE7D,qBAAsB;gBAChC7B,IAAI,EAAC,OAAO;gBAAAsD,QAAA,EAEXnI,WAAW,CAACsE,GAAG,CAAC,UAAU7C,MAAM,EAAE;kBAC/B,oBACItD,OAAA,CAAC9B,QAAQ;oBAAckD,KAAK,EAAEkC,MAAO;oBAAA0G,QAAA,GAAC,MAC9B,EAAC1G,MAAM;kBAAA,GADAA,MAAM;oBAAA2G,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEX,CAAC;gBAEnB,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACVpK,OAAA,CAAC5B,OAAO;YAAC2L,OAAO,EAAC,MAAM;YAACiC,UAAU,EAAC,QAAQ;YAAC3B,GAAG,EAAE,CAAE;YAAAL,QAAA,gBAC/ChK,OAAA,CAAClC,MAAM;cACH4O,OAAO,EAAC,MAAM;cACdhG,IAAI,EAAC,OAAO;cACZuG,QAAQ,EAAE/J,YAAY,CAACK,KAAM;cAC7BkH,OAAO,EAAE,SAAAA,CAAA,EAAY;gBAAExC,gBAAgB,CAAC9D,IAAI,GAAG,CAAC,CAAC;cAAE,CAAE;cACrDoG,EAAE,EAAE;gBAAE9J,KAAK,EAAEyC,YAAY,CAACK,KAAK,GAAG,SAAS,GAAG;cAAU,CAAE;cAAAyG,QAAA,EAC7D;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EACRW,eAAe,CAAC5E,GAAG,CAAC,UAAUwE,IAAI,EAAEC,GAAG,EAAE;cACtC,IAAID,IAAI,KAAK,KAAK,EAAE;gBAChB,oBACI3K,OAAA,CAAClC,MAAM;kBAEH4O,OAAO,EAAC,MAAM;kBACdhG,IAAI,EAAC,OAAO;kBACZuG,QAAQ;kBACR1C,EAAE,EAAE;oBACA+B,QAAQ,EAAE,EAAE;oBACZlM,YAAY,EAAE,CAAC;oBACfK,KAAK,EAAE,SAAS;oBAChByM,aAAa,EAAE,MAAM;oBACrBnM,UAAU,EAAE;kBAChB,CAAE;kBAAAiJ,QAAA,EACL;gBAED,GAbS,WAAW,GAAGY,GAAG;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAalB,CAAC;cAEjB;cACA,oBACIpK,OAAA,CAAClC,MAAM;gBAEH4O,OAAO,EAAExJ,YAAY,CAACI,MAAM,KAAKqH,IAAI,GAAG,WAAW,GAAG,MAAO;gBAC7DlK,KAAK,EAAEyC,YAAY,CAACI,MAAM,KAAKqH,IAAI,GAAG,MAAM,GAAG,SAAU;gBACzDjE,IAAI,EAAC,OAAO;gBACZ+D,OAAO,EAAE,SAAAA,CAAA,EAAY;kBAAExC,gBAAgB,CAAC0C,IAAI,CAAC;gBAAE,CAAE;gBACjDJ,EAAE,EAAE;kBACA+B,QAAQ,EAAE,EAAE;kBACZlM,YAAY,EAAE,CAAC;kBACfK,KAAK,EAAEyC,YAAY,CAACI,MAAM,KAAKqH,IAAI,GAAG,MAAM,GAAG,SAAS;kBACxDd,UAAU,EAAE3G,YAAY,CAACI,MAAM,KAAKqH,IAAI,GAAG,SAAS,GAAG;gBAC3D,CAAE;gBAAAX,QAAA,EAEDW,IAAI,GAAG;cAAC,GAZJA,IAAI;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAaL,CAAC;YAEjB,CAAC,CAAC,eACFpK,OAAA,CAAClC,MAAM;cACH4O,OAAO,EAAC,MAAM;cACdhG,IAAI,EAAC,OAAO;cACZuG,QAAQ,EAAE/J,YAAY,CAACM,IAAK;cAC5BiH,OAAO,EAAE,SAAAA,CAAA,EAAY;gBAAExC,gBAAgB,CAAC9D,IAAI,GAAG,CAAC,CAAC;cAAE,CAAE;cACrDoG,EAAE,EAAE;gBAAE9J,KAAK,EAAEyC,YAAY,CAACM,IAAI,GAAG,SAAS,GAAG;cAAU,CAAE;cAAAwG,QAAA,EAC5D;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eACVpK,OAAA,CAAChB,MAAM;MAACmO,IAAI,EAAE9I,aAAc;MAAC+I,OAAO,EAAE1E,eAAgB;MAACwD,QAAQ,EAAC,IAAI;MAACC,SAAS;MAACkB,UAAU,EAAE;QAAE9C,EAAE,EAAE;UAAEnK,YAAY,EAAE,CAAC;UAAEyJ,UAAU,EAAE;QAAU;MAAE,CAAE;MAAAG,QAAA,gBAC1IhK,OAAA,CAACf,WAAW;QAACsL,EAAE,EAAE;UAAExJ,UAAU,EAAE,GAAG;UAAER,QAAQ,EAAE,EAAE;UAAE+M,aAAa,EAAE,CAAC;UAAE7M,KAAK,EAAE,SAAS;UAAE8M,aAAa,EAAE;QAAI,CAAE;QAAAvD,QAAA,eACvGhK,OAAA,CAACR,GAAG;UAACuK,OAAO,EAAC,MAAM;UAACiC,UAAU,EAAC,QAAQ;UAAC1B,cAAc,EAAC,eAAe;UAAAN,QAAA,gBAClEhK,OAAA;YAAAgK,QAAA,EAAM;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC9BpK,OAAA,CAACnC,UAAU;YACP,cAAW,OAAO;YAClB4M,OAAO,EAAE/B,eAAgB;YACzB6B,EAAE,EAAE;cACA9J,KAAK,EAAE,SAAS;cAChB+M,UAAU,EAAE,CAAC;cACb3D,UAAU,EAAE,SAAS;cACrB,SAAS,EAAE;gBAAEA,UAAU,EAAE;cAAU;YACvC,CAAE;YAAAG,QAAA,eAEFhK,OAAA,CAACN,SAAS;cAAAuK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACdpK,OAAA,CAACL,OAAO;QAAC4K,EAAE,EAAE;UAAEuB,YAAY,EAAE;QAAE;MAAE;QAAA7B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACpCpK,OAAA,CAACd,aAAa;QAACqL,EAAE,EAAE;UAAEV,UAAU,EAAE,SAAS;UAAEyD,aAAa,EAAE;QAAE,CAAE;QAAAtD,QAAA,eAC3DhK,OAAA,CAACR,GAAG;UAACuK,OAAO,EAAC,MAAM;UAACgC,aAAa,EAAC,QAAQ;UAAC1B,GAAG,EAAE,CAAE;UAAAL,QAAA,gBAC9ChK,OAAA,CAACR,GAAG;YAAAwK,QAAA,gBACAhK,OAAA,CAACP,UAAU;cAACsB,UAAU,EAAE,GAAI;cAAC+K,YAAY,EAAE,GAAI;cAACrL,KAAK,EAAC,SAAS;cAAAuJ,QAAA,GAAC,4BAC/C,eAAAhK,OAAA;gBAAM4J,KAAK,EAAE;kBAAEnJ,KAAK,EAAE;gBAAU,CAAE;gBAAAuJ,QAAA,EAAC;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACbpK,OAAA,CAACZ,SAAS;cACNgC,KAAK,EAAEqD,QAAQ,CAAC3B,UAAW;cAC3B8F,IAAI,EAAC,YAAY;cACjBwD,QAAQ,EAAEzD,gBAAiB;cAC3BwD,SAAS;cACTzF,IAAI,EAAC,OAAO;cACZlG,WAAW,EAAC,qCAAmB;cAC/B+J,EAAE,EAAE;gBAAEV,UAAU,EAAE,MAAM;gBAAEzJ,YAAY,EAAE;cAAE,CAAE;cAC5CuD,KAAK,EAAE,CAAC,CAACkB,cAAc,CAAC/B,UAAW;cACnC2K,UAAU,EAAE5I,cAAc,CAAC/B;YAAW;cAAAmH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eACNpK,OAAA,CAACR,GAAG;YAAAwK,QAAA,gBACAhK,OAAA,CAACP,UAAU;cAACsB,UAAU,EAAE,GAAI;cAAC+K,YAAY,EAAE,GAAI;cAACrL,KAAK,EAAC,SAAS;cAAAuJ,QAAA,EAAC;YAEhE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbpK,OAAA,CAAC7B,WAAW;cAACgO,SAAS;cAACzF,IAAI,EAAC,OAAO;cAAC6D,EAAE,EAAE;gBAAEV,UAAU,EAAE,MAAM;gBAAEzJ,YAAY,EAAE;cAAE,CAAE;cAAA4J,QAAA,eAC5EhK,OAAA,CAAC/B,MAAM;gBACH2K,IAAI,EAAC,QAAQ;gBACbxH,KAAK,EAAEqD,QAAQ,CAACE,MAAO;gBACvByH,QAAQ,EAAEzD,gBAAiB;gBAC3B4D,YAAY;gBACZE,UAAU,EAAE;kBAAE,YAAY,EAAE;gBAAU,CAAE;gBAAAzC,QAAA,gBAExChK,OAAA,CAACV,WAAW;kBAAC8B,KAAK,EAAC,EAAE;kBAAA4I,QAAA,eAAChK,OAAA;oBAAAgK,QAAA,EAAI;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAa,CAAC,EACxDnF,UAAU,CAACkB,GAAG,CAAC,UAAUxB,MAAM,EAAE;kBAC9B,oBACI3E,OAAA,CAACV,WAAW;oBAAc8B,KAAK,EAAEuD,MAAO;oBAAAqF,QAAA,EAAErF;kBAAM,GAA9BA,MAAM;oBAAAsF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAsC,CAAC;gBAEvE,CAAC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC,eACNpK,OAAA,CAACR,GAAG;YAAAwK,QAAA,gBACAhK,OAAA,CAACP,UAAU;cAACsB,UAAU,EAAE,GAAI;cAAC+K,YAAY,EAAE,GAAI;cAACrL,KAAK,EAAC,SAAS;cAAAuJ,QAAA,GAAC,gBACnD,eAAAhK,OAAA;gBAAM4J,KAAK,EAAE;kBAAEnJ,KAAK,EAAE;gBAAU,CAAE;gBAAAuJ,QAAA,EAAC;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC,eACbpK,OAAA,CAACT,WAAW;cACR4B,OAAO,EAAEkE,cAAe;cACxBjE,KAAK,EAAEF,gBAAgB,CAACmE,cAAc,EAAEZ,QAAQ,CAAC1B,SAAS,CAAE;cAC5DqJ,QAAQ,EAAE,SAAAA,CAAU1L,MAAM,EAAE;gBAAEgE,WAAW,CAAC;kBAAE,GAAGD,QAAQ;kBAAE1B,SAAS,EAAErC,MAAM,GAAGA,MAAM,CAACU,KAAK,GAAG;gBAAG,CAAC,CAAC;cAAE,CAAE;cACrGsM,MAAM,EAAE;gBACJ,GAAGzN,eAAe;gBAClB0N,OAAO,EAAEA,CAACxN,IAAI,EAAEQ,KAAK,MAAM;kBACvB,GAAGR,IAAI;kBACP0M,WAAW,EAAEhI,cAAc,CAAC9B,SAAS,GAAG,SAAS,GAAG5C,IAAI,CAAC0M,WAAW;kBACpEvM,SAAS,EAAE,MAAM;kBACjB,SAAS,EAAE;oBAAEuM,WAAW,EAAE;kBAAU;gBACxC,CAAC;cACL,CAAE;cACFe,WAAW;cACXpN,WAAW,EAAC,yBAAe;cAC3BqN,gBAAgB,EAAE,SAAAA,CAAA,EAAY;gBAAE,OAAO,kBAAkB;cAAE;YAAE;cAAA5D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC,EACDvF,cAAc,CAAC9B,SAAS,iBACrB/C,OAAA,CAACR,GAAG;cAAC+K,EAAE,EAAE;gBAAE9J,KAAK,EAAE,SAAS;gBAAEF,QAAQ,EAAE,EAAE;gBAAEuN,EAAE,EAAE;cAAI,CAAE;cAAA9D,QAAA,EAChDnF,cAAc,CAAC9B;YAAS;cAAAkH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CACR;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACNpK,OAAA,CAACR,GAAG;YAAAwK,QAAA,gBACAhK,OAAA,CAACP,UAAU;cAACsB,UAAU,EAAE,GAAI;cAAC+K,YAAY,EAAE,GAAI;cAACrL,KAAK,EAAC,SAAS;cAAAuJ,QAAA,EAAC;YAEhE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbpK,OAAA,CAAC7B,WAAW;cAACgO,SAAS;cAACzF,IAAI,EAAC,OAAO;cAAC6D,EAAE,EAAE;gBAAEV,UAAU,EAAE,MAAM;gBAAEzJ,YAAY,EAAE;cAAE,CAAE;cAAA4J,QAAA,eAC5EhK,OAAA,CAAC/B,MAAM;gBACH2K,IAAI,EAAC,WAAW;gBAChBxH,KAAK,EAAEqD,QAAQ,CAACG,SAAU;gBAC1BwH,QAAQ,EAAEzD,gBAAiB;gBAAAqB,QAAA,gBAE3BhK,OAAA,CAACV,WAAW;kBAAC8B,KAAK,EAAE,CAAE;kBAAA4I,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAa,CAAC,eAC7CpK,OAAA,CAACV,WAAW;kBAAC8B,KAAK,EAAE,CAAE;kBAAA4I,QAAA,EAAC;gBAAS;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAa,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK,CAAC,eAChBpK,OAAA,CAACb,aAAa;QAACoL,EAAE,EAAE;UAAEtJ,OAAO,EAAE,CAAC;UAAE4I,UAAU,EAAE,SAAS;UAAEkE,sBAAsB,EAAE,EAAE;UAAEC,uBAAuB,EAAE;QAAG,CAAE;QAAAhE,QAAA,gBAC9GhK,OAAA,CAAClC,MAAM;UAAC2M,OAAO,EAAE/B,eAAgB;UAACuE,QAAQ,EAAElI,UAAW;UAACtE,KAAK,EAAC,SAAS;UAACiM,OAAO,EAAC,UAAU;UAACnC,EAAE,EAAE;YAAEnK,YAAY,EAAE,CAAC;YAAEW,UAAU,EAAE;UAAI,CAAE;UAAAiJ,QAAA,EAAC;QAErI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpK,OAAA,CAAClC,MAAM;UAAC2M,OAAO,EAAE5B,cAAe;UAACoE,QAAQ,EAAElI,UAAW;UAAC2H,OAAO,EAAC,WAAW;UAACjM,KAAK,EAAC,MAAM;UAAC8J,EAAE,EAAE;YAAEnK,YAAY,EAAE,CAAC;YAAEkM,QAAQ,EAAE,GAAG;YAAEvL,UAAU,EAAE,GAAG;YAAER,QAAQ,EAAE,EAAE;YAAED,SAAS,EAAE;UAAE,CAAE;UAACqM,SAAS,EAAE5H,UAAU,gBAAG/E,OAAA,CAACX,gBAAgB;YAACqH,IAAI,EAAE,EAAG;YAACjG,KAAK,EAAC;UAAS;YAAAwJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAAG,IAAK;UAAAJ,QAAA,EAAC;QAE5P;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eACTpK,OAAA,CAAChB,MAAM;MAACmO,IAAI,EAAE5H,gBAAiB;MAAC6H,OAAO,EAAEhE,iBAAkB;MAAC8C,QAAQ,EAAC,IAAI;MAACC,SAAS;MAAAnC,QAAA,gBAC/EhK,OAAA,CAACf,WAAW;QAAC8B,UAAU,EAAE,GAAI;QAACN,KAAK,EAAC,SAAS;QAAC8J,EAAE,EAAE;UAAEhK,QAAQ,EAAE;QAAG,CAAE;QAAAyJ,QAAA,EAAC;MAEpE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,eACdpK,OAAA,CAACd,aAAa;QAAA8K,QAAA,eACVhK,OAAA,CAACJ,iBAAiB;UAAAoK,QAAA,GAAC,yEACoB,eAAAhK,OAAA;YAAAgK,QAAA,EAASvE,eAAe,IAAIA,eAAe,CAAC3C;UAAU;YAAAmH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,mEACvG;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAmB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eAChBpK,OAAA,CAACb,aAAa;QAACoL,EAAE,EAAE;UAAEtJ,OAAO,EAAE;QAAE,CAAE;QAAA+I,QAAA,gBAC9BhK,OAAA,CAAClC,MAAM;UAAC2M,OAAO,EAAErB,iBAAkB;UAAC6D,QAAQ,EAAEtH,aAAc;UAAC+G,OAAO,EAAC,UAAU;UAACjM,KAAK,EAAC,SAAS;UAAC8J,EAAE,EAAE;YAAEnK,YAAY,EAAE,CAAC;YAAEW,UAAU,EAAE;UAAI,CAAE;UAAAiJ,QAAA,EAAC;QAE1I;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpK,OAAA,CAAClC,MAAM;UAAC2M,OAAO,EAAEpB,mBAAoB;UAAC4D,QAAQ,EAAEtH,aAAc;UAAC+G,OAAO,EAAC,WAAW;UAACjM,KAAK,EAAC,OAAO;UAAC8J,EAAE,EAAE;YAAEnK,YAAY,EAAE,CAAC;YAAEkM,QAAQ,EAAE,GAAG;YAAEvL,UAAU,EAAE;UAAI,CAAE;UAAC4L,SAAS,EAAEhH,aAAa,gBAAG3F,OAAA,CAACX,gBAAgB;YAACqH,IAAI,EAAE,EAAG;YAACjG,KAAK,EAAC;UAAS;YAAAwJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAAG,IAAK;UAAAJ,QAAA,EAAC;QAE5O;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eACTpK,OAAA,CAACzB,MAAM;MAAA0L,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAE1B;AAACnH,EAAA,CApqBQD,YAAY;EAAA,QA+BAtE,WAAW;AAAA;AAAAuP,EAAA,GA/BvBjL,YAAY;AAsqBrB,eAAeA,YAAY;AAAC,IAAAiL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}