{"ast":null,"code":"var _jsxFileName = \"D:\\\\fashion-shirt-shop\\\\DATN\\\\src\\\\main\\\\resources\\\\templates\\\\fashionshop-ui\\\\src\\\\layouts\\\\SanPham\\\\chitiet.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport Card from \"@mui/material/Card\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\nimport SoftBox from \"components/SoftBox\";\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\nimport Footer from \"examples/Footer\";\nimport Table from \"examples/Tables/Table\";\nimport Typography from \"@mui/material/Typography\";\nimport Box from \"@mui/material/Box\";\nimport Slider from \"@mui/material/Slider\";\nimport Grid from \"@mui/material/Grid\";\nimport Chip from \"@mui/material/Chip\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport { FaQrcode } from \"react-icons/fa\";\nimport { FaEdit } from \"react-icons/fa\";\nimport { FaSync } from \"react-icons/fa\";\nimport { FaPlus } from \"react-icons/fa\";\nimport { FaEye } from \"react-icons/fa\";\nimport { FaCheckCircle } from \"react-icons/fa\";\nimport { FaFileExcel } from \"react-icons/fa\";\nimport { FaFilePdf } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport ProductDetailUpdateModal from \"./modalupdate\";\nimport ProductDetailInfoModal from \"./modaldetailproduct\";\nimport { Html5Qrcode } from \"html5-qrcode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction formatPrice(value) {\n  if (value !== undefined && value !== null) {\n    return value.toLocaleString(\"vi-VN\") + \" ₫\";\n  } else {\n    return \"\";\n  }\n}\nfunction formatStatus(status) {\n  if (status === 1 || status === \"Đang bán\" || status === \"Hiển thị\") {\n    return \"Đang bán\";\n  } else {\n    return \"Ngừng bán\";\n  }\n}\nconst trangThaiList = [\"Tất cả\", \"Đang bán\", \"Ngừng bán\"];\nconst defaultFilter = {\n  trangThai: \"Tất cả\",\n  chatLieu: \"Tất cả\",\n  thuongHieu: \"Tất cả\",\n  coAo: \"Tất cả\",\n  tayAo: \"Tất cả\",\n  mauSac: \"Tất cả\",\n  kichCo: \"Tất cả\",\n  gia: [0, 10000000],\n  search: \"\"\n};\nfunction ProductDetailTable() {\n  _s();\n  const params = useParams();\n  const id = params.id;\n  const navigate = useNavigate();\n  const [filters, setFilters] = useState({\n    ...defaultFilter\n  });\n  const [filterOptions, setFilterOptions] = useState({\n    chatLieu: [],\n    thuongHieu: [],\n    coAo: [],\n    tayAo: [],\n    mauSac: [],\n    kichCo: []\n  });\n  const [giaRange, setGiaRange] = useState([0, 10000000]);\n  const [product, setProduct] = useState(null);\n  const [details, setDetails] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [openUpdateModal, setOpenUpdateModal] = useState(false);\n  const [selectedDetail, setSelectedDetail] = useState(null);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [qrReady, setQrReady] = useState(false);\n  const [scanning, setScanning] = useState(false);\n  const [qrError, setQrError] = useState(\"\");\n  const qrRef = useRef(null);\n  const html5QrCodeRef = useRef(null);\n  const [checkedRow, setCheckedRow] = useState(null);\n  const [infoModalOpen, setInfoModalOpen] = useState(false);\n  const [selectedInfoDetail, setSelectedInfoDetail] = useState(null);\n  useEffect(function () {\n    setLoading(true);\n    async function fetchOptions() {\n      try {\n        const chatLieuRes = await axios.get(\"http://localhost:8080/chatLieu/all\");\n        const thuongHieuRes = await axios.get(\"http://localhost:8080/thuongHieu/all\");\n        const coAoRes = await axios.get(\"http://localhost:8080/coAo/all\");\n        const tayAoRes = await axios.get(\"http://localhost:8080/tayAo/all\");\n        const mauSacRes = await axios.get(\"http://localhost:8080/mauSac/all\");\n        const kichCoRes = await axios.get(\"http://localhost:8080/kichThuoc/all\");\n        setFilterOptions({\n          chatLieu: chatLieuRes.data || [],\n          thuongHieu: thuongHieuRes.data || [],\n          coAo: coAoRes.data || [],\n          tayAo: tayAoRes.data || [],\n          mauSac: mauSacRes.data || [],\n          kichCo: kichCoRes.data || []\n        });\n      } catch (error) {}\n    }\n    async function fetchProductAndDetails() {\n      try {\n        const prodRes = await axios.get(\"http://localhost:8080/sanPham/\" + id);\n        setProduct(prodRes.data);\n        const detailsRes = await axios.get(\"http://localhost:8080/chiTietSanPham/by-san-pham/\" + id);\n        setDetails(detailsRes.data || []);\n        const giaArr = (detailsRes.data || []).map(function (d) {\n          return d.gia;\n        }).filter(function (g) {\n          return typeof g === \"number\";\n        });\n        if (giaArr.length > 0) {\n          setGiaRange([Math.min.apply(null, giaArr), Math.max.apply(null, giaArr)]);\n          setFilters(function (f) {\n            return {\n              ...f,\n              gia: [Math.min.apply(null, giaArr), Math.max.apply(null, giaArr)]\n            };\n          });\n        }\n      } catch (error) {\n        setProduct(null);\n        setDetails([]);\n      }\n      setLoading(false);\n    }\n    fetchOptions();\n    fetchProductAndDetails();\n  }, [id]);\n  function handleEdit(detail) {\n    setSelectedDetail(detail);\n    setOpenUpdateModal(true);\n  }\n  function handleCloseModal() {\n    setOpenUpdateModal(false);\n    setSelectedDetail(null);\n  }\n  function handleUpdateDetail(updatedDetail) {\n    setOpenUpdateModal(false);\n    setSelectedDetail(null);\n    setDetails(function (prev) {\n      return prev.map(function (item) {\n        if (item.maSanPhamChiTiet === updatedDetail.maSanPhamChiTiet) {\n          return {\n            ...item,\n            ...updatedDetail\n          };\n        } else {\n          return item;\n        }\n      });\n    });\n  }\n  useEffect(function () {\n    let stopped = false;\n    async function cleanupQrCode() {\n      if (html5QrCodeRef.current) {\n        try {\n          await html5QrCodeRef.current.stop();\n        } catch (error) {}\n        try {\n          await html5QrCodeRef.current.clear();\n        } catch (error) {}\n        html5QrCodeRef.current = null;\n      }\n    }\n    if (!qrModalOpen || !qrReady) {\n      cleanupQrCode();\n      setScanning(false);\n      setQrError(\"\");\n      return;\n    }\n    setScanning(true);\n    setQrError(\"\");\n    if (qrRef.current) {\n      html5QrCodeRef.current = new Html5Qrcode(qrRef.current.id);\n      html5QrCodeRef.current.start({\n        facingMode: \"environment\"\n      }, {\n        fps: 10,\n        qrbox: {\n          width: 250,\n          height: 250\n        }\n      }, async function (decodedText) {\n        if (stopped) return;\n        setScanning(false);\n        await cleanupQrCode();\n        setQrModalOpen(false);\n        try {\n          const res = await axios.get(\"http://localhost:8080/chiTietSanPham/find-by-ma?ma=\" + encodeURIComponent(decodedText));\n          if (res.data) {\n            setSelectedInfoDetail(res.data);\n            setInfoModalOpen(true);\n          } else {\n            setQrError(\"Không tìm thấy sản phẩm với mã: \" + decodedText);\n          }\n        } catch (error) {\n          setQrError(\"Không tìm thấy sản phẩm với mã: \" + decodedText + \". Vui lòng thử lại.\");\n        }\n      }, function () {}).catch(function () {\n        setScanning(false);\n        setQrError(\"Không thể truy cập camera hoặc camera không khả dụng.\");\n      });\n    }\n    return function () {\n      stopped = true;\n      cleanupQrCode();\n    };\n  }, [qrModalOpen, qrReady]);\n  useEffect(function () {\n    if (!qrModalOpen) setQrReady(false);\n  }, [qrModalOpen]);\n  const handleDialogEntered = useCallback(function () {\n    setQrReady(true);\n  }, []);\n  const filteredDetails = details.filter(function (item) {\n    if (filters.trangThai !== \"Tất cả\" && formatStatus(item.trangThai) !== filters.trangThai) {\n      return false;\n    }\n    if (filters.chatLieu !== \"Tất cả\" && item.tenChatLieu !== filters.chatLieu) {\n      return false;\n    }\n    if (filters.thuongHieu !== \"Tất cả\" && item.tenThuongHieu !== filters.thuongHieu) {\n      return false;\n    }\n    if (filters.coAo !== \"Tất cả\" && item.tenCoAo !== filters.coAo) {\n      return false;\n    }\n    if (filters.tayAo !== \"Tất cả\" && item.tenTayAo !== filters.tayAo) {\n      return false;\n    }\n    if (filters.mauSac !== \"Tất cả\" && item.tenMauSac !== filters.mauSac) {\n      return false;\n    }\n    if (filters.kichCo !== \"Tất cả\" && item.tenKichThuoc !== filters.kichCo) {\n      return false;\n    }\n    if (filters.search && !(item.maSanPhamChiTiet && item.maSanPhamChiTiet.toLowerCase().includes(filters.search.toLowerCase()) || item.tenChatLieu && item.tenChatLieu.toLowerCase().includes(filters.search.toLowerCase()) || item.tenThuongHieu && item.tenThuongHieu.toLowerCase().includes(filters.search.toLowerCase()) || item.tenCoAo && item.tenCoAo.toLowerCase().includes(filters.search.toLowerCase()) || item.tenTayAo && item.tenTayAo.toLowerCase().includes(filters.search.toLowerCase()) || item.tenMauSac && item.tenMauSac.toLowerCase().includes(filters.search.toLowerCase()) || item.tenKichThuoc && item.tenKichThuoc.toLowerCase().includes(filters.search.toLowerCase()))) {\n      return false;\n    }\n    if (Array.isArray(filters.gia) && (item.gia < filters.gia[0] || item.gia > filters.gia[1])) {\n      return false;\n    }\n    return true;\n  });\n  const rows = filteredDetails.map(function (item, idx) {\n    return {\n      checkbox: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: checkedRow === item.maSanPhamChiTiet,\n        onChange: function () {\n          setCheckedRow(checkedRow === item.maSanPhamChiTiet ? null : item.maSanPhamChiTiet);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 17\n      }, this),\n      stt: idx + 1,\n      maSanPhamChiTiet: item.maSanPhamChiTiet,\n      chatLieu: item.tenChatLieu || \"\",\n      thuongHieu: item.tenThuongHieu || \"\",\n      coAo: item.tenCoAo || \"\",\n      tayAo: item.tenTayAo || \"\",\n      mauSac: item.tenMauSac || \"\",\n      kichCo: item.tenKichThuoc || \"\",\n      soLuong: item.soLuong,\n      trongLuong: item.trongLuong,\n      gia: item.gia,\n      trangThai: item.trangThai,\n      actions: \"\"\n    };\n  });\n  function renderFilterSelect(key, options, label) {\n    return /*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      size: \"small\",\n      sx: {\n        minWidth: 120\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        fontSize: 13,\n        fontWeight: \"bold\",\n        mb: 0.5,\n        color: \"#324052\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        value: filters[key],\n        onChange: function (e) {\n          setFilters(function (f) {\n            return {\n              ...f,\n              [key]: e.target.value\n            };\n          });\n        },\n        displayEmpty: true,\n        sx: {\n          borderRadius: 2,\n          background: \"#f5f6fa\",\n          height: 42,\n          fontWeight: 500\n        },\n        inputProps: {\n          \"aria-label\": key\n        },\n        MenuProps: {\n          PaperProps: {\n            sx: {\n              borderRadius: 2,\n              mt: 1\n            }\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"T\\u1EA5t c\\u1EA3\",\n          sx: {\n            fontWeight: 500\n          },\n          children: [\"T\\u1EA5t c\\u1EA3 \", label.toLowerCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }, this), options.map(function (opt) {\n          return /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: opt.tenChatLieu || opt.tenThuongHieu || opt.tenCoAo || opt.tenTayAo || opt.tenMauSac || opt.tenKichThuoc || opt,\n            sx: {\n              fontWeight: 500\n            },\n            children: opt.tenChatLieu || opt.tenThuongHieu || opt.tenCoAo || opt.tenTayAo || opt.tenMauSac || opt.tenKichThuoc || opt\n          }, opt.id || opt.value || opt, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }, this);\n  }\n  const columns = [{\n    name: \"checkbox\",\n    label: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      readOnly: true,\n      style: {\n        pointerEvents: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 17\n    }, this),\n    align: \"center\",\n    width: \"40px\"\n  }, {\n    name: \"stt\",\n    label: \"STT\",\n    align: \"center\",\n    width: \"60px\"\n  }, {\n    name: \"maSanPhamChiTiet\",\n    label: \"Mã sản phẩm\",\n    align: \"left\",\n    width: \"160px\",\n    render: function (value) {\n      return /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: value,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          fontWeight: 500,\n          sx: {\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            maxWidth: 120\n          },\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    name: \"chatLieu\",\n    label: \"Chất liệu\",\n    align: \"center\",\n    width: \"110px\"\n  }, {\n    name: \"thuongHieu\",\n    label: \"Thương hiệu\",\n    align: \"center\",\n    width: \"130px\"\n  }, {\n    name: \"coAo\",\n    label: \"Cổ áo\",\n    align: \"center\",\n    width: \"100px\"\n  }, {\n    name: \"tayAo\",\n    label: \"Tay áo\",\n    align: \"center\",\n    width: \"100px\"\n  }, {\n    name: \"mauSac\",\n    label: \"Màu sắc\",\n    align: \"center\",\n    width: \"100px\"\n  }, {\n    name: \"kichCo\",\n    label: \"Kích cỡ\",\n    align: \"center\",\n    width: \"80px\"\n  }, {\n    name: \"soLuong\",\n    label: \"Số lượng\",\n    align: \"center\",\n    width: \"90px\"\n  }, {\n    name: \"trongLuong\",\n    label: \"Trọng lượng\",\n    align: \"center\",\n    width: \"100px\"\n  }, {\n    name: \"gia\",\n    label: \"Giá\",\n    align: \"right\",\n    width: \"120px\",\n    render: function (value) {\n      return /*#__PURE__*/_jsxDEV(Chip, {\n        label: formatPrice(value),\n        color: \"info\",\n        sx: {\n          fontWeight: 700,\n          fontSize: 15,\n          background: \"#e3f2fd\",\n          borderRadius: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    name: \"trangThai\",\n    label: \"Trạng thái\",\n    align: \"center\",\n    width: \"110px\",\n    render: function (value) {\n      return /*#__PURE__*/_jsxDEV(Chip, {\n        label: formatStatus(value),\n        icon: formatStatus(value) === \"Đang bán\" ? /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n          style: {\n            color: \"#219653\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 33\n        }, this) : undefined,\n        sx: {\n          background: formatStatus(value) === \"Đang bán\" ? \"#e6f4ea\" : \"#f4f6fb\",\n          color: formatStatus(value) === \"Đang bán\" ? \"#219653\" : \"#bdbdbd\",\n          border: \"1px solid \" + (formatStatus(value) === \"Đang bán\" ? \"#219653\" : \"#bdbdbd\"),\n          fontWeight: 500,\n          borderRadius: 2,\n          fontSize: 14,\n          height: 28\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 21\n      }, this);\n    }\n  }, {\n    name: \"actions\",\n    label: \"\",\n    align: \"center\",\n    width: \"120px\",\n    render: function (_value, row) {\n      return /*#__PURE__*/_jsxDEV(SoftBox, {\n        display: \"flex\",\n        gap: 0.5,\n        justifyContent: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"S\\u1EEDa\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"small\",\n            sx: {\n              color: \"#4acbf2\"\n            },\n            onClick: function () {\n              handleEdit(details.find(function (d) {\n                return d.maSanPhamChiTiet === row.maSanPhamChiTiet;\n              }));\n            },\n            children: /*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Th\\xEAm m\\u1EDBi s\\u1EA3n ph\\u1EA9m chi ti\\u1EBFt\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            size: \"small\",\n            sx: {\n              color: \"#43e97b\"\n            },\n            onClick: function () {\n              navigate(\"/SanPham/ThemMoi\");\n            },\n            children: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 21\n      }, this);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    children: [/*#__PURE__*/_jsxDEV(DashboardNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SoftBox, {\n      py: 3,\n      sx: {\n        background: \"#F4F6FB\",\n        minHeight: \"100vh\",\n        userSelect: \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          p: {\n            xs: 2,\n            md: 3\n          },\n          mb: 3,\n          borderRadius: 4,\n          boxShadow: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          fontWeight: \"bold\",\n          fontSize: 22,\n          color: \"#1976d2\",\n          mb: 2,\n          children: \"B\\u1ED9 l\\u1ECDc s\\u1EA3n ph\\u1EA9m chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontSize: 13,\n              fontWeight: \"bold\",\n              mb: 0.5,\n              color: \"#324052\",\n              children: \"Tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              fullWidth: true,\n              size: \"small\",\n              sx: {\n                minWidth: 120\n              },\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                value: filters.trangThai,\n                onChange: function (e) {\n                  setFilters(function (f) {\n                    return {\n                      ...f,\n                      trangThai: e.target.value\n                    };\n                  });\n                },\n                displayEmpty: true,\n                sx: {\n                  borderRadius: 2,\n                  background: \"#f5f6fa\",\n                  height: 42,\n                  fontWeight: 500\n                },\n                inputProps: {\n                  \"aria-label\": \"trangThai\"\n                },\n                children: trangThaiList.map(function (s) {\n                  return /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: s,\n                    sx: {\n                      fontWeight: 500\n                    },\n                    children: s\n                  }, s, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 608,\n                    columnNumber: 45\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: renderFilterSelect(\"chatLieu\", filterOptions.chatLieu, \"Chất liệu\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: renderFilterSelect(\"thuongHieu\", filterOptions.thuongHieu, \"Thương hiệu\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: renderFilterSelect(\"coAo\", filterOptions.coAo, \"Cổ áo\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: renderFilterSelect(\"tayAo\", filterOptions.tayAo, \"Tay áo\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 629,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: renderFilterSelect(\"mauSac\", filterOptions.mauSac, \"Màu sắc\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 2,\n            children: renderFilterSelect(\"kichCo\", filterOptions.kichCo, \"Kích cỡ\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(SoftBox, {\n              pl: 2,\n              pr: 2,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                fontSize: 14,\n                fontWeight: \"bold\",\n                mb: 0.5,\n                children: \"Gi\\xE1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                value: filters.gia,\n                min: giaRange[0],\n                max: giaRange[1],\n                step: 1000,\n                onChange: function (_event, value) {\n                  setFilters(function (f) {\n                    return {\n                      ...f,\n                      gia: value\n                    };\n                  });\n                },\n                valueLabelDisplay: \"auto\",\n                sx: {\n                  color: \"#1976d2\",\n                  \"& .MuiSlider-thumb\": {\n                    borderRadius: \"10px\"\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                mt: -1,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: formatPrice(giaRange[0])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"text.secondary\",\n                  children: formatPrice(giaRange[1])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 659,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 639,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 638,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            sx: {\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"flex-end\"\n            },\n            children: /*#__PURE__*/_jsxDEV(SoftBox, {\n              display: \"flex\",\n              gap: 1,\n              alignItems: \"center\",\n              mt: 1,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"info\",\n                startIcon: /*#__PURE__*/_jsxDEV(FaSync, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 48\n                }, this),\n                sx: {\n                  borderRadius: 3,\n                  fontWeight: 500,\n                  px: 2,\n                  background: \"#49a3f1\"\n                },\n                onClick: function () {\n                  setFilters({\n                    ...defaultFilter,\n                    gia: giaRange\n                  });\n                },\n                children: \"\\u0110\\u1EB7t l\\u1EA1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"success\",\n                startIcon: /*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 48\n                }, this),\n                sx: {\n                  borderRadius: 3,\n                  fontWeight: 500,\n                  px: 2,\n                  background: \"#43e97b\",\n                  color: \"#fff\"\n                },\n                onClick: function () {\n                  navigate(\"/SanPham/ThemMoi\");\n                },\n                children: \"Th\\xEAm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Qu\\xE9t m\\xE3 QR\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  sx: {\n                    bgcolor: \"#ede7f6\",\n                    color: \"#4acbf2\"\n                  },\n                  onClick: function () {\n                    setQrModalOpen(true);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaQrcode, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 720,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Xem nhanh\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    sx: {\n                      bgcolor: \"#ede7f6\",\n                      color: \"#4acbf2\"\n                    },\n                    onClick: function () {\n                      const row = details.find(function (d) {\n                        return d.maSanPhamChiTiet === checkedRow;\n                      });\n                      if (row) {\n                        setSelectedInfoDetail(row);\n                        setInfoModalOpen(true);\n                      }\n                    },\n                    disabled: !checkedRow,\n                    children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 738,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Xu\\u1EA5t Excel\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  sx: {\n                    bgcolor: \"#ede7f6\",\n                    color: \"#4acbf2\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaFileExcel, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 744,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 742,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Xu\\u1EA5t PDF\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  sx: {\n                    bgcolor: \"#ede7f6\",\n                    color: \"#4acbf2\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaFilePdf, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          p: {\n            xs: 2,\n            md: 3\n          },\n          mb: 2,\n          borderRadius: 4,\n          boxShadow: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          mb: 2,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontWeight: \"bold\",\n              fontSize: 20,\n              color: \"#1769aa\",\n              children: [\"Danh s\\xE1ch s\\u1EA3n ph\\u1EA9m chi ti\\u1EBFt\", \" \", product ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#009688\"\n                },\n                children: [\"- \", product.tenSanPham]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 37\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"text.secondary\",\n              fontSize: 15,\n              children: [\"Hi\\u1EC3n th\\u1ECB danh s\\xE1ch chi ti\\u1EBFt\", \" \", product ? product.tenSanPham : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Chip, {\n              label: \"Tổng: \" + rows.length,\n              color: \"primary\",\n              variant: \"outlined\",\n              sx: {\n                fontWeight: 500,\n                fontSize: 15,\n                height: 32\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          rows: rows,\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductDetailUpdateModal, {\n        open: openUpdateModal,\n        onClose: handleCloseModal,\n        onUpdate: handleUpdateDetail,\n        detail: selectedDetail,\n        filterOptions: filterOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ProductDetailInfoModal, {\n        open: infoModalOpen,\n        onClose: function () {\n          setInfoModalOpen(false);\n        },\n        detail: selectedInfoDetail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: qrModalOpen,\n        onClose: function () {\n          setQrModalOpen(false);\n        },\n        maxWidth: \"sm\",\n        fullWidth: true,\n        PaperProps: {\n          sx: {\n            borderRadius: 4\n          }\n        },\n        TransitionProps: {\n          onEntered: handleDialogEntered\n        },\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          sx: {\n            fontWeight: 700,\n            fontSize: 22,\n            color: \"#1976d2\"\n          },\n          children: \"Qu\\xE9t m\\xE3 QR s\\u1EA3n ph\\u1EA9m chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"qr-reader\",\n            ref: qrRef,\n            style: {\n              width: \"100%\",\n              minHeight: 300,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              background: \"#f7fafd\",\n              borderRadius: 8,\n              marginBottom: 16\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 25\n          }, this), qrError && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"error\",\n            mt: 2,\n            textAlign: \"center\",\n            children: qrError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 29\n          }, this), scanning && /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"info\",\n            mt: 2,\n            textAlign: \"center\",\n            children: \"\\u0110ang qu\\xE9t m\\xE3 QR, vui l\\xF2ng \\u0111\\u01B0a m\\xE3 v\\xE0o khung...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 817,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: function () {\n              setQrModalOpen(false);\n            },\n            variant: \"outlined\",\n            children: \"\\u0110\\xF3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 566,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductDetailTable, \"tXLhC2ERRpPMU3fg6cXhiVLWIFE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProductDetailTable;\nexport default ProductDetailTable;\nvar _c;\n$RefreshReg$(_c, \"ProductDetailTable\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Card","IconButton","Button","MenuItem","FormControl","Select","SoftBox","DashboardLayout","DashboardNavbar","Footer","Table","Typography","Box","Slider","Grid","Chip","Tooltip","Dialog","DialogTitle","DialogContent","DialogActions","FaQrcode","FaEdit","FaSync","FaPlus","FaEye","FaCheckCircle","FaFileExcel","FaFilePdf","axios","useParams","useNavigate","ProductDetailUpdateModal","ProductDetailInfoModal","Html5Qrcode","jsxDEV","_jsxDEV","formatPrice","value","undefined","toLocaleString","formatStatus","status","trangThaiList","defaultFilter","trangThai","chatLieu","thuongHieu","coAo","tayAo","mauSac","kichCo","gia","search","ProductDetailTable","_s","params","id","navigate","filters","setFilters","filterOptions","setFilterOptions","giaRange","setGiaRange","product","setProduct","details","setDetails","loading","setLoading","openUpdateModal","setOpenUpdateModal","selectedDetail","setSelectedDetail","qrModalOpen","setQrModalOpen","qrReady","setQrReady","scanning","setScanning","qrError","setQrError","qrRef","html5QrCodeRef","checkedRow","setCheckedRow","infoModalOpen","setInfoModalOpen","selectedInfoDetail","setSelectedInfoDetail","fetchOptions","chatLieuRes","get","thuongHieuRes","coAoRes","tayAoRes","mauSacRes","kichCoRes","data","error","fetchProductAndDetails","prodRes","detailsRes","giaArr","map","d","filter","g","length","Math","min","apply","max","f","handleEdit","detail","handleCloseModal","handleUpdateDetail","updatedDetail","prev","item","maSanPhamChiTiet","stopped","cleanupQrCode","current","stop","clear","start","facingMode","fps","qrbox","width","height","decodedText","res","encodeURIComponent","catch","handleDialogEntered","filteredDetails","tenChatLieu","tenThuongHieu","tenCoAo","tenTayAo","tenMauSac","tenKichThuoc","toLowerCase","includes","Array","isArray","rows","idx","checkbox","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","stt","soLuong","trongLuong","actions","renderFilterSelect","key","options","label","fullWidth","size","sx","minWidth","children","fontSize","fontWeight","mb","color","e","target","displayEmpty","borderRadius","background","inputProps","MenuProps","PaperProps","mt","opt","columns","name","readOnly","style","pointerEvents","align","render","title","whiteSpace","overflow","textOverflow","maxWidth","icon","border","_value","row","display","gap","justifyContent","onClick","find","py","minHeight","userSelect","p","xs","md","boxShadow","container","spacing","alignItems","s","pl","pr","step","_event","valueLabelDisplay","variant","startIcon","px","bgcolor","disabled","tenSanPham","open","onClose","onUpdate","TransitionProps","onEntered","ref","marginBottom","textAlign","_c","$RefreshReg$"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/SanPham/chitiet.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport Card from \"@mui/material/Card\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Button from \"@mui/material/Button\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport Select from \"@mui/material/Select\";\r\nimport SoftBox from \"components/SoftBox\";\r\nimport DashboardLayout from \"examples/LayoutContainers/DashboardLayout\";\r\nimport DashboardNavbar from \"examples/Navbars/DashboardNavbar\";\r\nimport Footer from \"examples/Footer\";\r\nimport Table from \"examples/Tables/Table\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Slider from \"@mui/material/Slider\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Chip from \"@mui/material/Chip\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport { FaQrcode } from \"react-icons/fa\";\r\nimport { FaEdit } from \"react-icons/fa\";\r\nimport { FaSync } from \"react-icons/fa\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport { FaEye } from \"react-icons/fa\";\r\nimport { FaCheckCircle } from \"react-icons/fa\";\r\nimport { FaFileExcel } from \"react-icons/fa\";\r\nimport { FaFilePdf } from \"react-icons/fa\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport ProductDetailUpdateModal from \"./modalupdate\";\r\nimport ProductDetailInfoModal from \"./modaldetailproduct\";\r\nimport { Html5Qrcode } from \"html5-qrcode\";\r\n\r\nfunction formatPrice(value) {\r\n    if (value !== undefined && value !== null) {\r\n        return value.toLocaleString(\"vi-VN\") + \" ₫\";\r\n    } else {\r\n        return \"\";\r\n    }\r\n}\r\n\r\nfunction formatStatus(status) {\r\n    if (status === 1 || status === \"Đang bán\" || status === \"Hiển thị\") {\r\n        return \"Đang bán\";\r\n    } else {\r\n        return \"Ngừng bán\";\r\n    }\r\n}\r\n\r\nconst trangThaiList = [\"Tất cả\", \"Đang bán\", \"Ngừng bán\"];\r\nconst defaultFilter = {\r\n    trangThai: \"Tất cả\",\r\n    chatLieu: \"Tất cả\",\r\n    thuongHieu: \"Tất cả\",\r\n    coAo: \"Tất cả\",\r\n    tayAo: \"Tất cả\",\r\n    mauSac: \"Tất cả\",\r\n    kichCo: \"Tất cả\",\r\n    gia: [0, 10000000],\r\n    search: \"\",\r\n};\r\n\r\nfunction ProductDetailTable() {\r\n    const params = useParams();\r\n    const id = params.id;\r\n    const navigate = useNavigate();\r\n\r\n    const [filters, setFilters] = useState({ ...defaultFilter });\r\n    const [filterOptions, setFilterOptions] = useState({\r\n        chatLieu: [],\r\n        thuongHieu: [],\r\n        coAo: [],\r\n        tayAo: [],\r\n        mauSac: [],\r\n        kichCo: [],\r\n    });\r\n    const [giaRange, setGiaRange] = useState([0, 10000000]);\r\n    const [product, setProduct] = useState(null);\r\n    const [details, setDetails] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const [openUpdateModal, setOpenUpdateModal] = useState(false);\r\n    const [selectedDetail, setSelectedDetail] = useState(null);\r\n\r\n    const [qrModalOpen, setQrModalOpen] = useState(false);\r\n    const [qrReady, setQrReady] = useState(false);\r\n    const [scanning, setScanning] = useState(false);\r\n    const [qrError, setQrError] = useState(\"\");\r\n    const qrRef = useRef(null);\r\n    const html5QrCodeRef = useRef(null);\r\n\r\n    const [checkedRow, setCheckedRow] = useState(null);\r\n    const [infoModalOpen, setInfoModalOpen] = useState(false);\r\n    const [selectedInfoDetail, setSelectedInfoDetail] = useState(null);\r\n\r\n    useEffect(function () {\r\n        setLoading(true);\r\n\r\n        async function fetchOptions() {\r\n            try {\r\n                const chatLieuRes = await axios.get(\"http://localhost:8080/chatLieu/all\");\r\n                const thuongHieuRes = await axios.get(\"http://localhost:8080/thuongHieu/all\");\r\n                const coAoRes = await axios.get(\"http://localhost:8080/coAo/all\");\r\n                const tayAoRes = await axios.get(\"http://localhost:8080/tayAo/all\");\r\n                const mauSacRes = await axios.get(\"http://localhost:8080/mauSac/all\");\r\n                const kichCoRes = await axios.get(\"http://localhost:8080/kichThuoc/all\");\r\n                setFilterOptions({\r\n                    chatLieu: chatLieuRes.data || [],\r\n                    thuongHieu: thuongHieuRes.data || [],\r\n                    coAo: coAoRes.data || [],\r\n                    tayAo: tayAoRes.data || [],\r\n                    mauSac: mauSacRes.data || [],\r\n                    kichCo: kichCoRes.data || [],\r\n                });\r\n            } catch (error) {}\r\n        }\r\n\r\n        async function fetchProductAndDetails() {\r\n            try {\r\n                const prodRes = await axios.get(\"http://localhost:8080/sanPham/\" + id);\r\n                setProduct(prodRes.data);\r\n                const detailsRes = await axios.get(\r\n                    \"http://localhost:8080/chiTietSanPham/by-san-pham/\" + id\r\n                );\r\n                setDetails(detailsRes.data || []);\r\n                const giaArr = (detailsRes.data || [])\r\n                    .map(function (d) { return d.gia; })\r\n                    .filter(function (g) { return typeof g === \"number\"; });\r\n                if (giaArr.length > 0) {\r\n                    setGiaRange([Math.min.apply(null, giaArr), Math.max.apply(null, giaArr)]);\r\n                    setFilters(function (f) {\r\n                        return {\r\n                            ...f,\r\n                            gia: [Math.min.apply(null, giaArr), Math.max.apply(null, giaArr)],\r\n                        };\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                setProduct(null);\r\n                setDetails([]);\r\n            }\r\n            setLoading(false);\r\n        }\r\n\r\n        fetchOptions();\r\n        fetchProductAndDetails();\r\n    }, [id]);\r\n\r\n    function handleEdit(detail) {\r\n        setSelectedDetail(detail);\r\n        setOpenUpdateModal(true);\r\n    }\r\n\r\n    function handleCloseModal() {\r\n        setOpenUpdateModal(false);\r\n        setSelectedDetail(null);\r\n    }\r\n\r\n    function handleUpdateDetail(updatedDetail) {\r\n        setOpenUpdateModal(false);\r\n        setSelectedDetail(null);\r\n        setDetails(function (prev) {\r\n            return prev.map(function (item) {\r\n                if (item.maSanPhamChiTiet === updatedDetail.maSanPhamChiTiet) {\r\n                    return { ...item, ...updatedDetail };\r\n                } else {\r\n                    return item;\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    useEffect(function () {\r\n        let stopped = false;\r\n\r\n        async function cleanupQrCode() {\r\n            if (html5QrCodeRef.current) {\r\n                try {\r\n                    await html5QrCodeRef.current.stop();\r\n                } catch (error) {}\r\n                try {\r\n                    await html5QrCodeRef.current.clear();\r\n                } catch (error) {}\r\n                html5QrCodeRef.current = null;\r\n            }\r\n        }\r\n\r\n        if (!qrModalOpen || !qrReady) {\r\n            cleanupQrCode();\r\n            setScanning(false);\r\n            setQrError(\"\");\r\n            return;\r\n        }\r\n\r\n        setScanning(true);\r\n        setQrError(\"\");\r\n        if (qrRef.current) {\r\n            html5QrCodeRef.current = new Html5Qrcode(qrRef.current.id);\r\n            html5QrCodeRef.current\r\n                .start(\r\n                    { facingMode: \"environment\" },\r\n                    {\r\n                        fps: 10,\r\n                        qrbox: { width: 250, height: 250 },\r\n                    },\r\n                    async function (decodedText) {\r\n                        if (stopped) return;\r\n                        setScanning(false);\r\n                        await cleanupQrCode();\r\n                        setQrModalOpen(false);\r\n                        try {\r\n                            const res = await axios.get(\r\n                                \"http://localhost:8080/chiTietSanPham/find-by-ma?ma=\" +\r\n                                encodeURIComponent(decodedText)\r\n                            );\r\n                            if (res.data) {\r\n                                setSelectedInfoDetail(res.data);\r\n                                setInfoModalOpen(true);\r\n                            } else {\r\n                                setQrError(\"Không tìm thấy sản phẩm với mã: \" + decodedText);\r\n                            }\r\n                        } catch (error) {\r\n                            setQrError(\r\n                                \"Không tìm thấy sản phẩm với mã: \" +\r\n                                decodedText +\r\n                                \". Vui lòng thử lại.\"\r\n                            );\r\n                        }\r\n                    },\r\n                    function () {}\r\n                )\r\n                .catch(function () {\r\n                    setScanning(false);\r\n                    setQrError(\"Không thể truy cập camera hoặc camera không khả dụng.\");\r\n                });\r\n        }\r\n        return function () {\r\n            stopped = true;\r\n            cleanupQrCode();\r\n        };\r\n    }, [qrModalOpen, qrReady]);\r\n\r\n    useEffect(function () {\r\n        if (!qrModalOpen) setQrReady(false);\r\n    }, [qrModalOpen]);\r\n\r\n    const handleDialogEntered = useCallback(function () {\r\n        setQrReady(true);\r\n    }, []);\r\n\r\n    const filteredDetails = details.filter(function (item) {\r\n        if (\r\n            filters.trangThai !== \"Tất cả\" &&\r\n            formatStatus(item.trangThai) !== filters.trangThai\r\n        ) {\r\n            return false;\r\n        }\r\n        if (filters.chatLieu !== \"Tất cả\" && item.tenChatLieu !== filters.chatLieu) {\r\n            return false;\r\n        }\r\n        if (\r\n            filters.thuongHieu !== \"Tất cả\" &&\r\n            item.tenThuongHieu !== filters.thuongHieu\r\n        ) {\r\n            return false;\r\n        }\r\n        if (filters.coAo !== \"Tất cả\" && item.tenCoAo !== filters.coAo) {\r\n            return false;\r\n        }\r\n        if (filters.tayAo !== \"Tất cả\" && item.tenTayAo !== filters.tayAo) {\r\n            return false;\r\n        }\r\n        if (filters.mauSac !== \"Tất cả\" && item.tenMauSac !== filters.mauSac) {\r\n            return false;\r\n        }\r\n        if (\r\n            filters.kichCo !== \"Tất cả\" &&\r\n            item.tenKichThuoc !== filters.kichCo\r\n        ) {\r\n            return false;\r\n        }\r\n        if (\r\n            filters.search &&\r\n            !(\r\n                (item.maSanPhamChiTiet &&\r\n                    item.maSanPhamChiTiet\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase())) ||\r\n                (item.tenChatLieu &&\r\n                    item.tenChatLieu\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase())) ||\r\n                (item.tenThuongHieu &&\r\n                    item.tenThuongHieu\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase())) ||\r\n                (item.tenCoAo &&\r\n                    item.tenCoAo\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase())) ||\r\n                (item.tenTayAo &&\r\n                    item.tenTayAo\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase())) ||\r\n                (item.tenMauSac &&\r\n                    item.tenMauSac\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase())) ||\r\n                (item.tenKichThuoc &&\r\n                    item.tenKichThuoc\r\n                        .toLowerCase()\r\n                        .includes(filters.search.toLowerCase()))\r\n            )\r\n        ) {\r\n            return false;\r\n        }\r\n        if (\r\n            Array.isArray(filters.gia) &&\r\n            (item.gia < filters.gia[0] || item.gia > filters.gia[1])\r\n        ) {\r\n            return false;\r\n        }\r\n        return true;\r\n    });\r\n\r\n    const rows = filteredDetails.map(function (item, idx) {\r\n        return {\r\n            checkbox: (\r\n                <input\r\n                    type=\"checkbox\"\r\n                    checked={checkedRow === item.maSanPhamChiTiet}\r\n                    onChange={function () {\r\n                        setCheckedRow(\r\n                            checkedRow === item.maSanPhamChiTiet ? null : item.maSanPhamChiTiet\r\n                        );\r\n                    }}\r\n                />\r\n            ),\r\n            stt: idx + 1,\r\n            maSanPhamChiTiet: item.maSanPhamChiTiet,\r\n            chatLieu: item.tenChatLieu || \"\",\r\n            thuongHieu: item.tenThuongHieu || \"\",\r\n            coAo: item.tenCoAo || \"\",\r\n            tayAo: item.tenTayAo || \"\",\r\n            mauSac: item.tenMauSac || \"\",\r\n            kichCo: item.tenKichThuoc || \"\",\r\n            soLuong: item.soLuong,\r\n            trongLuong: item.trongLuong,\r\n            gia: item.gia,\r\n            trangThai: item.trangThai,\r\n            actions: \"\",\r\n        };\r\n    });\r\n\r\n    function renderFilterSelect(key, options, label) {\r\n        return (\r\n            <FormControl fullWidth size=\"small\" sx={{ minWidth: 120 }}>\r\n                <Typography fontSize={13} fontWeight=\"bold\" mb={0.5} color=\"#324052\">\r\n                    {label}\r\n                </Typography>\r\n                <Select\r\n                    value={filters[key]}\r\n                    onChange={function (e) {\r\n                        setFilters(function (f) {\r\n                            return { ...f, [key]: e.target.value };\r\n                        });\r\n                    }}\r\n                    displayEmpty\r\n                    sx={{\r\n                        borderRadius: 2,\r\n                        background: \"#f5f6fa\",\r\n                        height: 42,\r\n                        fontWeight: 500,\r\n                    }}\r\n                    inputProps={{ \"aria-label\": key }}\r\n                    MenuProps={{\r\n                        PaperProps: { sx: { borderRadius: 2, mt: 1 } },\r\n                    }}\r\n                >\r\n                    <MenuItem value=\"Tất cả\" sx={{ fontWeight: 500 }}>\r\n                        Tất cả {label.toLowerCase()}\r\n                    </MenuItem>\r\n                    {options.map(function (opt) {\r\n                        return (\r\n                            <MenuItem\r\n                                key={opt.id || opt.value || opt}\r\n                                value={\r\n                                    opt.tenChatLieu ||\r\n                                    opt.tenThuongHieu ||\r\n                                    opt.tenCoAo ||\r\n                                    opt.tenTayAo ||\r\n                                    opt.tenMauSac ||\r\n                                    opt.tenKichThuoc ||\r\n                                    opt\r\n                                }\r\n                                sx={{ fontWeight: 500 }}\r\n                            >\r\n                                {opt.tenChatLieu ||\r\n                                    opt.tenThuongHieu ||\r\n                                    opt.tenCoAo ||\r\n                                    opt.tenTayAo ||\r\n                                    opt.tenMauSac ||\r\n                                    opt.tenKichThuoc ||\r\n                                    opt}\r\n                            </MenuItem>\r\n                        );\r\n                    })}\r\n                </Select>\r\n            </FormControl>\r\n        );\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            name: \"checkbox\",\r\n            label: (\r\n                <input type=\"checkbox\" readOnly style={{ pointerEvents: \"none\" }} />\r\n            ),\r\n            align: \"center\",\r\n            width: \"40px\",\r\n        },\r\n        { name: \"stt\", label: \"STT\", align: \"center\", width: \"60px\" },\r\n        {\r\n            name: \"maSanPhamChiTiet\",\r\n            label: \"Mã sản phẩm\",\r\n            align: \"left\",\r\n            width: \"160px\",\r\n            render: function (value) {\r\n                return (\r\n                    <Tooltip title={value}>\r\n                        <Typography\r\n                            fontWeight={500}\r\n                            sx={{\r\n                                whiteSpace: \"nowrap\",\r\n                                overflow: \"hidden\",\r\n                                textOverflow: \"ellipsis\",\r\n                                maxWidth: 120,\r\n                            }}\r\n                        >\r\n                            {value}\r\n                        </Typography>\r\n                    </Tooltip>\r\n                );\r\n            },\r\n        },\r\n        { name: \"chatLieu\", label: \"Chất liệu\", align: \"center\", width: \"110px\" },\r\n        {\r\n            name: \"thuongHieu\",\r\n            label: \"Thương hiệu\",\r\n            align: \"center\",\r\n            width: \"130px\",\r\n        },\r\n        { name: \"coAo\", label: \"Cổ áo\", align: \"center\", width: \"100px\" },\r\n        { name: \"tayAo\", label: \"Tay áo\", align: \"center\", width: \"100px\" },\r\n        { name: \"mauSac\", label: \"Màu sắc\", align: \"center\", width: \"100px\" },\r\n        { name: \"kichCo\", label: \"Kích cỡ\", align: \"center\", width: \"80px\" },\r\n        { name: \"soLuong\", label: \"Số lượng\", align: \"center\", width: \"90px\" },\r\n        {\r\n            name: \"trongLuong\",\r\n            label: \"Trọng lượng\",\r\n            align: \"center\",\r\n            width: \"100px\",\r\n        },\r\n        {\r\n            name: \"gia\",\r\n            label: \"Giá\",\r\n            align: \"right\",\r\n            width: \"120px\",\r\n            render: function (value) {\r\n                return (\r\n                    <Chip\r\n                        label={formatPrice(value)}\r\n                        color=\"info\"\r\n                        sx={{\r\n                            fontWeight: 700,\r\n                            fontSize: 15,\r\n                            background: \"#e3f2fd\",\r\n                            borderRadius: 2,\r\n                        }}\r\n                    />\r\n                );\r\n            },\r\n        },\r\n        {\r\n            name: \"trangThai\",\r\n            label: \"Trạng thái\",\r\n            align: \"center\",\r\n            width: \"110px\",\r\n            render: function (value) {\r\n                return (\r\n                    <Chip\r\n                        label={formatStatus(value)}\r\n                        icon={\r\n                            formatStatus(value) === \"Đang bán\" ? (\r\n                                <FaCheckCircle style={{ color: \"#219653\" }} />\r\n                            ) : undefined\r\n                        }\r\n                        sx={{\r\n                            background:\r\n                                formatStatus(value) === \"Đang bán\" ? \"#e6f4ea\" : \"#f4f6fb\",\r\n                            color:\r\n                                formatStatus(value) === \"Đang bán\"\r\n                                    ? \"#219653\"\r\n                                    : \"#bdbdbd\",\r\n                            border:\r\n                                \"1px solid \" +\r\n                                (formatStatus(value) === \"Đang bán\"\r\n                                    ? \"#219653\"\r\n                                    : \"#bdbdbd\"),\r\n                            fontWeight: 500,\r\n                            borderRadius: 2,\r\n                            fontSize: 14,\r\n                            height: 28,\r\n                        }}\r\n                    />\r\n                );\r\n            },\r\n        },\r\n        {\r\n            name: \"actions\",\r\n            label: \"\",\r\n            align: \"center\",\r\n            width: \"120px\",\r\n            render: function (_value, row) {\r\n                return (\r\n                    <SoftBox display=\"flex\" gap={0.5} justifyContent=\"center\">\r\n                        <Tooltip title=\"Sửa\">\r\n                            <IconButton\r\n                                size=\"small\"\r\n                                sx={{ color: \"#4acbf2\" }}\r\n                                onClick={function () {\r\n                                    handleEdit(\r\n                                        details.find(function (d) {\r\n                                            return (\r\n                                                d.maSanPhamChiTiet ===\r\n                                                row.maSanPhamChiTiet\r\n                                            );\r\n                                        })\r\n                                    );\r\n                                }}\r\n                            >\r\n                                <FaEdit />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        <Tooltip title=\"Thêm mới sản phẩm chi tiết\">\r\n                            <IconButton\r\n                                size=\"small\"\r\n                                sx={{ color: \"#43e97b\" }}\r\n                                onClick={function () {\r\n                                    navigate(\"/SanPham/ThemMoi\");\r\n                                }}\r\n                            >\r\n                                <FaPlus />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </SoftBox>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <DashboardNavbar />\r\n            <SoftBox\r\n                py={3}\r\n                sx={{ background: \"#F4F6FB\", minHeight: \"100vh\", userSelect: \"none\" }}\r\n            >\r\n                <Card sx={{ p: { xs: 2, md: 3 }, mb: 3, borderRadius: 4, boxShadow: 8 }}>\r\n                    <Typography fontWeight=\"bold\" fontSize={22} color=\"#1976d2\" mb={2}>\r\n                        Bộ lọc sản phẩm chi tiết\r\n                    </Typography>\r\n                    <Grid container spacing={2} alignItems=\"center\">\r\n                        <Grid item xs={12} md={2}>\r\n                            <Typography\r\n                                fontSize={13}\r\n                                fontWeight=\"bold\"\r\n                                mb={0.5}\r\n                                color=\"#324052\"\r\n                            >\r\n                                Trạng thái\r\n                            </Typography>\r\n                            <FormControl fullWidth size=\"small\" sx={{ minWidth: 120 }}>\r\n                                <Select\r\n                                    value={filters.trangThai}\r\n                                    onChange={function (e) {\r\n                                        setFilters(function (f) {\r\n                                            return {\r\n                                                ...f,\r\n                                                trangThai: e.target.value,\r\n                                            };\r\n                                        });\r\n                                    }}\r\n                                    displayEmpty\r\n                                    sx={{\r\n                                        borderRadius: 2,\r\n                                        background: \"#f5f6fa\",\r\n                                        height: 42,\r\n                                        fontWeight: 500,\r\n                                    }}\r\n                                    inputProps={{ \"aria-label\": \"trangThai\" }}\r\n                                >\r\n                                    {trangThaiList.map(function (s) {\r\n                                        return (\r\n                                            <MenuItem key={s} value={s} sx={{ fontWeight: 500 }}>\r\n                                                {s}\r\n                                            </MenuItem>\r\n                                        );\r\n                                    })}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            {renderFilterSelect(\"chatLieu\", filterOptions.chatLieu, \"Chất liệu\")}\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            {renderFilterSelect(\r\n                                \"thuongHieu\",\r\n                                filterOptions.thuongHieu,\r\n                                \"Thương hiệu\"\r\n                            )}\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            {renderFilterSelect(\"coAo\", filterOptions.coAo, \"Cổ áo\")}\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            {renderFilterSelect(\"tayAo\", filterOptions.tayAo, \"Tay áo\")}\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            {renderFilterSelect(\"mauSac\", filterOptions.mauSac, \"Màu sắc\")}\r\n                        </Grid>\r\n                        <Grid item xs={12} md={2}>\r\n                            {renderFilterSelect(\"kichCo\", filterOptions.kichCo, \"Kích cỡ\")}\r\n                        </Grid>\r\n                        <Grid item xs={12} md={4}>\r\n                            <SoftBox pl={2} pr={2}>\r\n                                <Typography fontSize={14} fontWeight=\"bold\" mb={0.5}>\r\n                                    Giá\r\n                                </Typography>\r\n                                <Slider\r\n                                    value={filters.gia}\r\n                                    min={giaRange[0]}\r\n                                    max={giaRange[1]}\r\n                                    step={1000}\r\n                                    onChange={function (_event, value) {\r\n                                        setFilters(function (f) {\r\n                                            return { ...f, gia: value };\r\n                                        });\r\n                                    }}\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    sx={{\r\n                                        color: \"#1976d2\",\r\n                                        \"& .MuiSlider-thumb\": { borderRadius: \"10px\" },\r\n                                    }}\r\n                                />\r\n                                <Box display=\"flex\" justifyContent=\"space-between\" mt={-1}>\r\n                                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                        {formatPrice(giaRange[0])}\r\n                                    </Typography>\r\n                                    <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                        {formatPrice(giaRange[1])}\r\n                                    </Typography>\r\n                                </Box>\r\n                            </SoftBox>\r\n                        </Grid>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            md={6}\r\n                            sx={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"flex-end\",\r\n                            }}\r\n                        >\r\n                            <SoftBox display=\"flex\" gap={1} alignItems=\"center\" mt={1}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"info\"\r\n                                    startIcon={<FaSync />}\r\n                                    sx={{\r\n                                        borderRadius: 3,\r\n                                        fontWeight: 500,\r\n                                        px: 2,\r\n                                        background: \"#49a3f1\",\r\n                                    }}\r\n                                    onClick={function () {\r\n                                        setFilters({ ...defaultFilter, gia: giaRange });\r\n                                    }}\r\n                                >\r\n                                    Đặt lại\r\n                                </Button>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"success\"\r\n                                    startIcon={<FaPlus />}\r\n                                    sx={{\r\n                                        borderRadius: 3,\r\n                                        fontWeight: 500,\r\n                                        px: 2,\r\n                                        background: \"#43e97b\",\r\n                                        color: \"#fff\",\r\n                                    }}\r\n                                    onClick={function () {\r\n                                        navigate(\"/SanPham/ThemMoi\");\r\n                                    }}\r\n                                >\r\n                                    Thêm\r\n                                </Button>\r\n                                <Tooltip title=\"Quét mã QR\">\r\n                                    <IconButton\r\n                                        sx={{ bgcolor: \"#ede7f6\", color: \"#4acbf2\" }}\r\n                                        onClick={function () {\r\n                                            setQrModalOpen(true);\r\n                                        }}\r\n                                    >\r\n                                        <FaQrcode />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Xem nhanh\">\r\n                                    <span>\r\n                                        <IconButton\r\n                                            sx={{ bgcolor: \"#ede7f6\", color: \"#4acbf2\" }}\r\n                                            onClick={function () {\r\n                                                const row = details.find(function (d) {\r\n                                                    return d.maSanPhamChiTiet === checkedRow;\r\n                                                });\r\n                                                if (row) {\r\n                                                    setSelectedInfoDetail(row);\r\n                                                    setInfoModalOpen(true);\r\n                                                }\r\n                                            }}\r\n                                            disabled={!checkedRow}\r\n                                        >\r\n                                            <FaEye />\r\n                                        </IconButton>\r\n                                    </span>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Xuất Excel\">\r\n                                    <IconButton sx={{ bgcolor: \"#ede7f6\", color: \"#4acbf2\" }}>\r\n                                        <FaFileExcel />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                                <Tooltip title=\"Xuất PDF\">\r\n                                    <IconButton sx={{ bgcolor: \"#ede7f6\", color: \"#4acbf2\" }}>\r\n                                        <FaFilePdf />\r\n                                    </IconButton>\r\n                                </Tooltip>\r\n                            </SoftBox>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Card>\r\n                <Card sx={{ p: { xs: 2, md: 3 }, mb: 2, borderRadius: 4, boxShadow: 8 }}>\r\n                    <Box\r\n                        display=\"flex\"\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"space-between\"\r\n                        mb={2}\r\n                    >\r\n                        <Box>\r\n                            <Typography fontWeight=\"bold\" fontSize={20} color=\"#1769aa\">\r\n                                Danh sách sản phẩm chi tiết{\" \"}\r\n                                {product ? (\r\n                                    <span style={{ color: \"#009688\" }}>\r\n                                        - {product.tenSanPham}\r\n                                    </span>\r\n                                ) : (\r\n                                    \"\"\r\n                                )}\r\n                            </Typography>\r\n                            <Typography color=\"text.secondary\" fontSize={15}>\r\n                                Hiển thị danh sách chi tiết{\" \"}\r\n                                {product ? product.tenSanPham : \"\"}\r\n                            </Typography>\r\n                        </Box>\r\n                        <Box>\r\n                            <Chip\r\n                                label={\"Tổng: \" + rows.length}\r\n                                color=\"primary\"\r\n                                variant=\"outlined\"\r\n                                sx={{ fontWeight: 500, fontSize: 15, height: 32 }}\r\n                            />\r\n                        </Box>\r\n                    </Box>\r\n                    <Table columns={columns} rows={rows} loading={loading} />\r\n                </Card>\r\n                <ProductDetailUpdateModal\r\n                    open={openUpdateModal}\r\n                    onClose={handleCloseModal}\r\n                    onUpdate={handleUpdateDetail}\r\n                    detail={selectedDetail}\r\n                    filterOptions={filterOptions}\r\n                />\r\n                <ProductDetailInfoModal\r\n                    open={infoModalOpen}\r\n                    onClose={function () {\r\n                        setInfoModalOpen(false);\r\n                    }}\r\n                    detail={selectedInfoDetail}\r\n                />\r\n                <Dialog\r\n                    open={qrModalOpen}\r\n                    onClose={function () {\r\n                        setQrModalOpen(false);\r\n                    }}\r\n                    maxWidth=\"sm\"\r\n                    fullWidth\r\n                    PaperProps={{ sx: { borderRadius: 4 } }}\r\n                    TransitionProps={{ onEntered: handleDialogEntered }}\r\n                >\r\n                    <DialogTitle sx={{ fontWeight: 700, fontSize: 22, color: \"#1976d2\" }}>\r\n                        Quét mã QR sản phẩm chi tiết\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <div\r\n                            id=\"qr-reader\"\r\n                            ref={qrRef}\r\n                            style={{\r\n                                width: \"100%\",\r\n                                minHeight: 300,\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                                background: \"#f7fafd\",\r\n                                borderRadius: 8,\r\n                                marginBottom: 16,\r\n                            }}\r\n                        />\r\n                        {qrError && (\r\n                            <Typography color=\"error\" mt={2} textAlign=\"center\">\r\n                                {qrError}\r\n                            </Typography>\r\n                        )}\r\n                        {scanning && (\r\n                            <Typography color=\"info\" mt={2} textAlign=\"center\">\r\n                                Đang quét mã QR, vui lòng đưa mã vào khung...\r\n                            </Typography>\r\n                        )}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                            onClick={function () {\r\n                                setQrModalOpen(false);\r\n                            }}\r\n                            variant=\"outlined\"\r\n                        >\r\n                            Đóng\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </SoftBox>\r\n            <Footer />\r\n        </DashboardLayout>\r\n    );\r\n}\r\n\r\nexport default ProductDetailTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}