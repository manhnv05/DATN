{"ast":null,"code":"export async function fetchKhachHang(page, size, search) {\n  try {\n    const params = new URLSearchParams();\n    params.append(\"page\", page);\n    params.append(\"size\", size);\n    if (search && search.trim() !== \"\") {\n      params.append(\"tenKhachHang\", search.trim());\n    }\n    const response = await fetch(`http://localhost:8080/khachHang?${params.toString()}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(\"Lỗi không load được khách hàng\");\n    }\n    const data = await response.json();\n\n    // Đảm bảo trả về object có thuộc tính 'data' với 'content'\n    return {\n      data: {\n        content: data.content || [],\n        totalPages: data.totalPages || 0,\n        number: data.number || 0,\n        first: typeof data.first === 'boolean' ? data.first : true,\n        last: typeof data.last === 'boolean' ? data.last : true\n      }\n    };\n  } catch (error) {\n    console.error(\"Lỗi không load được khách hàng\", error);\n    // Đảm bảo trả về đúng cấu trúc cho UI, tránh lỗi undefined\n    return {\n      data: {\n        content: [],\n        totalPages: 0,\n        number: 0,\n        first: true,\n        last: true\n      }\n    };\n  }\n}","map":{"version":3,"names":["fetchKhachHang","page","size","search","params","URLSearchParams","append","trim","response","fetch","toString","method","headers","ok","Error","data","json","content","totalPages","number","first","last","error","console"],"sources":["D:/fashion-shirt-shop/DATN/src/main/resources/templates/fashionshop-ui/src/layouts/phieugiamgia/service/KhachHangService.js"],"sourcesContent":["export async function fetchKhachHang(page, size, search) {\r\n    try {\r\n        const params = new URLSearchParams();\r\n        params.append(\"page\", page);\r\n        params.append(\"size\", size);\r\n        if (search && search.trim() !== \"\") {\r\n            params.append(\"tenKhachHang\", search.trim());\r\n        }\r\n\r\n        const response = await fetch(`http://localhost:8080/khachHang?${params.toString()}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(\"Lỗi không load được khách hàng\");\r\n        }\r\n        const data = await response.json();\r\n\r\n        // Đảm bảo trả về object có thuộc tính 'data' với 'content'\r\n        return {\r\n            data: {\r\n                content: data.content || [],\r\n                totalPages: data.totalPages || 0,\r\n                number: data.number || 0,\r\n                first: typeof data.first === 'boolean' ? data.first : true,\r\n                last: typeof data.last === 'boolean' ? data.last : true,\r\n            }\r\n        };\r\n    } catch (error) {\r\n        console.error(\"Lỗi không load được khách hàng\", error);\r\n        // Đảm bảo trả về đúng cấu trúc cho UI, tránh lỗi undefined\r\n        return {\r\n            data: {\r\n                content: [],\r\n                totalPages: 0,\r\n                number: 0,\r\n                first: true,\r\n                last: true,\r\n            }\r\n        };\r\n    }\r\n}"],"mappings":"AAAA,OAAO,eAAeA,cAAcA,CAACC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAE;EACrD,IAAI;IACA,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpCD,MAAM,CAACE,MAAM,CAAC,MAAM,EAAEL,IAAI,CAAC;IAC3BG,MAAM,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;IAC3B,IAAIC,MAAM,IAAIA,MAAM,CAACI,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAChCH,MAAM,CAACE,MAAM,CAAC,cAAc,EAAEH,MAAM,CAACI,IAAI,CAAC,CAAC,CAAC;IAChD;IAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmCL,MAAM,CAACM,QAAQ,CAAC,CAAC,EAAE,EAAE;MACjFC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,IAAI,CAACJ,QAAQ,CAACK,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;IACrD;IACA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;;IAElC;IACA,OAAO;MACHD,IAAI,EAAE;QACFE,OAAO,EAAEF,IAAI,CAACE,OAAO,IAAI,EAAE;QAC3BC,UAAU,EAAEH,IAAI,CAACG,UAAU,IAAI,CAAC;QAChCC,MAAM,EAAEJ,IAAI,CAACI,MAAM,IAAI,CAAC;QACxBC,KAAK,EAAE,OAAOL,IAAI,CAACK,KAAK,KAAK,SAAS,GAAGL,IAAI,CAACK,KAAK,GAAG,IAAI;QAC1DC,IAAI,EAAE,OAAON,IAAI,CAACM,IAAI,KAAK,SAAS,GAAGN,IAAI,CAACM,IAAI,GAAG;MACvD;IACJ,CAAC;EACL,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD;IACA,OAAO;MACHP,IAAI,EAAE;QACFE,OAAO,EAAE,EAAE;QACXC,UAAU,EAAE,CAAC;QACbC,MAAM,EAAE,CAAC;QACTC,KAAK,EAAE,IAAI;QACXC,IAAI,EAAE;MACV;IACJ,CAAC;EACL;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}